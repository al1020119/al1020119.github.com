
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>iOS9+Xcode7æ€»ç»“ - iOSæ¢¦å·¥å‚</title>
  <meta name="author" content="iCocos">

  
  <meta name="description" content="iCocosåšå®¢">
  <meta name="keywords" content="iCocos, iOSå¼€å‘, åšå®¢, æŠ€æœ¯åˆ†æ, æ–‡ç« , å­¦ä¹ , æ›¹é», æ›¹ç†é¹">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://al1020119.github.io/blog/2015/12/20/ios9-plus-xcodezong-jie/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="iOSæ¢¦å·¥å‚" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//libs.baidu.com/jquery/1.7.2/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->

<!--<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
-->
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">iOSæ¢¦å·¥å‚</a></h1>
  
    <h2>iCocosâ€”â€”ä¸æˆ˜èƒœè‡ªå·±ï¼Œä½•ä»¥æ”¹å˜æœªæ¥ï¼</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="al1020119.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">åšæ–‡</a></li>
  <li><a href="/blog/archives">å½’æ¡£</a></li>
  <li><a href="/icocos">iCocos</a></li>
  <li><a href="/about">æ–‡ç« </a></li>
  <li><a href="/other">å…¶ä»–</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">iOS9+Xcode7æ€»ç»“</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-12-20T23:56:09+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>20</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>11:56 pm</span></time>
        
        
        |   <a href="#comments">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>åˆšæ›´æ–°äº†Xcode 9 beat 2ï¼Œè¿è¡Œäº†ä¹‹å‰çš„å·¥ç¨‹ï¼Œå‘ç°äº†ä¸€äº›é—®é¢˜ï¼Œå°±é’ˆå¯¹æ€§çš„åšäº†ä¸€ä¸‹iOS9çš„é€‚é…ã€‚</p>

<h4>1ï¼Œé»˜è®¤ä½¿ç”¨HTTPSè¯·æ±‚</h4>

<p>å¦‚æœåœ¨Xcode 9ä¹‹å‰ä½¿ç”¨çš„æ—¶httpè¯·æ±‚ï¼Œé‚£ä¹ˆåœ¨XCode 9ä¸Šç¼–è¯‘çš„Appæ˜¯ä¸èƒ½è”ç½‘çš„ï¼Œä¼šæç¤ºå¦‚ä¸‹é”™è¯¯:</p>

<pre><code>App Transport Security has blocked a cleartext HTTP (http://) resource load since it is insecure. Temporary exceptions can be configured via your app's Info.plist file.
</code></pre>

<p>ä¿®æ”¹æ–¹æ³•æ˜¯è¦ä¹ˆä½¿æœåŠ¡å™¨æ”¯æŒhttpsè®¿é—®ï¼Œè¦ä¹ˆå…³é—­httpsçš„ä½¿ç”¨ã€‚ç¬¬ä¸€ç§æ–¹æ³•å¯¹äºä¸ªäººå¼€å‘è€…æ¥è¯´ä»£ä»·è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œå› æ­¤æ¨èä½¿ç”¨åé¢ä¸€ç§æ–¹æ³•ï¼Œå…·ä½“çš„åšæ³•æ˜¯:åœ¨å·¥ç¨‹çš„Info.plistæ–‡ä»¶é‡Œæ·»åŠ NSAppTransportSecurityå­—å…¸ç±»å‹çš„ï¼Œæ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼škeyä¸ºNSAllowsArbitraryLoadsï¼Œå€¼ä¸ºYESã€‚</p>

<p>Appleä»‹ç»äº†iOS9ä¸­çš„App Transport Securityï¼Œå®ƒè¦æ±‚æ‰€æœ‰Appåœ¨é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨HTTPSæ¥è¿›è¡Œç½‘ç»œè¯·æ±‚ã€‚ç”±äºä¸æ˜¯æ‰€æœ‰çš„æœåŠ¡å™¨éƒ½è¿è¡Œåœ¨HTTPSç¯å¢ƒä¸‹ï¼ŒAppleä¹Ÿæä¾›äº†ç›¸å…³çš„æ–¹æ³•æ¥ç¦ç”¨ATSã€‚</p>

<ul>
<li>æœ€åï¼šå‡ºäºæ•°æ®å®‰å…¨è€ƒè™‘ï¼Œåœ¨å®Œå…¨ç¦ç”¨ATSçš„æƒ…å†µä¸‹ï¼Œä½ ä¹Ÿåº”è¯¥ä¸ºæŸäº›é‡è¦çš„ç«™ç‚¹æ‰“å¼€ATSã€‚ä½ å¯ä»¥é€šè¿‡NSExceptionDomainskeyæ¥ç¦ç”¨/å¯ç”¨ç‰¹å®šçš„ç«™ç‚¹çš„ATSã€‚å‚ç…§å¦‚ä¸‹å›¾ç‰‡:</li>
</ul>


<p><img src="/images/ats001.png" title="Caption" ></p>

<ul>
<li>è¯¥plistæ–‡ä»¶å…è®¸ç”¨æˆ·åœ¨HTTPç¯å¢ƒä¸‹ä¸‹è½½æ–‡ä»¶ï¼Œä½†æ˜¯åªèƒ½åœ¨HTTPSæƒ…å†µä¸‹è®¿é—®"workflow.is"</li>
</ul>


<p>éœ€è¦æé†’çš„æ˜¯ï¼ŒATSçš„è®¾ç½®åªé’ˆå¯¹å½“å‰bundleã€‚è¿™æ„å‘³ç€ä½ ä¸ä»…éœ€è¦åœ¨ä½ ä¸»é¡¹ç›®çš„info.plistä¸­æ·»åŠ ATSç›¸å…³çš„Key,åŒæ—¶ä¹Ÿéœ€è¦åœ¨å…¶ä»–bundleä¸‹çš„info.plistä¸­æ·»åŠ ç›¸å…³é…ç½®ã€‚</p>

<blockquote><p>å…³äºiOS9çš„é€‚é…ï¼Œgithubä¸Šæœ‰ä¸€ä¸ªä¸­æ–‡é¡¹ç›®iOS9AdaptationTipså¯ä»¥æä¾›å¾ˆå¤§çš„å¸®åŠ©ã€‚</p></blockquote>

<h4>2ï¼ŒiOS 9ä½¿ç”¨URL schemeå¿…é¡»å°†å…¶åŠ å…¥ç™½åå•</h4>

<p>å¦åˆ™ä¼šæç¤ºç±»ä¼¼å¦‚ä¸‹é”™è¯¯:</p>

<!--more-->


<pre><code>    canOpenURL: failed for URL: "mqqopensdkapiV2://qqapp" - error: "This app is not allowed to query for scheme mqqopensdkapiV2â€
</code></pre>

<p>ä¿®æ­£æ–¹æ³•æ˜¯ï¼ŒInfo.plistæ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªkeyä¸ºLSApplicationQueriesSchemesçš„æ•°ç»„å€¼ï¼Œé‡Œé¢åŒ…å«éœ€è¦æ·»åŠ ç™½åå•çš„stringç±»å‹çš„schemeã€‚ç‰¹é…·å§åœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†qqï¼Œå¾®ä¿¡ç­‰åˆ†äº«ç™»å½•åŠŸèƒ½ï¼Œéœ€è¦æ·»åŠ çš„å€¼ä¸ºï¼š</p>

<ul>
<li>mqqopensdkapiV2</li>
<li>mqqOpensdkSSoLogin</li>
<li>mqq</li>
<li>mqzoneopensdkapiV2</li>
<li>mqzoneopensdkapi19</li>
<li>mqzoneopensdkapi</li>
<li>mqzoneopensdk</li>
<li>mqzone</li>
<li>weixin</li>
<li>wechat
æ›´å¤šå…¶ä»–é€‚é…ç‚¹åç»­ä¸æ–­è·Ÿè¿›ã€‚</li>
</ul>


<h4>3ï¼Œbitcode</h4>

<p>ä½¿ç”¨Xcode7ç¼–è¯‘æç¤ºï¼š</p>

<pre><code>XXX does not contain bitcode. You must rebuild it with bitcode enabled (Xcode setting ENABLE_BITCODE), obtain an updated library from the vendor, or disable bitcode for this target. for architecture arm64
</code></pre>

<p>bitcodeæ˜¯è¢«ç¼–è¯‘ç¨‹åºçš„ä¸€ç§ä¸­é—´å½¢å¼çš„ä»£ç ã€‚åŒ…å«bitcodeé…ç½®çš„ç¨‹åºå°†ä¼šåœ¨App storeä¸Šè¢«ç¼–è¯‘å’Œé“¾æ¥ã€‚bitcodeå…è®¸è‹¹æœåœ¨åæœŸé‡æ–°ä¼˜åŒ–æˆ‘ä»¬ç¨‹åºçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè€Œä¸éœ€è¦æˆ‘ä»¬é‡æ–°æäº¤ä¸€ä¸ªæ–°çš„ç‰ˆæœ¬åˆ°App storeä¸Šã€‚
Xcode7 é»˜è®¤å¼€å¯äº†bitcodeï¼Œå¦‚æœAppä½¿ç”¨çš„ç¬¬ä¸‰æ–¹ç±»åº“ä¸æ”¯æŒbitcodeä¼šæç¤ºé”™è¯¯ï¼Œåªéœ€è¦åœ¨â€Build Settingsâ€->â€Enable Bitcodeâ€é€‰é¡¹ä¸­çœ‹å…³é—­bitcodeå³å¯ã€‚</p>

<blockquote><p>å¼€å¯Bitcodeç¼–è¯‘åï¼Œç¼–è¯‘äº§ç”Ÿçš„æ–‡ä»¶ä½“ç§¯ä¼šå˜å¤§ (å› ä¸ºæ˜¯ä¸­é—´ä»£ç ï¼Œä¸æ˜¯ç”¨æˆ·ä¸‹è½½çš„åŒ…)ï¼Œä¸”dSYMæ–‡ä»¶ä¸èƒ½ç”¨æ¥å´©æºƒæ—¥å¿—çš„ç¬¦å·åŒ– (ç”¨æˆ·ä¸‹è½½çš„åŒ…æ˜¯AppleæœåŠ¡é‡æ–°ç¼–è¯‘äº§ç”Ÿçš„ï¼Œæœ‰äº§ç”Ÿæ–°çš„ç¬¦å·æ–‡ä»¶)ã€‚é€šè¿‡Archiveæ–¹å¼ä¸Šä¼ AppStoreçš„åŒ…ï¼Œå¯ä»¥åœ¨ Xcodeçš„Organizerå·¥å…·ä¸­ä¸‹è½½å¯¹åº”å®‰è£…åŒ…çš„æ–°çš„ç¬¦å·æ–‡ä»¶ã€‚
è½¬è½½è¯·æ³¨æ˜æ¥è‡ªç‰¹é…·å§,æœ¬æ–‡åœ°å€:www.tekuba.net/program/364/
Â 
Â </p>

<h4>4ï¼Œä½¿ç”¨XCode7é“¾æ¥ç¬¬ä¸‰æ–¹åº“æç¤ºwarning</h4>

<pre><code>Lots of warnings when building with Xcode 7 with 3rd party libraries
warning: Could not resolve external type c:objc(cs)NSString
warning: Could not resolve external type c:objc(cs)NSDictionary
warning: Could not resolve external type c:objc(cs)NSMutableString
warning: Could not resolve external type c:objc(cs)NSError
</code></pre>

<p><a href="https://forums.developer.apple.com/thread/17921">https://forums.developer.apple.com/thread/17921</a>
ç›®å‰æ²¡å‘ç°å¥½çš„è§£å†³åŠæ³•ï¼Œå¯ä»¥å°è¯•å¦‚ä¸‹:
I had this problem too. Â Here&rsquo;s how I fixed it.</p></blockquote>

<ul>
<li>1) Â Go to Build Settings -> Build Options -> Debug Information Format</li>
<li>2) Â Change the Debug setting from &ldquo;DWARF with dSYM File&rdquo; to &ldquo;DWARF&rdquo;</li>
<li>3) Â Leave the Release setting at &ldquo;DWARF with dSYM File&rdquo;</li>
</ul>


<p>The problem appears to be that Xcode was trying to create dSYM files for Debug builds. Â You don&rsquo;t need dSYM files for Debug builds &ndash; it&rsquo;s release builds where you need them.Â </p>

<hr />

<h6>æ—¢ç„¶æåˆ°äº†Xcode7ï¼Œé‚£ä¹ˆXcode7ä¸­ä¹Ÿæœ‰å‡ ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼ˆXcode7æ˜¯éšç€ios9ä¸€èµ·å‡ºæ¥çš„ï¼Œå…¶å®ä¹Ÿå°±æ˜¯ios9çš„æ–°ç‰¹æ€§ï¼Œåªæ˜¯ä¸æ˜¯sdkï¼‰ï¼Œ</h6>

<p>å‡çº§åˆ°XCode7ä¹‹åï¼Œç¼–è¯‘å’Œä¸Šä¼ åˆ°itunes connectä¸­é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼ˆç‰¹é…·å§XCodeç‰ˆæœ¬7.0.1ï¼‰ï¼Œåœ¨è¿™é‡Œæ€»ç»“ä¸‹ï¼š</p>

<h4>1ï¼Œwas built for newer iOS version (9.0) than being linked (7.0)</h4>

<p>è§£å†³æ–¹æ³•å‚è€ƒï¼š<a href="http://qaseeker.com/32270491-xcode-7-warning-was-built-for-newer-ios-version-5-1-1-than-being-linked-5-1/">http://qaseeker.com/32270491-xcode-7-warning-was-built-for-newer-ios-version-5-1-1-than-being-linked-5-1/</a></p>

<pre><code>the -w flag can be added to Build Settings -&gt; Other Linker Flags
</code></pre>

<h4>2ï¼ŒCould not resolve external type c:objc(cs)</h4>

<p>è§£å†³æ–¹æ³•å‚è€ƒï¼š</p>

<pre><code>https://community.pushwoosh.com/questions/2774/lot-of-warnings-with-xcode-70-and-pushwoosh-304
</code></pre>

<p>It looks like a bug of XCode 7. See the discussion here:</p>

<pre><code>https://forums.developer.apple.com/thread/17921
</code></pre>

<hr />

<pre><code>To get rid of this warning you need to change debug information from "DWARF + dSYM" to DWARF.
DWARF seems to be the default setting for new projects created in Xcode 7, but existing projects that are migrating to Xcode 7 probably still have DWARF with dSYM File as the setting.
</code></pre>

<p>ç‰¹é…·å§äº²æµ‹å‘ç°ä½¿ç”¨XCode7æ–°å»ºå·¥ç¨‹çš„æ—¶å€™ï¼ŒDebugæ¨¡å¼é»˜è®¤é€‰æ‹©äº†DWARFã€‚</p>

<h4>3ï¼Œ"The resulting API analysis file is too large. We were unable to validate your API usage prior to delivery</h4>

<p><a href="https://forums.developer.apple.com/thread/18493">https://forums.developer.apple.com/thread/18493</a>
å»ºè®®å¤„ç†</p>

<ul>
<li>1ï¼Œexport IPA file (after you select Archive from within xCode)</li>
<li>2ï¼ŒUse Application Loader to upload</li>
<li>3ï¼Œde-select Bitcode and Symbols</li>
</ul>


<p>ä¼¼ä¹ç›®å‰å¯¹bitcodeçš„æ”¯æŒè¿˜ä¸æ˜¯å¾ˆå¥½ï¼Œå»ºè®®å…³é—­ã€‚å†ä¸Šä¼ ã€‚</p>

<h4>4.æœ€åå°±æ˜¯å’Œswiftç›¸å…³çš„ã€‚</h4>

<p>å¦‚æœä½¿ç”¨äº†æ··ç¼–æŠ€æœ¯ï¼Œä¹Ÿå°±æ˜¯è¯´é‡Œé¢æ¶‰åŠåˆ°äº†swiftä»£ç ï¼Œå®ç°äº†æ¡¥æ¥ï¼Œé‚£ä¹ˆç³»ç»Ÿä¼šå¶å°”å‡ºç°å´©æºƒçš„ç°è±¡ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦ä¿®æ”¹ä¸€ä¸ªå±æ€§</p>

<ul>
<li>1ï¼šé€‰ä¸­é¡¹ç›®</li>
<li>2ï¼šé€‰ä¸­targetï¼Œåœ¨build Settingä¸­æœç´¢swift</li>
<li><p>3ï¼šåœ¨å‡ºç°çš„embedded content contains swift codeé€‰ä¸­å¯¹åº”çš„å€¼</p>

<ul>
<li>ä½¿ç”¨äº†swiftå°±æ˜¯YES</li>
<li>æ²¡æœ‰swiftå°±æ˜¯NO</li>
</ul>
</li>
</ul>


<h4>5.UILayoutGuideä¸NSLayoutGuide</h4>

<p>åœ¨iOS 9.0å’Œ OS X 10.11ä¸­ï¼Œåˆ†åˆ«æœ‰ä¸¤ä¸ªæ–°çš„ç±»ï¼šUILayoutGuide å’Œ NSLayoutGuideã€‚ä»–ä»¬å¯ä»¥ä½œä¸ºä¸€ç§ç±»ä¼¼Viewçš„å¯¹è±¡ï¼Œå‚ä¸åˆ°AutoLayoutçš„å¸ƒå±€çº¦æŸä¸­ã€‚ä½œä¸ºä¸€ç§æ–°çš„å¸ƒå±€è§£å†³æ–¹æ¡ˆ,è¿™ä¸¤ä¸ªç±»çš„å‡ºç°ä½¿ä½ æ— éœ€å†åˆ›å»ºã€æ˜¾ç¤ºæ— å…³çš„Viewäº†ã€‚ä¸¾ä¸ªæ —å­ï¼ŒåŸæœ¬éœ€è¦ä¸€ä¸ªç©ºçš„UIViewå ä½çš„åœ°æ–¹ï¼Œç°åœ¨åªéœ€è¦ç”¨UILayoutGuideå»æ›¿ä»£å®ƒå°±å¯ä»¥äº†ã€‚</p>

<pre><code>// åˆ›å»ºLayoutGuide
let layoutGuideA = UILayoutGuide()  
let layoutGuideB = UILayoutGuide()

// æ·»åŠ åˆ°Viewä¸Š
let view: UIView = ...  
view.addLayoutGuide(layoutGuideA)  
view.addLayoutGuide(layoutGuideB)

// ç”¨UILayoutGuideæ¥æ·»åŠ å¸ƒå±€çº¦æŸ
layoutGuideA.heightAnchor.constraintEqualToAnchor(layoutGuideB.heightAnchor).active = true
// è®¾ç½®Identifierï¼Œä¸ºäº†æ–¹ä¾¿DEBUG

layoutGuideA.identifier = "layoutGuideA"  
layoutGuideB.identifier = "layoutGuideB"

// ...ç„¶åçœ‹çœ‹ä»–ä»¬çš„Frameå§
print("layoutGuideA.layoutFrame -&gt; \(layoutGuideA.layoutFrame)")
</code></pre>

<h4>NSLayoutAnchor</h4>

<p>iOS9ä¸­å¦ä¸€ä¸ªæ–°å¢çš„APIæ˜¯NSLayoutAnchorã€‚å®ƒçš„å‡ºç°ä¸ä»…ä»…æ˜¯è®©ä½¿ç”¨ä»£ç æ·»åŠ çº¦æŸå˜å¾—ç®€æ´æ˜äº†ã€‚é€šè¿‡è¯¥ç±»å¼ºå¤§çš„é™æ€æ£€æŸ¥èƒ½åŠ›ï¼Œè¿˜æä¾›äº†é¢å¤–çš„çº¦æŸæ­£ç¡®å®šä¿è¯ã€‚ä¸¾ä¸ªæ —å­ï¼Œè€ƒè™‘ä»¥ä¸‹ä½¿ç”¨NSLayoutConstraintAPIåˆ›å»ºçš„çº¦æŸä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼š</p>

<pre><code>NSLayoutConstraint *constraint =  
    [NSLayoutConstraint constraintWithItem:view1 
                                 attribute:NSLayoutAttributeLeading 
                                 relatedBy:NSLayoutRelationEqual 
                                    toItem:view2 
                                 attribute:NSLayoutAttributeTop 
                                multiplier:1.0 
                                  constant:0.0];
</code></pre>

<p>è¿™ä¸ªçº¦æŸæ˜¯æ— æ•ˆçš„ã€‚å› ä¸ºä½ å°†ä¸€ä¸ªXè½´ä¸Šçš„å±æ€§(leading)åŒä¸€ä¸ªYè½´å±æ€§(top)ç»‘å®šã€‚ç„¶è€Œï¼Œè¿™ä¸ªé”™è¯¯å¯ä»¥æ¯«æ— è­¦å‘Šåœ°é€šè¿‡ç¼–è¯‘ï¼Œåœ¨è¿è¡Œçš„æ—¶å€™é»˜é»˜åœ°å°±å¤±æ•ˆäº†ï¼Œæœ€ç»ˆç•™ä¸‹ä¸€ä¸ªå‡ºé”™çš„å¸ƒå±€ã€‚ç”±äºè¿™ä¸ªé”™è¯¯ä¸ä¼šäº§ç”Ÿä»»ä½•çš„æ—¥å¿—ä¿¡æ¯ï¼Œå¯¼è‡´æéš¾debugã€‚å‡å¦‚å·¥ç¨‹é‡Œæœ‰è®¸å¤š(æˆåƒä¸Šä¸‡)è¿™æ ·çš„çº¦æŸä»£ç ï¼Œé‚£å¯¹äºç»´æŠ¤æ¥è¯´çœŸæ˜¯ä¸€åœºå™©æ¢¦ã€‚</p>

<p>å¥½åœ¨NSLayoutAnchoråˆ©ç”¨äº†"æ³›å‹"è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚"æ³›å‹"ç°åœ¨åœ¨Swiftå’ŒObjective-Cä¸­éƒ½å·²ç»å¾—åˆ°äº†æ”¯æŒã€‚UIViewä¸­NSLayoutAnchorç›¸å…³çš„å­˜å–æ–¹æ³•ï¼Œæ˜ç¡®æŒ‡å‡ºäº†éœ€è¦å“ªäº›ç»§æ‰¿è‡ªNSLayoutAnchorçš„å­ç±»ã€‚è¿™äº›å­ç±»è¢«åˆ†ä¸ºäº†ä¸‰ç±»ï¼ŒXè½´ï¼ŒYè½´ï¼Œå’Œå°ºå¯¸(å®½/é«˜)ï¼Œä¸€ç§ç±»å‹çš„Anchoråªå…è®¸ç»‘å®šçº¦æŸåˆ°å¦å¤–ä¸€ä¸ªç›¸åŒç±»å‹çš„Anchorä¸Šã€‚é€šè¿‡æŒ‡å®šNSLayoutAnchorä¸­å‚æ•°çš„ç±»å‹ï¼Œè¿™ä¸ªAPIå¯ä»¥é€šè¿‡ç±»å‹æ£€æŸ¥ï¼Œæ¥é¿å…åˆ›å»ºå‡ºä¾‹å­ä¸­æ— æ•ˆçš„çº¦æŸã€‚</p>

<p>æˆ‘ä»¬å›åˆ°ä¹‹å‰çš„ä¾‹å­ï¼Œç”¨NSLayoutAnchoræ¥å®ç°ä¸€ä¸‹è¿™ä¸ªçº¦æŸï¼š</p>

<pre><code>NSLayoutConstraint *constraint =  
        [view1.leadingAnchor constraintEqualToAnchor:view2.topAnchor];
</code></pre>

<p>ç›¸æ¯”æ—§çš„APIï¼Œæ–°çš„APIéå¸¸æ˜æ˜¾åœ°æå‡äº†ä»£ç å¯è¯»æ€§ã€‚å¹¶ä¸”ï¼Œå½“ä½ ä¼ å…¥é”™è¯¯çš„Anchorç±»å‹æ—¶ï¼Œæ–°çš„APIä¼šæŠ›å‡ºä¸€ä¸ª"Incompatible pointer type"è­¦å‘Šï¼Œå› ä¸ºç¼–è¯‘å™¨çŸ¥é“è¿™ä¸ªæ˜¯ä¸¤ä¸ªä¸åŒçš„ç±»ã€‚</p>

<blockquote><p>æƒ³è¦äº†è§£æ›´å¤šï¼Œè¯·æŸ¥é˜…NSLayoutAnchorå®˜æ–¹æ–‡æ¡£</p></blockquote>

<h4>Storyboard Reference</h4>

<p>StoryboardçœŸæ˜¯è®©äººåˆçˆ±åˆæ¨ï¼Œæ¯ä¸ªåœ¨å¤šäººåˆä½œé¡¹ç›®ä¸­ä½¿ç”¨Storyboardçš„äººï¼Œéƒ½é‡åˆ°è¿‡Storyboardæ–‡ä»¶çš„å†²çªã€‚ç±»ä¼¼çš„å†²çªè§£å†³èµ·æ¥æ¯”è¾ƒæ£˜æ‰‹ï¼Œå¸¸å¸¸æ˜¯ä»¥å›æ»šå‘Šç»ˆã€‚è¿™ä¸€ç‚¹ç›´æ¥é€ æˆäº†ä¸€äº›å›¢é˜Ÿæ”¾å¼ƒä½¿ç”¨Storyboardå¼€å‘è€Œæ¨èçº¯ä»£ç å¸ƒå±€ã€‚</p>

<p>å¦‚æœéœ€è¦ä½¿ç”¨Storyboardï¼Œä½†åˆæƒ³æœ€å¤§åŒ–åœ°é¿å…å†²çªå‘¢ï¼Ÿæœ€å¥½çš„æ–¹æ³•å°±æ˜¯å°†UIåˆ’åˆ†çš„æ›´å°çš„ã€ä¸åŒçš„Storyboardæ–‡ä»¶ä¸­ã€‚åœ¨è¿‡å»å¦‚æœæƒ³è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ„å‘³è·¨Storyboardçš„è·³è½¬æ–¹æ³•ï¼Œéœ€è¦åœ¨ä»£ç é‡Œå®Œæˆï¼š</p>

<pre><code>UIStoryboard *destinationStoryboard = [UIStoryboard storyboardWithName:@"StoryboardName" bundle:nil];  
DestinationViewController *vc = [destinationStoryboard instantiateViewControllerWithIdentifier:@"identifier"];
//ä¸€é¡¿è®¾ç½®
...
[self.navigationController pushViewController:vc animated:YES];
</code></pre>

<p>åœ¨Xcode7 å’Œ iOS 9ä¸­ï¼Œåªéœ€è¦ç”¨Storyboard Referenceå°±å¯ä»¥ç”¨Segueè½»æ¾å®ç°è·¨Storyboardçš„è·³è½¬äº†ã€‚Storyboard Referenceçš„å‡ºç°ï¼Œä¿ç•™äº†å•ä¸ªStoryboardæ–‡ä»¶è·³è½¬çš„ä¼˜ç‚¹çš„åŒæ—¶ï¼Œæä¾›äº†å¤šStoryboardæ–‡ä»¶æ—¶åˆ©äºåˆå¹¶çš„ä¾¿åˆ©ã€‚</p>

<p>å¼€å§‹åˆ†å‰²ä½ é‚£å·¨å¤§çš„Storyboardæ–‡ä»¶å§ã€‚æœ€å¿«çš„æ–¹æ³•æ˜¯:</p>

<ul>
<li>ç¼©æ”¾Storyboard</li>
<li>æ¡†é€‰ä¸€ç»„é€»è¾‘ç›¸è¿‘çš„scenes</li>
<li>é€‰æ‹©Editor > Refactor to Storyboard&hellip;</li>
</ul>


<p>è‡ªåŠ¨Refactordçš„æ•…äº‹æ¿æ–‡ä»¶ä¼šä¸ºæ¯ä¸€ä¸ªscenesç•™ä¸‹ä¸€ä¸ªUIStoryboard Referenceï¼Œå¹¶ä¸”åœ¨éœ€è¦çš„åœ°æ–¹è‡ªåŠ¨åˆ›å»ºå¯è¯»æ€§ä¸å¥½çš„Storyboard IDã€‚æ‰€ä»¥å°±ä¸ªäººæ¥è¯´ï¼Œæˆ‘æ›´æ¨èæ‰‹åŠ¨å¤åˆ¶scenesåˆ°æ–°çš„æ•…äº‹æ¿æ–‡ä»¶ä¸­ï¼Œç„¶ååœ¨æºæ–‡ä»¶ä¸­åˆ é™¤è¿™äº›sceneså¹¶æ‰‹åŠ¨æ·»åŠ Storyboard Referenceã€‚</p>

<blockquote><p>å¦‚æœä½ å·²ç»æœ‰å¤šä¸ªæ•…äº‹æ¿æ–‡ä»¶äº†ï¼Œä¸ºè‡ªå·±åº†ç¥ä¸€ä¸‹å§â€”â€”ä½ åˆå¯ä»¥ç²¾ç®€ä½ çš„ä»£ç äº†ï¼ä»Objectåº“ä¸­æ‹–æ‹½ä¸€ä¸ªUIStoryboard Referenceï¼Œå¹¶é…ç½®segueã€‚ç„¶åé€‰å–ä½ æ‰‹åŠ¨è·³è½¬çš„ä»£ç ï¼Œå¤§åŠ›åœ°æŒ‰ä¸‹åˆ é™¤é”®å§ï¼</p></blockquote>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">iCocos</span></span>

      




<time class='entry-date' datetime='2015-12-20T23:56:09+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>20</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>11:56 pm</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/news/'>news</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/12/09/nian-bao-and-feng-bao-and-chai-bao/" title="Previous Post: ç²˜åŒ…&amp;å°åŒ…&amp;æ‹†åŒ…">&laquo; ç²˜åŒ…&amp;å°åŒ…&amp;æ‹†åŒ…</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/12/22/ios9-unit-test/" title="Next Post: iOS9-Unit Test">iOS9-Unit Test &raquo;</a>
      
    </p>
  </footer>
</article>



  <section>
    <h1>Comments</h1>
    <div id="comments" aria-live="polite"><!-- Duoshuo Comment BEGIN -->
<div class="ds-thread" data-title="iOS9+Xcode7æ€»ç»“"></div>
<script type="text/javascript">
  var duoshuoQuery = {short_name:"icocoscao"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>
<!-- Duoshuo Comment END --></div>
  </section>


</div>

<aside class="sidebar">
  
    <section>
    <h1>æ–‡ç« åˆ†ç±»</h1>
    <ul id="categories">
        <li class='category'><a href='/blog/categories/algorithms/'>algorithms (6)</a></li>
<li class='category'><a href='/blog/categories/and/'>and (14)</a></li>
<li class='category'><a href='/blog/categories/apples/'>apples (2)</a></li>
<li class='category'><a href='/blog/categories/application/'>application (1)</a></li>
<li class='category'><a href='/blog/categories/architecture/'>architecture (2)</a></li>
<li class='category'><a href='/blog/categories/audio/'>audio (8)</a></li>
<li class='category'><a href='/blog/categories/audio-video/'>audio-video (1)</a></li>
<li class='category'><a href='/blog/categories/data/'>data (6)</a></li>
<li class='category'><a href='/blog/categories/developer/'>developer (16)</a></li>
<li class='category'><a href='/blog/categories/foundation/'>foundation (31)</a></li>
<li class='category'><a href='/blog/categories/full/'>full (13)</a></li>
<li class='category'><a href='/blog/categories/low-level/'>low-level (4)</a></li>
<li class='category'><a href='/blog/categories/lve/'>lve (8)</a></li>
<li class='category'><a href='/blog/categories/news/'>news (4)</a></li>
<li class='category'><a href='/blog/categories/others/'>others (1)</a></li>
<li class='category'><a href='/blog/categories/performance/'>performance (12)</a></li>
<li class='category'><a href='/blog/categories/practical/'>practical (1)</a></li>
<li class='category'><a href='/blog/categories/radio/'>radio (8)</a></li>
<li class='category'><a href='/blog/categories/reverse/'>reverse (25)</a></li>
<li class='category'><a href='/blog/categories/senior/'>senior (40)</a></li>
<li class='category'><a href='/blog/categories/stack/'>stack (13)</a></li>
<li class='category'><a href='/blog/categories/structures/'>structures (6)</a></li>
<li class='category'><a href='/blog/categories/summarize/'>summarize (5)</a></li>
<li class='category'><a href='/blog/categories/tools/'>tools (5)</a></li>
<li class='category'><a href='/blog/categories/video/'>video (8)</a></li>

    </ul>
</section><section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/10/20/apptai-pang-liao-jian-fei/">Appå¤ªèƒ–äº†â€”â€”å‡è‚¥ğŸ˜‚</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/16/ioskai-fa-chang-yong-gong-neng-dai-ma-ji-jin-(you-xiu-pian-)/">iOSå¼€å‘â€”â€”å¸¸ç”¨åŠŸèƒ½ä»£ç é›†é”¦ï¼ˆå‹ç§€ç¯‡ï¼‰</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/14/ioszhuang-bi-pian-xiang-ying-shi-bian-cheng/">iOSè£…é€¼ç¯‡â€”â€”å“åº”å¼ç¼–ç¨‹</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/14/ioszhuang-bi-pian-han-shu-shi-bian-cheng/">iOSè£…é€¼ç¯‡â€”â€”å‡½æ•°å¼ç¼–ç¨‹</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/14/ioszhuang-bi-pian-lian-shi-bian-cheng/">iOSè£…é€¼ç¯‡â€”â€”é“¾å¼ç¼–ç¨‹</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/al1020119">@al1020119</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'al1020119',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





<section>
<h1>åšå®¢<abbr title="The word 'åšå®¢' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'åšå®¢', not for image.">&trade;</abbr></h1>
<a href="http://al1020119.github.io/blog/2015/12/20/ios9-plus-xcodezong-jie/"><img src="http://chart.apis.google.com/chart?chs=150x150&cht=qr&chld=|0&chco=165B94&chl=http://al1020119.github.io/blog/2015/12/20/ios9-plus-xcodezong-jie/" alt="post-qrcode"></a></section>


<section>
<h1>github<abbr title="The word 'github' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'github', not for image.">&trade;</abbr></h1>
<a><img src="/images/iCocosgithub.png" alt="post-qrcode"></a></section>


<section>
<h1>å¾®ä¿¡<abbr title="The word 'å¾®ä¿¡' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'å¾®ä¿¡', not for image.">&trade;</abbr></h1>
<a><img src="/images/iCocosWX.png" alt="post-qrcode"></a></section>


<section>
<h1>å…¬ä¼—å·<abbr title="The word 'å…¬ä¼—å·' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'å…¬ä¼—å·', not for image.">&trade;</abbr></h1>
<a><img src="/images/iCocosMGC.png" alt="post-qrcode"></a><section>
  
  
</section>
<h1>å…¬ä¼—å·<abbr title="The word 'å…¬ä¼—å·' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'å…¬ä¼—å·', not for image.">&trade;</abbr></h1>
<a><img src="/images/iCocos520.png" alt="post-qrcode"></a></section>
<section>
    <h1>è®¿å®¢ç»Ÿè®¡</h1>
    <br/>
    <a href="http://s07.flagcounter.com/more/2SH"><img src="http://s07.flagcounter.com/count/2SH/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_1/flags_0/" alt="Flag Counter" border="0"></a>
</section><section>
    <h1>æ–°æµªå¾®åš</h1>
    <ul id="weibo">
        <li>
            
            <!-- åœ¨æ­¤æ’å…¥è·å¾—çš„å¾®åšç§€ä»£ç  -->
            <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=3288975567&verifier=20ffcedd&dpc=1"></iframe>
            
        </li>
    </ul>
</section>
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - iCocos -
<span class="credit">welcome to <a href="http://al1020119.github.io">æ›¹#é»</a></span>
</p>

</footer>
  






<!--
-->



</body>
</html>
