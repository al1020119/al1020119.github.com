
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>iOS9-Unit Test - iOSæ¢¦å·¥å‚</title>
  <meta name="author" content="iCocos">

  
  <meta name="description" content="iCocosåšå®¢">
  <meta name="keywords" content="iCocos, iOSå¼€å‘, åšå®¢, æŠ€æœ¯åˆ†æ, æ–‡ç« , å­¦ä¹ , æ›¹é», æ›¹ç†é¹">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://al1020119.github.io/blog/2015/12/22/ios9-unit-test/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="iOSæ¢¦å·¥å‚" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//libs.baidu.com/jquery/1.7.2/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->

<!--<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
-->
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">iOSæ¢¦å·¥å‚</a></h1>
  
    <h2>iCocosâ€”â€”ä¸æˆ˜èƒœè‡ªå·±ï¼Œä½•ä»¥æ”¹å˜æœªæ¥ï¼</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="al1020119.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">åšæ–‡</a></li>
  <li><a href="/blog/archives">å½’æ¡£</a></li>
  <li><a href="/icocos">iCocos</a></li>
  <li><a href="/about">æ–‡ç« </a></li>
  <li><a href="/other">å…¶ä»–</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">iOS9-Unit Test</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-12-22T00:59:07+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>22</span><span class='date-suffix'>nd</span>, <span class='date-year'>2015</span></span> <span class='time'>12:59 am</span></time>
        
        
        |   <a href="#comments">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p> XCode7(iOS9)ä¸­æ–°å¢äº†è·Ÿå¤šç‰¹æ€§ï¼ŒåŒ…æ‹¬ï¼š</p>

<ul>
<li>WKWebView+SFSafariViewController</li>
<li>UI Test</li>
<li>Multitasking</li>
<li>watchOS 2</li>
<li>Swift 2</li>
<li>App Thinning</li>
<li>äººå·¥æ™ºèƒ½å’Œæœç´¢ API</li>
<li>HomeKitï¼ŒCloudKitï¼ŒHealthKit ç­‰ç­‰æ‚ä¸ƒæ‚å…«çš„æ¡†æ¶</li>
</ul>


<p> å‰é¢çš„æ–‡ç« ä¸­æˆ‘ä»¬å·²ç»å°†WKWebView+SFSafariViewControllerå®Œæ•´çš„ä»‹ç»äº†ä¸€éï¼Œç°åœ¨æˆ‘ä»¬å°±å¼€å§‹ç€æ‰‹æ¢ç©¶ä¸€ä¸‹å•å…ƒæµ‹è¯•ï¼ˆåé¢çš„æ–‡ç« ä¸­æˆ‘å°†ä¼šé›†ä¸­ä»‹ç»ä¸€ä¸‹å¸¸ç”¨åŠŸèƒ½æ–°ç‰¹æ€§ï¼‰ï¼Œæ•¬è¯·å…³æ³¨ï¼š<a href="http://al1020119.github.io/">iOSæ¢¦å·¥å‚</a></p>

<h3>UI Testsæ˜¯ä»€ä¹ˆï¼Ÿ</h3>

<p>UI Testsæ˜¯ä¸€ä¸ªè‡ªåŠ¨æµ‹è¯•UIä¸äº¤äº’çš„Testingç»„ä»¶</p>

<!--more-->


<h3>UI Testsæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h3>

<p>å®ƒå¯ä»¥é€šè¿‡ç¼–å†™ä»£ç ã€æˆ–è€…æ˜¯è®°å½•å¼€å‘è€…çš„æ“ä½œè¿‡ç¨‹å¹¶ä»£ç åŒ–ï¼Œæ¥å®ç°è‡ªåŠ¨ç‚¹å‡»æŸä¸ªæŒ‰é’®ã€è§†å›¾ï¼Œæˆ–è€…è‡ªåŠ¨è¾“å…¥æ–‡å­—ç­‰åŠŸèƒ½ã€‚</p>

<h3>UI Testsçš„é‡è¦æ€§</h3>

<p>åœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œéšç€é¡¹ç›®è¶Šåšè¶Šå¤§ï¼ŒåŠŸèƒ½è¶Šæ¥è¶Šå¤šï¼Œä»…ä»…é äººå·¥æ“ä½œçš„æ–¹å¼æ¥è¦†ç›–æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹æ˜¯éå¸¸å›°éš¾çš„ï¼Œå°¤å…¶æ˜¯åŠ å…¥æ–°åŠŸèƒ½ä»¥åï¼Œæ—§çš„åŠŸèƒ½ä¹Ÿè¦é‡æ–°æµ‹è¯•ä¸€éï¼Œè¿™å¯¼è‡´äº†æµ‹è¯•éœ€è¦èŠ±éå¸¸å¤šçš„æ—¶é—´æ¥è¿›è¡Œå›å½’æµ‹è¯•ï¼Œè¿™é‡Œäº§ç”Ÿäº†å¤§é‡é‡å¤çš„å·¥ä½œï¼Œè€Œè¿™äº›é‡å¤çš„å·¥ä½œæœ‰äº›æ˜¯å¯ä»¥è‡ªåŠ¨å®Œæˆçš„ï¼Œè¿™æ—¶å€™UI Testså°±å¯ä»¥å¸®åŠ©è§£å†³è¿™ä¸ªé—®é¢˜äº†</p>

<h2>ä½¿ç”¨æ–¹æ³•</h2>

<h6>ç¬¬ä¸€æ­¥ï¼šæ·»åŠ UI Tests</h6>

<p>å¦‚æœæ˜¯æ–°é¡¹ç›®ï¼Œåˆ™åˆ›å»ºå·¥ç¨‹çš„æ—¶å€™å¯ä»¥ç›´æ¥å‹¾é€‰é€‰é¡¹ï¼Œå¦‚ä¸‹å›¾</p>

<p><img src="/images/unittest001.png" title="Caption" ></p>

<p>å¦‚æœæ˜¯å·²æœ‰çš„é¡¹ç›®ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ targetçš„æ–¹å¼æ·»åŠ ä¸€ä¸ªUI Testsï¼Œç‚¹å‡»xcodeçš„èœå•ï¼Œæ‰¾åˆ°targetæ </p>

<p><img src="/images/unittest002.png" title="Caption" ></p>

<p>åœ¨Testé€‰é¡¹ä¸­é€‰æ‹©Cocoa Touch UI Testing Bundle</p>

<p><img src="/images/unittest003.png" title="Caption" ></p>

<p>è¿™æ—¶å€™testç»„ä»¶æ·»åŠ æˆåŠŸï¼Œå®ƒåœ¨é¡¹ç›®ä¸­çš„ä½ç½®å¦‚ä¸‹å›¾æ‰€ç¤º</p>

<p><img src="/images/unittest004.png" title="Caption" ></p>

<h6>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæµ‹è¯•ä»£ç </h6>

<p>æ‰‹åŠ¨åˆ›å»ºæµ‹è¯•ä»£ç 
æ‰“å¼€æµ‹è¯•æ–‡ä»¶ï¼Œåœ¨testExample()æ–¹æ³•ä¸­æ·»åŠ æµ‹è¯•ä»£ç </p>

<p><img src="/images/unittest005.png" title="Caption" ></p>

<p>å¦‚æœä¸çŸ¥é“å¦‚ä½•å†™æµ‹è¯•ä»£ç ï¼Œåˆ™å¯ä»¥å‚è€ƒè‡ªåŠ¨ç”Ÿæˆçš„ä»£ç æ ·å¼</p>

<h5>è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æ­¥éª¤</h5>

<p>é€‰æ‹©æµ‹è¯•æ–‡ä»¶åï¼Œç‚¹å‡»å½•åˆ¶æŒ‰é’®</p>

<p><img src="/images/unittest006.png" title="Caption" ></p>

<p>è¿™æ—¶å€™å¼€å§‹è¿›è¡Œæ“ä½œï¼Œå®ƒä¼šè®°å½•ä½ çš„æ“ä½œæ­¥éª¤ï¼Œå¹¶ç”Ÿæˆæµ‹è¯•ä»£ç 
ä¸‹å›¾å°±æ˜¯åœ¨ä¸€äº›æ“ä½œåè‡ªåŠ¨ç”Ÿæˆçš„æµ‹è¯•ä»£ç </p>

<p><img src="/images/unittest007.png" title="Caption" ></p>

<p>è¿™æ—¶å€™å¯ä»¥åˆ†ææµ‹è¯•ä»£ç çš„è¯­æ³•ï¼Œä»¥ä¾¿ä½ è‡ªå·±æ‰‹åŠ¨ä¿®æ”¹æˆ–è€…æ‰‹å†™æµ‹è¯•ä»£ç </p>

<h6>ç¬¬ä¸‰æ­¥ï¼šå¼€å§‹æµ‹è¯•</h6>

<p>ç‚¹å‡»testExampleæ–¹æ³•æ—è¾¹çš„æ’­æ”¾æŒ‰é’®ï¼Œå®ƒå°±å¼€å§‹è¿›è¡Œè‡ªåŠ¨æµ‹è¯•äº†ï¼Œè¿™æ—¶å€™ä½ ä¼šçœ‹åˆ°appåœ¨è‡ªåŠ¨æ“ä½œ</p>

<p><img src="/images/unittest008.png" title="Caption" ></p>

<h6>ä¸‹é¢ä»‹ç»ä¸€ä¸‹æµ‹è¯•å…ƒç´ çš„è¯­æ³•</h6>

<p>XCUIApplicationï¼š
ç»§æ‰¿XCUIElementï¼Œè¿™ä¸ªç±»æŒç®¡åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸï¼Œé‡Œé¢åŒ…å«ä¸¤ä¸ªä¸»è¦æ–¹æ³•</p>

<pre><code>launch():
</code></pre>

<p>å¯åŠ¨ç¨‹åº</p>

<pre><code>terminate():
</code></pre>

<p>ç»ˆæ­¢ç¨‹åº</p>

<h6>XCUIElement:</h6>

<p>ç»§æ‰¿NSObjectï¼Œå®ç°åè®®XCUIElementAttributes, XCUIElementTypeQueryProvider
å¯ä»¥è¡¨ç¤ºç³»ç»Ÿçš„å„ç§UIå…ƒç´ </p>

<pre><code>exist:
</code></pre>

<p>å¯ä»¥è®©ä½ åˆ¤æ–­å½“å‰çš„UIå…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå¯¹ä¸€ä¸ªä¸å­˜åœ¨çš„å…ƒç´ è¿›è¡Œæ“ä½œï¼Œä¼šå¯¼è‡´æµ‹è¯•ç»„ä»¶æŠ›å‡ºå¼‚å¸¸å¹¶ä¸­æ–­æµ‹è¯•</p>

<pre><code>descendantsMatchingType(type:XCUIElementType)-&gt;XCUIElementQuery:
</code></pre>

<p>å–æŸç§ç±»å‹çš„å…ƒç´ ä»¥åŠå®ƒçš„å­ç±»é›†åˆ</p>

<pre><code>childrenMatchingType(type:XCUIElementType)-&gt;XCUIElementQuery:
</code></pre>

<p>å–æŸç§ç±»å‹çš„å…ƒç´ é›†åˆï¼Œä¸åŒ…å«å®ƒçš„å­ç±»</p>

<p>è¿™ä¸¤ä¸ªæ–¹æ³•çš„åŒºåˆ«åœ¨äºï¼Œä½ ä»…ä½¿ç”¨ç³»ç»Ÿçš„UIButtonæ—¶ï¼Œç”¨childrenMatchingTypeå°±å¯ä»¥äº†ï¼Œå¦‚æœä½ è¿˜å¸Œæœ›æŸ¥è¯¢è‡ªå·±å®šä¹‰çš„å­Buttonï¼Œå°±è¦ç”¨descendantsMatchingType</p>

<p>å¦å¤–UIå…ƒç´ è¿˜æœ‰ä¸€äº›äº¤äº’æ–¹æ³•</p>

<pre><code>tap():
</code></pre>

<p>ç‚¹å‡»</p>

<pre><code>doubleTap():
</code></pre>

<p>åŒå‡»</p>

<pre><code>pressForDuration(duration: NSTimeInterval):
</code></pre>

<p>é•¿æŒ‰ä¸€æ®µæ—¶é—´ï¼Œåœ¨ä½ éœ€è¦è¿›è¡Œå»¶æ—¶æ“ä½œæ—¶ï¼Œè¿™ä¸ªå°±æ´¾ä¸Šç”¨åœºäº†</p>

<pre><code>swipeUp():
</code></pre>

<p>è¿™ä¸ªå“åº”ä¸äº†panæ‰‹åŠ¿ï¼Œæš‚æ—¶æ²¡å‘ç°èƒ½ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œä¹Ÿå¯èƒ½æ˜¯betaç‰ˆçš„bugï¼Œå…ˆä¸è§£é‡Š</p>

<pre><code>typeText(text: String):
</code></pre>

<p>ç”¨äºtextFieldå’ŒtextViewè¾“å…¥æ–‡æœ¬æ—¶ä½¿ç”¨ï¼Œä½¿ç”¨å‰è¦ç¡®ä¿æ–‡æœ¬æ¡†è·å¾—è¾“å…¥ç„¦ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨tap()å‡½æ•°ä½¿å…¶è·å¾—ç„¦ç‚¹</p>

<h6>XCUIElementAttributesåè®®</h6>

<p>é‡Œé¢åŒ…å«äº†UIAccessibilityä¸­çš„éƒ¨åˆ†å±æ€§
å¦‚ä¸‹å›¾</p>

<p><img src="/images/unittest009.png" title="Caption" ></p>

<p>å¯ä»¥æ–¹ä¾¿ä½ æŸ¥çœ‹å½“å‰å…ƒç´ çš„ç‰¹å¾ï¼Œå…¶ä¸­identifierå±æ€§å¯ç”¨äºç›´æ¥è¯»å–å…ƒç´ ï¼Œä¸è¿‡è¯¥å±æ€§åœ¨UITextFieldä¸­æœ‰bugï¼Œæš‚æ—¶ä¸æ¸…æ¥šåŸå› </p>

<p>XCUIElementTypeQueryProvideråè®®
é‡Œé¢åŒ…å«äº†ç³»ç»Ÿä¸­å¤§éƒ¨åˆ†UIæ§ä»¶çš„ç±»å‹ï¼Œå¯é€šè¿‡è¯»å±æ€§çš„æ–¹å¼å–å¾—æŸç§ç±»å‹çš„UIé›†åˆ
éƒ¨åˆ†å±æ€§æˆªå›¾å¦‚ä¸‹</p>

<p><img src="/images/unittest010.png" title="Caption" ></p>

<h3>åˆ›å»ºDemo</h3>

<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªç™»å½•é¡µé¢</p>

<p><img src="/images/unittest011.png" title="Caption" ></p>

<p>ç‚¹å‡»loginæŒ‰é’®è¿›è¡Œç™»å½•éªŒè¯ï¼Œç‚¹å‡»clearæŒ‰é’®ä¼šæ¸…é™¤æ–‡æœ¬
ç™»å½•æˆåŠŸåå¯ä»¥å»åˆ°ä¸ªäººä¿¡æ¯é¡µé¢</p>

<p>ä¸ªäººä¿¡æ¯é¡µé¢å¦‚ä¸‹</p>

<p><img src="/images/unittest012.png" title="Caption" ></p>

<p>ç‚¹å‡»modifyæŒ‰é’®å¯ä»¥ä¿®æ”¹ä¸ªäººä¿¡æ¯ï¼Œç‚¹å‡»MessageæŒ‰é’®å¯ä»¥æŸ¥çœ‹ä¸ªäººæ¶ˆæ¯</p>

<p>æœ€åæ˜¯æ¶ˆæ¯ç•Œé¢</p>

<p><img src="/images/unittest013.png" title="Caption" ></p>

<h4>ç™»å½•é¡µé¢çš„æµ‹è¯•</h4>

<ul>
<li>è¾“å…¥ä¸€ä¸ªé”™è¯¯çš„è´¦å·</li>
<li>éªŒè¯ç»“æœ</li>
<li>å…³é—­è­¦å‘Šçª—</li>
<li>æ¸…é™¤è¾“å…¥è®°å½•</li>
<li>è¾“å…¥ä¸€ä¸ªæ­£ç¡®çš„è´¦å·</li>
<li>éªŒè¯ç»“æœ</li>
<li>è¿›å…¥ä¸ªäººä¿¡æ¯é¡µé¢</li>
</ul>


<p>æµ‹è¯•ä»£ç å¦‚ä¸‹:</p>

<pre><code>func testLoginView() {
    let app = XCUIApplication()

    // ç”±äºUITextFieldçš„idæœ‰é—®é¢˜ï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡labelçš„æ–¹å¼éå†å…ƒç´ æ¥è¯»å–
    let nameField = self.getFieldWithLbl("nameField")
    if self.canOperateElement(nameField) {
        nameField!.tap()
        nameField!.typeText("xiaoming")
    }

    let psdField = self.getFieldWithLbl("psdField")
    if self.canOperateElement(psdField) {
        psdField!.tap()
        psdField!.typeText("1234321")
    }

    // é€šè¿‡UIButtonçš„é¢„è®¾idæ¥è¯»å–å¯¹åº”çš„æŒ‰é’®
    let loginBtn = app.buttons["Login"]
    if self.canOperateElement(loginBtn) {
        loginBtn.tap()
    }

    // å¼€å§‹ä¸€æ®µå»¶æ—¶ï¼Œç”±äºçœŸå®çš„ç™»å½•æ˜¯è”ç½‘è¯·æ±‚ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥è·å¾—ç»“æœï¼Œdemoé€šè¿‡å»¶æ—¶çš„æ–¹å¼æ¥æ¨¡æ‹Ÿè”ç½‘è¯·æ±‚
    let window = app.windows.elementAtIndex(0)
    if self.canOperateElement(window) {
        // å»¶æ—¶3ç§’, 3ç§’åå¦‚æœç™»å½•æˆåŠŸï¼Œåˆ™è‡ªåŠ¨è¿›å…¥ä¿¡æ¯é¡µé¢ï¼Œå¦‚æœç™»å½•å¤±è´¥ï¼Œåˆ™å¼¹å‡ºè­¦å‘Šçª—
        window.pressForDuration(3)
    }

    // alertçš„idå’Œlabeéƒ½ç”¨ä¸äº†ï¼Œä¼°è®¡è¿˜æ˜¯bugï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡æ•°é‡åˆ¤æ–­
    if app.alerts.count &gt; 0 {
        // ç™»å½•å¤±è´¥
        app.alerts.collectionViews.buttons["ç¡®å®š"].tap()

        let clear = app.buttons["Clear"]
        if self.canOperateElement(clear) {
            clear.tap()

            if self.canOperateElement(nameField) {
                nameField!.tap()
                nameField!.typeText("sun")
            }

            if self.canOperateElement(psdField) {
                psdField!.tap()
                psdField!.typeText("111111")
            }

            if self.canOperateElement(loginBtn) {
                loginBtn.tap()
            }
            if self.canOperateElement(window) {
                // å»¶æ—¶3ç§’, 3ç§’åå¦‚æœç™»å½•æˆåŠŸï¼Œåˆ™è‡ªåŠ¨è¿›å…¥ä¿¡æ¯é¡µé¢ï¼Œå¦‚æœç™»å½•å¤±è´¥ï¼Œåˆ™å¼¹å‡ºè­¦å‘Šçª—
                window.pressForDuration(3)
            }
            self.loginSuccess()
        }
    } else {
        // ç™»å½•æˆåŠŸ
        self.loginSuccess()
    }
}
</code></pre>

<blockquote><p>è¿™é‡Œæœ‰å‡ ä¸ªéœ€è¦ç‰¹åˆ«æ³¨æ„çš„ç‚¹ï¼š
å½“ä½ çš„å…ƒç´ ä¸å­˜åœ¨æ—¶ï¼Œå®ƒä»ç„¶å¯èƒ½è¿”å›ä¸€ä¸ªå…ƒç´ å¯¹è±¡ï¼Œä½†è¿™æ—¶å€™ä¸èƒ½å¯¹å…¶è¿›è¡Œæ“ä½œ
å½“ä½ è¦ç‚¹å‡»çš„å…ƒç´ è¢«é”®ç›˜æˆ–è€…UIAlertViewé®æŒ¡æ—¶ï¼Œæ‰§è¡Œtapæ–¹æ³•ä¼šæŠ›å¼‚å¸¸
è¯¦ç»†å®ç°å¯å‚ç…§demo:
<a href="https://github.com/sunljz/demo/tree/master/iOS9/UITestDemo">https://github.com/sunljz/demo/tree/master/iOS9/UITestDemo</a></p></blockquote>

<h4>ä¸ªäººä¿¡æ¯é¡µæµ‹è¯•</h4>

<ul>
<li>ä¿®æ”¹æ€§åˆ«</li>
<li>ä¿®æ”¹å¹´é¾„</li>
<li>ä¿®æ”¹å¿ƒæƒ…</li>
<li>ä¿å­˜ä¿®æ”¹</li>
</ul>


<p>æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>

<pre><code>    func testInfo() {
        let app = XCUIApplication()
        let window = app.windows.elementAtIndex(0)
        if self.canOperateElement(window) {
            // å»¶æ—¶2ç§’, åŠ è½½æ•°æ®éœ€è¦æ—¶é—´
            window.pressForDuration(2)
        }

        let modifyBtn = app.buttons["modify"];
        modifyBtn.tap()

        let sexSwitch = app.switches["sex"]
        sexSwitch.tap()

        let incrementButton = app.buttons["Increment"]
        incrementButton.tap()
        incrementButton.tap()
        incrementButton.tap()
        app.buttons["Decrement"].tap()

        let textView = app.textViews["feeling"]
        textView.tap()
        app.keys["Delete"].tap()
        app.keys["Delete"].tap()
        textView.typeText(" abc ")

        // ç‚¹å‡»ç©ºç™½åŒºåŸŸ
        let clearBtn = app.buttons["clearBtn"]
        clearBtn.tap()

        // ä¿å­˜æ•°æ®
        modifyBtn.tap()
        window.pressForDuration(2)

        let messageBtn = app.buttons["message"]
        messageBtn.tap();

        // å»¶æ—¶1ç§’, push viewéœ€è¦æ—¶é—´
        window.pressForDuration(1)

        self.testMessage()
    }
</code></pre>

<blockquote><p>è¿™é‡Œéœ€è¦ç‰¹åˆ«æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š
textviewè·å–ç„¦ç‚¹æ—¶æ— æ³•é€‰æ‹©ç„¦ç‚¹çš„ä½ç½®
tapäº‹ä»¶çš„è§¦å‘ä½ç½®æ˜¯viewçš„ä¸­å¿ƒï¼Œæ‰€ä»¥å½“viewçš„ä¸­å¿ƒè¢«é®æŒ¡æ—¶ï¼Œè¦è€ƒè™‘ä½¿ç”¨å…¶ä»–viewæ¥ä»£æ›¿</p></blockquote>

<h4>ä¸ªäººæ¶ˆæ¯ç•Œé¢æµ‹è¯•</h4>

<p>å•å…ƒæ ¼çš„ç‚¹å‡»
æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>

<pre><code>    func testMessage() {
        let app = XCUIApplication()
        let window = app.windows.elementAtIndex(0)
        if self.canOperateElement(window) {
            // å»¶æ—¶2ç§’, åŠ è½½æ•°æ®éœ€è¦æ—¶é—´
            window.pressForDuration(2)
        }

        let table = app.tables
        table.childrenMatchingType(.Cell).elementAtIndex(8).tap()
        table.childrenMatchingType(.Cell).elementAtIndex(1).tap()

    }
</code></pre>

<blockquote><p>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ç‚¹ï¼š
æš‚æ—¶æ— æ³•è·å–åˆ°tableViewçš„å…ƒç´ æŒ‡é’ˆ</p></blockquote>

<h3>æ€»ç»“</h3>

<p>æ€»çš„æ¥è¯´ï¼ŒUI Testsåªèƒ½ç”¨äºä¸€äº›åŸºç¡€åŠŸèƒ½çš„æµ‹è¯•ï¼ŒéªŒè¯appçš„åŠŸèƒ½æ˜¯å¦å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œæ˜¯å¦å­˜åœ¨å´©æºƒé—®é¢˜ã€‚ä½†å®ƒä¹Ÿæœ‰å¾ˆå¤šä¸è¶³ä¹‹å¤„ï¼Œç¼–å†™æµ‹è¯•ç”¨ä¾‹çš„è¿‡ç¨‹éå¸¸ç¹çï¼Œè‡ªåŠ¨ç”Ÿæˆçš„ä»£ç å‡ ä¹æ— æ³•è¿è¡Œï¼ŒåŠŸèƒ½å•ä¸€ï¼Œå¾ˆå¤šç”¨ä¾‹æ— æ³•è¦†ç›–ï¼Œè€Œä¸”bugå¾ˆå¤šï¼Œå¤§å¤§åœ°é™åˆ¶äº†UI Testsåœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨ã€‚å¸Œæœ›æ­£å¼ç‰ˆå‡ºæ¥çš„æ—¶å€™èƒ½å¤Ÿä¿®å¤è¿™äº›é—®é¢˜ï¼Œå¹¶å¼€æ”¾æ›´å¤šçš„åŠŸèƒ½ã€‚</p>

<p>demoåœ°å€ï¼š</p>

<p><a href="https://github.com/sunljz/demo/tree/master/iOS9/UITestDemo">https://github.com/sunljz/demo/tree/master/iOS9/UITestDemo</a></p>

<p>æœ€åä»‹ç»å‡ ä¸ªå¸¸è§çš„ç¬¬ä¸‰æ–¹æµ‹è¯•æ¡†æ¶ï¼š</p>

<p>Frankï¼Œ KIFï¼Œ Subliminalï¼Œ Apple çš„ UIAutomationï¼Œæˆ‘æŠŠä»–ä»¬éƒ½è¯•äº†ä¸€éã€‚ä½ è¦æ˜¯å¸Œæœ›äº†è§£æ›´å¤šå¯ä»¥è®¿é—®æˆ‘çš„æ•…éšœç‰¹å¾æµ‹è¯•æ¡†æ¶ã€‚å®ƒä¸æ˜¯å¼€å‘è€…çš„å¤±è´¥ï¼Œè€Œæ˜¯å› ä¸º Apple å¯¹å¾…æµ‹è¯•åªæœ‰æœ‰é™çš„å¼€æ”¾æ€§ã€‚è¿™ä½¿å¾—è¿™äº›æ¡†æ¶æœ‰ä¸€ç³»åˆ—çš„è¡¥ä¸ï¼Œè€Œåœ¨è¿™äº›è¡¥ä¸ä¹‹ä¸Šï¼Œè¿™äº›æ¡†æ¶ä¸å¤–ä¹éƒ½æˆä¸ºäº†ä¸€å †ç ´ç¢çš„å·¥å…·ã€‚
æ²¡æœ‰æ¶‰åŠåˆ°çš„æ›´å¤šç»†èŠ‚ï¼š</p>

<ul>
<li>Frank ä¸€ç›´è¢«é—å¼ƒã€‚</li>
<li>KIF å·²ç»ä¸ä¸»è¦çš„ iOS ä¿®è®¢ç‰ˆæœ¬å†³è£‚ã€‚</li>
<li>Subliminal ä¸èƒ½åœ¨å‘½ä»¤è¡Œä¸­å¯é åœ°è¿è¡Œã€‚</li>
<li>UIAutomation æ˜¯ç”¨ JavaScript å’Œ clunky å†™çš„ã€‚</li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">iCocos</span></span>

      




<time class='entry-date' datetime='2015-12-22T00:59:07+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>22</span><span class='date-suffix'>nd</span>, <span class='date-year'>2015</span></span> <span class='time'>12:59 am</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/news/'>news</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/12/20/ios9-plus-xcodezong-jie/" title="Previous Post: iOS9+Xcode7æ€»ç»“">&laquo; iOS9+Xcode7æ€»ç»“</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/12/24/ios9xin-te-xing-wkwebview/" title="Next Post: iOS9-WKWebView+SFSafariViewController">iOS9-WKWebView+SFSafariViewController &raquo;</a>
      
    </p>
  </footer>
</article>



  <section>
    <h1>Comments</h1>
    <div id="comments" aria-live="polite"><!-- Duoshuo Comment BEGIN -->
<div class="ds-thread" data-title="iOS9-Unit Test"></div>
<script type="text/javascript">
  var duoshuoQuery = {short_name:"icocoscao"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>
<!-- Duoshuo Comment END --></div>
  </section>


</div>

<aside class="sidebar">
  
    <section>
    <h1>æ–‡ç« åˆ†ç±»</h1>
    <ul id="categories">
        <li class='category'><a href='/blog/categories/algorithms/'>algorithms (6)</a></li>
<li class='category'><a href='/blog/categories/and/'>and (14)</a></li>
<li class='category'><a href='/blog/categories/apples/'>apples (2)</a></li>
<li class='category'><a href='/blog/categories/application/'>application (1)</a></li>
<li class='category'><a href='/blog/categories/architecture/'>architecture (2)</a></li>
<li class='category'><a href='/blog/categories/audio/'>audio (8)</a></li>
<li class='category'><a href='/blog/categories/audio-video/'>audio-video (1)</a></li>
<li class='category'><a href='/blog/categories/data/'>data (6)</a></li>
<li class='category'><a href='/blog/categories/developer/'>developer (16)</a></li>
<li class='category'><a href='/blog/categories/foundation/'>foundation (31)</a></li>
<li class='category'><a href='/blog/categories/full/'>full (13)</a></li>
<li class='category'><a href='/blog/categories/low-level/'>low-level (4)</a></li>
<li class='category'><a href='/blog/categories/lve/'>lve (8)</a></li>
<li class='category'><a href='/blog/categories/news/'>news (4)</a></li>
<li class='category'><a href='/blog/categories/others/'>others (1)</a></li>
<li class='category'><a href='/blog/categories/performance/'>performance (12)</a></li>
<li class='category'><a href='/blog/categories/practical/'>practical (1)</a></li>
<li class='category'><a href='/blog/categories/radio/'>radio (8)</a></li>
<li class='category'><a href='/blog/categories/reverse/'>reverse (25)</a></li>
<li class='category'><a href='/blog/categories/senior/'>senior (40)</a></li>
<li class='category'><a href='/blog/categories/stack/'>stack (13)</a></li>
<li class='category'><a href='/blog/categories/structures/'>structures (6)</a></li>
<li class='category'><a href='/blog/categories/summarize/'>summarize (5)</a></li>
<li class='category'><a href='/blog/categories/tools/'>tools (5)</a></li>
<li class='category'><a href='/blog/categories/video/'>video (8)</a></li>

    </ul>
</section><section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/10/20/apptai-pang-liao-jian-fei/">Appå¤ªèƒ–äº†â€”â€”å‡è‚¥ğŸ˜‚</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/16/ioskai-fa-chang-yong-gong-neng-dai-ma-ji-jin-(you-xiu-pian-)/">iOSå¼€å‘â€”â€”å¸¸ç”¨åŠŸèƒ½ä»£ç é›†é”¦ï¼ˆå‹ç§€ç¯‡ï¼‰</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/14/ioszhuang-bi-pian-xiang-ying-shi-bian-cheng/">iOSè£…é€¼ç¯‡â€”â€”å“åº”å¼ç¼–ç¨‹</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/14/ioszhuang-bi-pian-han-shu-shi-bian-cheng/">iOSè£…é€¼ç¯‡â€”â€”å‡½æ•°å¼ç¼–ç¨‹</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/14/ioszhuang-bi-pian-lian-shi-bian-cheng/">iOSè£…é€¼ç¯‡â€”â€”é“¾å¼ç¼–ç¨‹</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/al1020119">@al1020119</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'al1020119',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





<section>
<h1>åšå®¢<abbr title="The word 'åšå®¢' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'åšå®¢', not for image.">&trade;</abbr></h1>
<a href="http://al1020119.github.io/blog/2015/12/22/ios9-unit-test/"><img src="http://chart.apis.google.com/chart?chs=150x150&cht=qr&chld=|0&chco=165B94&chl=http://al1020119.github.io/blog/2015/12/22/ios9-unit-test/" alt="post-qrcode"></a></section>


<section>
<h1>github<abbr title="The word 'github' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'github', not for image.">&trade;</abbr></h1>
<a><img src="/images/iCocosgithub.png" alt="post-qrcode"></a></section>


<section>
<h1>å¾®ä¿¡<abbr title="The word 'å¾®ä¿¡' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'å¾®ä¿¡', not for image.">&trade;</abbr></h1>
<a><img src="/images/iCocosWX.png" alt="post-qrcode"></a></section>


<section>
<h1>å…¬ä¼—å·<abbr title="The word 'å…¬ä¼—å·' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'å…¬ä¼—å·', not for image.">&trade;</abbr></h1>
<a><img src="/images/iCocosMGC.png" alt="post-qrcode"></a><section>
  
  
</section>
<h1>å…¬ä¼—å·<abbr title="The word 'å…¬ä¼—å·' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'å…¬ä¼—å·', not for image.">&trade;</abbr></h1>
<a><img src="/images/iCocos520.png" alt="post-qrcode"></a></section>
<section>
    <h1>è®¿å®¢ç»Ÿè®¡</h1>
    <br/>
    <a href="http://s07.flagcounter.com/more/2SH"><img src="http://s07.flagcounter.com/count/2SH/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_1/flags_0/" alt="Flag Counter" border="0"></a>
</section><section>
    <h1>æ–°æµªå¾®åš</h1>
    <ul id="weibo">
        <li>
            
            <!-- åœ¨æ­¤æ’å…¥è·å¾—çš„å¾®åšç§€ä»£ç  -->
            <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=3288975567&verifier=20ffcedd&dpc=1"></iframe>
            
        </li>
    </ul>
</section>
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - iCocos -
<span class="credit">welcome to <a href="http://al1020119.github.io">æ›¹#é»</a></span>
</p>

</footer>
  






<!--
-->



</body>
</html>
