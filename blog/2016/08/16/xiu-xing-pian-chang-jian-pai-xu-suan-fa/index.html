
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>ä¿®è¡Œç¯‡-å…«å¤§æ’åºç®—æ³• - iOSæ¢¦å·¥å‚</title>
  <meta name="author" content="iCocos">

  
  <meta name="description" content="å¸¸ç”¨æ’åºç®—æ³• è¿™é‡Œæˆ‘ä»¬å¤§æ¦‚æŒ‰ç…§é‡è¦æ€§çš„å…ˆåé¡ºåºä»‹ç» å¿«é€Ÿæ’åº å¿«é€Ÿæ’åºæ˜¯ä¸ç¨³å®šçš„ï¼Œå…¶æ—¶é—´å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯O ( nlgn )ã€‚
å¿«é€Ÿæ’åºé‡‡ç”¨çš„æ€æƒ³æ˜¯åˆ†æ²»æ€æƒ³ã€‚ æ€è·¯:å¿«é€Ÿæ’åºæ˜¯æ‰¾å‡ºä¸€ä¸ªå…ƒç´ ï¼ˆç†è®ºä¸Šå¯ä»¥éšä¾¿æ‰¾ä¸€ä¸ªï¼‰ä½œä¸ºåŸºå‡†(pivot),ç„¶åå¯¹æ•°ç»„è¿›è¡Œåˆ†åŒºæ“ä½œ,ä½¿åŸºå‡†å·¦è¾¹å…ƒç´ çš„å€¼éƒ½ä¸å¤§äºåŸºå‡†å€¼, &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://al1020119.github.io/blog/2016/08/16/xiu-xing-pian-chang-jian-pai-xu-suan-fa/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="iOSæ¢¦å·¥å‚" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//libs.baidu.com/jquery/1.7.2/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->

<!--<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
-->
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">iOSæ¢¦å·¥å‚</a></h1>
  
    <h2>iCocosâ€”â€”ä¸æˆ˜èƒœè‡ªå·±ï¼Œä½•ä»¥æ”¹å˜æœªæ¥ï¼</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="al1020119.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">åšæ–‡</a></li>
  <li><a href="/blog/archives">å½’æ¡£</a></li>
  <li><a href="/icocos">iCocos</a></li>
  <li><a href="/about">æ–‡ç« </a></li>
  <li><a href="/other">å…¶ä»–</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">ä¿®è¡Œç¯‡-å…«å¤§æ’åºç®—æ³•</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-08-16T12:31:14+08:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>12:31 pm</span></time>
        
        
        |   <a href="#comments">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>å¸¸ç”¨æ’åºç®—æ³•</p>

<blockquote><p>è¿™é‡Œæˆ‘ä»¬å¤§æ¦‚æŒ‰ç…§é‡è¦æ€§çš„å…ˆåé¡ºåºä»‹ç»</p></blockquote>

<h2>å¿«é€Ÿæ’åº</h2>

<ul>
<li><p>å¿«é€Ÿæ’åºæ˜¯ä¸ç¨³å®šçš„ï¼Œå…¶æ—¶é—´å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯O ( nlgn )ã€‚</p></li>
<li><p>å¿«é€Ÿæ’åºé‡‡ç”¨çš„æ€æƒ³æ˜¯åˆ†æ²»æ€æƒ³ã€‚</p></li>
</ul>


<p>æ€è·¯:å¿«é€Ÿæ’åºæ˜¯æ‰¾å‡ºä¸€ä¸ªå…ƒç´ ï¼ˆç†è®ºä¸Šå¯ä»¥éšä¾¿æ‰¾ä¸€ä¸ªï¼‰ä½œä¸ºåŸºå‡†(pivot),ç„¶åå¯¹æ•°ç»„è¿›è¡Œåˆ†åŒºæ“ä½œ,ä½¿åŸºå‡†å·¦è¾¹å…ƒç´ çš„å€¼éƒ½ä¸å¤§äºåŸºå‡†å€¼,åŸºå‡†å³è¾¹çš„å…ƒç´ å€¼ éƒ½ä¸å°äºåŸºå‡†å€¼ï¼Œå¦‚æ­¤ä½œä¸ºåŸºå‡†çš„å…ƒç´ è°ƒæ•´åˆ°æ’åºåçš„æ­£ç¡®ä½ç½®ã€‚é€’å½’å¿«é€Ÿæ’åºï¼Œå°†å…¶ä»–n-1ä¸ªå…ƒç´ ä¹Ÿè°ƒæ•´åˆ°æ’åºåçš„æ­£ç¡®ä½ç½®ã€‚æœ€åæ¯ä¸ªå…ƒç´ éƒ½æ˜¯åœ¨æ’åºåçš„æ­£ ç¡®ä½ç½®ï¼Œæ’åºå®Œæˆã€‚æ‰€ä»¥å¿«é€Ÿæ’åºç®—æ³•çš„æ ¸å¿ƒç®—æ³•æ˜¯åˆ†åŒºæ“ä½œï¼Œå³å¦‚ä½•è°ƒæ•´åŸºå‡†çš„ä½ç½®ä»¥åŠè°ƒæ•´è¿”å›åŸºå‡†çš„æœ€ç»ˆä½ç½®ä»¥ä¾¿åˆ†æ²»é€’å½’ã€‚</p>

<!--more-->


<p>ä¼ªä»£ç </p>

<pre><code>void quickSort(int a[], int len, int left, int right) {
   // æ‰€æœ‰éƒ½æ’åºå®Œæ¯•äº†ï¼Œå°±é€€å‡ºé€’å½’
   if left &gt;= right {
     return;
   }

   // æ¯ä¸€è¶Ÿåˆ’åˆ†ï¼Œä½¿å·¦è¾¹çš„æ¯”åŸºå‡†å°ï¼Œå³è¾¹çš„æ¯”åŸºå‡†å¤§ï¼Œå¹¶è¿”å›æ–°çš„åŸºå‡†çš„ä½ç½®
   int baseIndex = partition(a, len, left, right);

   // é€’å½’æ’åºå·¦éƒ¨åˆ†
   quickSort(a, len, left, baseIndex - 1);
   // é€’å½’æ’åºå³éƒ¨åˆ†
   quickSort(a, len, baseIndex + 1, right)
}

int partition(int a[], int len, int left, int right) {
   // è®°å½•å“ªä¸ªæ˜¯åŸºå‡†æ•°
   int base = a[left];
   // è®°å½•å½“å‰åŸºå‡†æ•°çš„ä½ç½®
   int baseIndex = left;

   while left &lt; right {
     // å…ˆä»å³è¾¹å¾€å·¦è¾¹æ‰«æï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”baseè¿˜è¦å°çš„æ•°ï¼Œä½†æ˜¯ä¸èƒ½ä¸leftç›¸é‡
     while left &lt; right &amp;&amp; a[right] &gt;= base {
       right--;
     }

     // å†ä»å·¦è¾¹å¾€å³è¾¹æ‰«æï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”baseè¿˜è¦å¤§çš„æ•°ï¼Œä½†æ˜¯ä¸èƒ½ä¸rightç›¸é‡
     while left &lt; right &amp;&amp; a[left] &lt;= base {
       left++;
     }

     // å°†æ‰€æ‰«æåˆ°çš„ç¬¬ä¸€ä¸ªæ¯”åŸºå‡†æ•°å°å’Œç¬¬ä¸€ä¸ªæ¯”åŸºå‡†æ•°å¤§çš„æ•°äº¤æ¢
     swap(a, left, right);
   }

   // äº¤æ¢leftä¸baseIndexå¯¹åº”çš„å…ƒç´ ï¼Œå°†leftä½ç½®çš„å…ƒç´ ä½œä¸ºæ–°çš„åŸºå‡†æ•°
   swap(a, baseIndex, left);

   // è¿”å›æ–°çš„åŸºå‡†ä½ç½®
   return left;
}

void swap(int a[], int i, int j) {
   int temp = a[i];

   a[i] = a[j];
   a[j] = temp;
}
</code></pre>

<p>Cè¯­è¨€ç‰ˆ</p>

<pre><code>void quickSort(int a[], int len, int left, int right) {
  if (left &gt;= right) {
    return;
  }

  // ä¸€æ¬¡åˆ’åˆ†åï¼Œå¾—åˆ°åŸºå‡†æ•°æ®çš„ä½ç½®
 int baseIndex = partition(a, len, left, right);

  // å¿«æ’å·¦è¾¹éƒ¨åˆ†
  quickSort(a, len, left, baseIndex - 1);
  // å¿«æ’å³è¾¹éƒ¨åˆ†
  quickSort(a, len, baseIndex + 1, right);
}

int partition(int a[], int len, int left, int right) {
  // æ¯ä¸€æ¬¡çš„åˆ’åˆ†ï¼Œéƒ½è®©ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†
  int base = a[left];
  // è®°ä¸‹åˆšå¼€å§‹çš„åŸºå‡†çš„ä½ç½®ï¼Œ ä¾¿äºæœ€åç›¸é‡æ—¶äº¤æ¢
  int baseIndex = left;

  while (left &lt; right) {
    // æŸ¥æ‰¾å³éƒ¨åˆ†æ¯”baseè¿˜å°çš„å…ƒç´ çš„ä¸‹æ ‡
    while (left &lt; right &amp;&amp; a[right] &gt;= base) {
      right--;
    }

    // æŸ¥æ‰¾å·¦éƒ¨åˆ†æ¯”baseè¿˜å¤§çš„å…ƒç´ çš„ä¸‹æ ‡
    while (left &lt; right &amp;&amp; a[left] &lt;= base) {
      left++;
    }

    // å°†è¿™ä¸€è¶Ÿæ¯”åŸºå‡†å¤§å’Œæ¯”åŸºå‡†å°çš„æ‰€æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå€¼ï¼Œäº’ç›¸äº¤æ¢
    swap(a, left, right);
  }

  // åœ¨leftä¸rightç›¸é‡æ—¶ï¼Œå°†åŸºå‡†æ•°ä¸ç›¸é‡ç‚¹äº¤æ¢
  // è¿™æ ·è¿™ä¸€æ¬¡åˆ’åˆ†ï¼Œå°±å¯ä»¥ä¿è¯å·¦è¾¹çš„æ¯”åŸºå‡†æ•°å°ï¼Œå³è¾¹çš„æ¯”åŸºå‡†æ•°å¤§
  swap(a, baseIndex, left);

  // åˆ’åˆ†å®Œæˆåï¼Œä»¥leftä½ç½®çš„å…ƒç´ ä½œä¸ºæ–°çš„åŸºå‡†ï¼Œåˆ†æˆå·¦å³åºåˆ—ï¼Œåˆ†åˆ«é€’å½’æ’åº
  return left;
}

void swap(int a[], int i, int j) {
  int temp = a[i];
  a[i] = a[j];
  a[j] = temp;
}
</code></pre>

<p>Swiftç‰ˆ</p>

<pre><code>func quickSort(inout a: [Int], left: Int, right: Int) {
  if left &gt;= right {
    return
  }

  let baseIndex = partition(&amp;a, left: left, right: right)

  quickSort(&amp;a, left: left, right: baseIndex - 1)
  quickSort(&amp;a, left: baseIndex + 1, right: right)
}

func partition(inout a: [Int], var left: Int, var right: Int) -&gt;Int {
  let base = a[left]
  let baseIndex = left

  while left &lt; right {
    while left &lt; right &amp;&amp; a[right] &gt;= base {
      right--
    }

    while left &lt; right &amp;&amp; a[left] &lt;= base {
      left++
    }

    swapInt(&amp;a, i: left, j: right)
  }

  swapInt(&amp;a, i: baseIndex, j: left)

  return left
}

func swapInt(inout a: [Int], i: Int, j: Int) {
  let temp = a[i]
  a[i] = a[j]
  a[j] = temp
}
</code></pre>

<hr />

<h2>å†’æ³¡æ’åº</h2>

<p>ç®—æ³•æ€è·¯ï¼šå†’æ³¡æ’åºçš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯é€šè¿‡ä¸ç›¸é‚»å…ƒç´ çš„æ¯”è¾ƒå’Œäº¤æ¢ï¼ŒæŠŠå°çš„æ•°äº¤æ¢åˆ°æœ€å‰é¢ã€‚å› ä¸ºè¿™ä¸ªè¿‡ç¨‹ç±»ä¼¼äºæ°´æ³¡å‘ä¸Šå‡ä¸€æ ·ï¼Œå› æ­¤è¢«å‘½åä¸ºå†’æ³¡æ’åºã€‚</p>

<blockquote><p>å†’æ³¡æ’åºéœ€è¦ä¸¤ä¸ªå¾ªç¯æ¥æ§åˆ¶éå†ï¼Œä¹Ÿå°±æ˜¯éœ€è¦n * nè¶Ÿæ‰èƒ½åˆ¤æ–­ã€äº¤æ¢å®Œæˆã€‚</p></blockquote>

<p>å†’æ³¡æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸ºO ( n2 )ã€‚</p>

<p>ä¼ªä»£ç </p>

<pre><code>void bubbleSort(int a[], int len) {
   for i = 0; i &lt; len - 1; ++i {
      for j = len - 1; j &gt; i; --j {
         if a[j] &lt; a[j - 1] {
            swap(a, j, j - 1);
         }
      }
   }
}

void swap(int a[], int i, int j) {
   int temp = a[i];
   a[i] = a[j];
   a[j] = temp;
}
</code></pre>

<p>Cè¯­è¨€ç‰ˆ</p>

<pre><code>void bubbleSortUsingC(int arr[], int len) {
  // ä»£è¡¨èµ°å¤šå°‘è¶Ÿï¼Œæœ€åä¸€è¶Ÿå°±ä¸ç”¨å†èµ°äº†
  for (int i = 0; i &lt; len - 1; ++i) {

    // ä»åå¾€å‰èµ°ï¼Œç›¸å½“äºæ³¡ä»æ°´åº•å†’å‡ºæ¥åˆ°æ°´é¢
    for (int j = len - 1; j &gt; i; --j) {

      // å¦‚æœåé¢çš„æ¯”å‰é¢ä¸€ä¸ªçš„å€¼è¿˜è¦å°ï¼Œåˆ™éœ€è¦äº¤æ¢
      if (arr[j] &lt; arr[j - 1]) {
        swap(arr, j, j - 1);
      }
    }
  }
}

void swap(int arr[], int i, int j) {
  int temp = arr[i];
  arr[i] = arr[j];
  arr[j] = temp;
}
</code></pre>

<p>æµ‹è¯•ä¸€ä¸‹ï¼š</p>

<pre><code>int a[5] = {5,3,8,6,4};

bubbleSortUsingC(a, sizeof(a) / sizeof(int));

for (int i = 0; i &lt; sizeof(a) / sizeof(int); ++i) {
    NSLog(@"%d", a[i]);
}

// æ‰“å°: 3, 4, 5, 6, 8 åˆæ­¥å¦‚æœŸæ•ˆæœ

ObjCç‰ˆ

- (void)bubbleSort:(int [])array len:(size_t)len {
  for (size_t i = 0; i &lt; len - 1; ++i) {
    for (size_t j = len - 1; j &gt; i; --j) {
      if (array[j] &lt; array[j - 1]) {
        // äº¤æ¢
        int temp = array[j];
        array[j] = array[j - 1];
        array[j - 1] = temp;
      }
    }
  }
}
</code></pre>

<p>æµ‹è¯•ä½¿ç”¨ï¼š</p>

<p>int a[5] = {5,3,8,6,4};
[self bubbleSort:a len:sizeof(a) / sizeof(int)];
for (int i = 0; i &lt; sizeof(a) / sizeof(int); ++i) {
    NSLog(@&ldquo;%d&rdquo;, a[i]);
}</p>

<p>Swiftç‰ˆ</p>

<pre><code>func bubbleSort(var arr: [Int]) -&gt;[Int] {
  // èµ°å¤šå°‘è¶Ÿ
  for var i = 0; i &lt; arr.count - 1; ++i {

    // ä»åå¾€å‰
    for var j = arr.count - 1; j &gt; i; --j {

      // åè€… &lt; å‰è€… ï¼Ÿ äº¤æ¢ ï¼š ä¸äº¤æ¢
      if arr[j] &lt; arr[j - 1] {
        let temp = arr[j]

        arr[j] = arr[j - 1]
        arr[j - 1] = temp
      }
    }
  }

  return arr
}
</code></pre>

<p>æµ‹è¯•ä½¿ç”¨ï¼š</p>

<pre><code>// ç”±äºswiftä¸­æ•°ç»„ä¹Ÿæ˜¯ç»“æ„ä½“ï¼Œæ˜¯å€¼ç±»å‹ï¼Œå› æ­¤éœ€è¦æ¥æ”¶è¿”å›å€¼æ‰èƒ½å¾—åˆ°æ’åºåçš„æ•°ç»„
var arr = [5, 3, 8, 6, 4]
arr = bubbleSort(arr)
print(arr)

å°è¯•ç»™Modelæ’åº

- (void)bubbleSort:(NSMutableArray *)array {
  for (NSUInteger i = 0; i &lt; array.count - 1; ++i) {

    for (NSUInteger j = array.count - 1; j &gt; i; --j) {
      HYBTestModel *modelj = [array objectAtIndex:j];
      HYBTestModel *modelj_1 = [array objectAtIndex:j - 1];

      // å‰è€… &lt; åè€… ï¼Ÿ äº¤æ¢ ï¼š ä¸äº¤æ¢
      if ([modelj.uid compare:modelj_1.uid options:NSCaseInsensitiveSearch] == NSOrderedAscending) {
        [array exchangeObjectAtIndex:j withObjectAtIndex:j - 1];
      }
    }
  }
}
</code></pre>

<p>æµ‹è¯•ï¼š</p>

<pre><code>NSMutableArray *array = [[NSMutableArray alloc] init];
for (NSUInteger i = 0; i &lt; 10; ++i) {
  HYBTestModel *model = [[HYBTestModel alloc] init];
  model.title = [NSString stringWithFormat:@"æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š%ld", 10 - (i + 1)];
  model.uid = [NSString stringWithFormat:@"%ld", 10 - (i + 1)];

  [array addObject:model];
}

[self bubbleSort:array];

for (HYBTestModel *model in array) {
  NSLog(@"%@ %@", model.uid, model.title);
}
</code></pre>

<p>// æ‰“å°:</p>

<pre><code>2016-03-10 22:57:37.524 DataAgorithmDemos[96148:3779265] 0 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š0
2016-03-10 22:57:37.526 DataAgorithmDemos[96148:3779265] 1 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š1
2016-03-10 22:57:37.526 DataAgorithmDemos[96148:3779265] 2 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š2
2016-03-10 22:57:37.526 DataAgorithmDemos[96148:3779265] 3 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š3
2016-03-10 22:57:37.582 DataAgorithmDemos[96148:3779265] 4 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š4
2016-03-10 22:57:37.588 DataAgorithmDemos[96148:3779265] 5 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š5
2016-03-10 22:57:37.589 DataAgorithmDemos[96148:3779265] 6 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š6
2016-03-10 22:57:37.593 DataAgorithmDemos[96148:3779265] 7 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š7
2016-03-10 22:57:37.594 DataAgorithmDemos[96148:3779265] 8 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š8
2016-03-10 22:57:37.596 DataAgorithmDemos[96148:3779265] 9 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š9
</code></pre>

<p>è¯´æ˜æ’åºæ­£å¸¸çš„~</p>

<h2>é€‰æ‹©æ’åº</h2>

<ul>
<li>é€‰æ‹©æ’åº:çš„æ€æƒ³å…¶å®å’Œå†’æ³¡æ’åºæœ‰ç‚¹ç±»ä¼¼ï¼Œéƒ½æ˜¯åœ¨ä¸€æ¬¡æ’åºåæŠŠæœ€å°çš„å…ƒç´ æ”¾åˆ°æœ€å‰é¢ã€‚ä½†æ˜¯è¿‡ç¨‹ä¸åŒï¼Œå†’æ³¡æ’åºæ˜¯é€šè¿‡ç›¸é‚»çš„æ¯”è¾ƒå’Œäº¤æ¢ã€‚è€Œé€‰æ‹©æ’åºæ˜¯é€šè¿‡å¯¹æ•´ä½“çš„é€‰æ‹©</li>
</ul>


<p>ç®—æ³•æ€æƒ³ï¼šæ¯ä¸€è¶Ÿä»å‰å¾€åæŸ¥æ‰¾å‡ºå€¼æœ€å°çš„ç´¢å¼•ï¼ˆä¸‹æ ‡ï¼‰ï¼Œæœ€åé€šè¿‡æ¯”è¾ƒæ˜¯å¦éœ€è¦äº¤æ¢ã€‚æ¯ä¸€è¶Ÿéƒ½å°†æœ€å°çš„å…ƒç´ äº¤æ¢åˆ°æœ€å‰é¢ã€‚</p>

<p>å…¶å®é€‰æ‹©æ’åºå¯ä»¥çœ‹æˆæ˜¯å†’æ³¡æ’åºçš„ä¼˜åŒ–ï¼Œå› ä¸ºå…¶ç›®çš„ç›¸åŒï¼Œåªæ˜¯é€‰æ‹©æ’åºåªæœ‰åœ¨ç¡®å®šäº†æœ€å°æ•°çš„å‰æä¸‹æ‰è¿›è¡Œäº¤æ¢ï¼Œå¤§å¤§å‡å°‘äº†äº¤æ¢çš„æ¬¡æ•°ï¼Œè€Œæ¯”è¾ƒæ¬¡æ•°æ˜¯ä¸€æ ·çš„ã€‚</p>

<blockquote><p>æ³¨æ„ï¼šå†’æ³¡æ’åºæ˜¯ä»åå¾€å‰æ‰«ï¼Œä½¿å¤§çš„å¾€ä¸‹æ²‰ï¼Œè€Œå°çš„å¾€ä¸Šæµ®ï¼›é€‰æ‹©æ’åºæ˜¯ä»å‰å¾€åæ‰«ï¼Œæ¯è¶Ÿæ‰¾å‡ºå€¼æœ€å°çš„ç´¢å¼•ï¼Œä½¿æ¯è¶Ÿæœ€å°å€¼éƒ½äº¤æ¢åˆ°è¯¥è¶Ÿçš„æœ€å‰é¢ï¼Œä»è€Œå¾—åˆ°å‡åºåºåˆ—</p></blockquote>

<p>é€‰æ‹©æ’åºå¯ä»¥çœ‹ä½œå†’æ³¡æ’åºçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼Œä¸€æ ·è¦ä¸¤å±‚å¾ªç¯æ‰èƒ½æ’åºå®Œæˆã€‚</p>

<p>æ‰€ä»¥ï¼Œé€‰æ‹©æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸ºO ( n2 )</p>

<p>ä¼ªä»£ç </p>

<pre><code>void selectSort(int arr[], int len) {
  int min = 0;

  // åªéœ€è¦n-1è¶Ÿå³å¯ï¼Œåˆ°æœ€åä¸€è¶Ÿåªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œä¸€å®šæ˜¯æœ€å°çš„äº†
  for i = 0; i &lt; len - 1; ++i {

    // æ¯ä¸€è¶Ÿçš„å¼€å§‹ï¼Œå‡è®¾è¯¥è¶Ÿçš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æœ€å°çš„
    min = i;

    // æŸ¥æ‰¾è¯¥è¶Ÿæœ‰æ²¡æœ‰æ›´å°çš„ï¼Œå¦‚æœæ‰¾åˆ°æ›´å°çš„ï¼Œåˆ™æ›´æ–°æœ€å°å€¼çš„ä¸‹æ ‡
    for j = i + 1; j &lt; len; ++j {
       if arr[j] &lt; arr[min] {
          min = j;
       } 
    }

    // å¦‚æœè¯¥è¶Ÿçš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸æ˜¯æœ€å°çš„ï¼Œè¯´æ˜éœ€è¦äº¤æ¢
    if min != i {
       int temp = arr[i];
       arr[i] = arr[min];
       arr[min] = temp;
    }
  }
}
</code></pre>

<p>Cè¯­è¨€ç‰ˆ</p>

<pre><code>void selectSort(int arr[], int len) {
  int min = 0;

  // åªéœ€è¦n-1è¶Ÿ
  for (int i = 0; i &lt; len - 1; ++i) {
    min = i;

    // ä»ç¬¬n+1è¶Ÿèµ·å§‹æ‰¾åˆ°æœ«å°¾
    for (int j = i + 1; j &lt; len; ++j) {

      // æ‰¾åˆ°æ¯”minä½ç½®æ›´å°çš„ï¼Œå°±æ›´æ–°è¿™ä¸€è¶Ÿæ‰€æ‰¾åˆ°çš„æœ€å°å€¼çš„ä½ç½®
      if (arr[j] &lt; arr[min]) {
        min = j;
      }
    }

    // å¦‚æœminä¸iä¸ç›¸ç­‰ï¼Œè¯´æ˜æœ‰æ¯”iä½ç½®æ›´å°çš„ï¼Œæ‰€ä»¥éœ€è¦äº¤æ¢
    if (min != i) {
      int temp = arr[min];
      arr[min] = arr[i];
      arr[i] = temp;
    }
  }
}
</code></pre>

<p>ObjCç‰ˆ</p>

<pre><code>- (void)selectSort:(int [])arr len:(int)len {
  int min = 0;

  // åªéœ€è¦n-1è¶Ÿ
  for (int i = 0; i &lt; len - 1; ++i) {
    min = i;

    // ä»ç¬¬n+1è¶Ÿèµ·å§‹æ‰¾åˆ°æœ«å°¾
    for (int j = i + 1; j &lt; len; ++j) {

      // æ‰¾åˆ°æ¯”minä½ç½®æ›´å°çš„ï¼Œå°±æ›´æ–°è¿™ä¸€è¶Ÿæ‰€æ‰¾åˆ°çš„æœ€å°å€¼çš„ä½ç½®
      if (arr[j] &lt; arr[min]) {
        min = j;
      }
    }

    // å¦‚æœminä¸iä¸ç›¸ç­‰ï¼Œè¯´æ˜æœ‰æ¯”iä½ç½®æ›´å°çš„ï¼Œæ‰€ä»¥éœ€è¦äº¤æ¢
    if (min != i) {
      int temp = arr[min];
      arr[min] = arr[i];
      arr[i] = temp;
    }
  }
}
</code></pre>

<p>Swiftç‰ˆ</p>

<pre><code>func selectSort(var arr: [Int]) -&gt;[Int] {
  var min = 0

  // åªéœ€è¦n-1è¶Ÿ
  for var i = 0; i &lt; arr.count - 1; ++i {
    min = i

    // ä»ç¬¬n+1è¶Ÿèµ·å§‹æ‰¾åˆ°æœ«å°¾
    for var j = i + 1; j &lt; arr.count; ++j {

      // æ‰¾åˆ°æ¯”minä½ç½®æ›´å°çš„ï¼Œå°±æ›´æ–°è¿™ä¸€è¶Ÿæ‰€æ‰¾åˆ°çš„æœ€å°å€¼çš„ä½ç½®
      if arr[j] &lt; arr[min] {
        min = j
      }
    }

    // å¦‚æœminä¸iä¸ç›¸ç­‰ï¼Œè¯´æ˜æœ‰æ¯”iä½ç½®æ›´å°çš„ï¼Œæ‰€ä»¥éœ€è¦äº¤æ¢
    if min != i {
      let temp = arr[i]
      arr[i] = arr[min]
      arr[min] = temp
    }
  }

  return arr
}
</code></pre>

<p>å°è¯•ObjCå®ç°æ¨¡å‹é€‰æ‹©æ’åº</p>

<pre><code>- (void)selectSort:(NSMutableArray *)array {
  NSUInteger minIndex = 0;

  for (NSUInteger i = 0; i &lt; array.count - 1; ++i) {
    minIndex = i;

    for (NSUInteger j = i + 1; j &lt; array.count; ++j) {
      HYBTestModel *modelj = [array objectAtIndex:j];
      HYBTestModel *model = [array objectAtIndex:minIndex];

      // æ¯”minä¸‹çš„è¿˜è¦å°ï¼Œåˆ™æ›´æ–°min
      if ([modelj.uid compare:model.uid options:NSCaseInsensitiveSearch] == NSOrderedAscending) {
        minIndex = j;
      }
    }

    if (minIndex != i) {
      [array exchangeObjectAtIndex:minIndex withObjectAtIndex:i];
    }
  }
}
</code></pre>

<p>æµ‹è¯•ï¼š</p>

<pre><code>NSMutableArray *array = [[NSMutableArray alloc] init];
for (NSUInteger i = 0; i &lt; 10; ++i) {
  HYBTestModel *model = [[HYBTestModel alloc] init];
  model.title = [NSString stringWithFormat:@"æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š%ld", 10 - (i + 1)];
  model.uid = [NSString stringWithFormat:@"%ld", 10 - (i + 1)];

  [array addObject:model];

}

[self selectSort:array];

for (HYBTestModel *model in array) {
  NSLog(@"%@ %@", model.uid, model.title);
}
</code></pre>

<p>// æ‰“å°:</p>

<pre><code>2016-03-11 11:52:47.482 DataAgorithmDemos[97923:4012461] 0 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š0
2016-03-11 11:52:47.484 DataAgorithmDemos[97923:4012461] 1 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š1
2016-03-11 11:52:47.484 DataAgorithmDemos[97923:4012461] 2 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š2
2016-03-11 11:52:47.484 DataAgorithmDemos[97923:4012461] 3 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š3
2016-03-11 11:52:47.484 DataAgorithmDemos[97923:4012461] 4 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š4
2016-03-11 11:52:47.484 DataAgorithmDemos[97923:4012461] 5 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š5
2016-03-11 11:52:47.484 DataAgorithmDemos[97923:4012461] 6 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š6
2016-03-11 11:52:47.485 DataAgorithmDemos[97923:4012461] 7 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š7
2016-03-11 11:52:47.487 DataAgorithmDemos[97923:4012461] 8 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š8
2016-03-11 11:52:47.487 DataAgorithmDemos[97923:4012461] 9 æ ‡å“¥çš„æŠ€æœ¯åšå®¢ï¼š9
</code></pre>

<h2>å †æ’åº</h2>

<p>å †æ˜¯æŒ‡äºŒå‰å †ï¼ŒäºŒå‰å †åˆç§°å®Œå…¨äºŒå‰æ ‘æˆ–è€…å«è¿‘ä¼¼å®Œå…¨äºŒå‰æ ‘ã€‚äºŒå‰å †åˆåˆ†ä¸ºæœ€å¤§å †å’Œæœ€å°å †ã€‚</p>

<p>å †æ’åº(Heapsort)æ˜¯æŒ‡åˆ©ç”¨å †è¿™ç§æ•°æ®ç»“æ„æ‰€è®¾è®¡çš„ä¸€ç§æ’åºç®—æ³•ï¼Œå®ƒæ˜¯é€‰æ‹©æ’åºçš„ä¸€ç§ã€‚å¯ä»¥åˆ©ç”¨æ•°ç»„çš„ç‰¹ç‚¹å¿«é€Ÿå®šä½æŒ‡å®šç´¢å¼•çš„å…ƒç´ ã€‚æ•°ç»„å¯ä»¥æ ¹æ®ç´¢å¼•ç›´æ¥è·å–å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆ1ï¼‰ï¼Œä¹Ÿå°±æ˜¯å¸¸é‡ï¼Œå› æ­¤å¯¹äºå–å€¼æ•ˆç‡æé«˜ã€‚</p>

<p>æœ€å¤§å †çš„ç‰¹æ€§å¦‚ä¸‹ï¼š</p>

<pre><code>çˆ¶ç»“ç‚¹çš„é”®å€¼æ€»æ˜¯å¤§äºæˆ–è€…ç­‰äºä»»ä½•ä¸€ä¸ªå­èŠ‚ç‚¹çš„é”®å€¼
æ¯ä¸ªç»“ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘éƒ½æ˜¯ä¸€ä¸ªæœ€å¤§å †
</code></pre>

<p>æœ€å°å †çš„ç‰¹æ€§å¦‚ä¸‹ï¼š</p>

<pre><code>çˆ¶ç»“ç‚¹çš„é”®å€¼æ€»æ˜¯å°äºæˆ–è€…ç­‰äºä»»ä½•ä¸€ä¸ªå­èŠ‚ç‚¹çš„é”®å€¼
æ¯ä¸ªç»“ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘éƒ½æ˜¯ä¸€ä¸ªæœ€å°å †
</code></pre>

<p>å †æ’åºçš„æ—¶é—´ï¼Œä¸»è¦ç”±å»ºç«‹åˆå§‹å †å’Œåå¤è°ƒæ•´å †è¿™ä¸¤éƒ¨åˆ†çš„æ—¶é—´å¼€é”€æ„æˆ.ç”±äºå †æ’åºæ˜¯ä¸ç¨³å®šçš„ï¼Œå®ƒå¾—æ‰­åˆ°çš„æ—¶é—´å¤æ‚åº¦ä¼šæ ¹æ®å®é™…æƒ…å†µè¾ƒå¤§ï¼Œå› æ­¤åªèƒ½å–å¹³å‡æ—¶é—´å¤æ‚åº¦ã€‚</p>

<p>å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºï¼šO( N * log2(N) )</p>

<p>ä½¿ç”¨å»ºè®®ï¼š</p>

<pre><code>ç”±äºåˆå§‹åŒ–å †éœ€è¦æ¯”è¾ƒçš„æ¬¡æ•°è¾ƒå¤šï¼Œå› æ­¤ï¼Œå †æ’åºæ¯”è¾ƒé€‚åˆäºæ•°æ®é‡éå¸¸å¤§çš„åœºåˆï¼ˆç™¾ä¸‡æ•°æ®æˆ–æ›´å¤šï¼‰ã€‚ç”±äºé«˜æ•ˆçš„å¿«é€Ÿæ’åºæ˜¯åŸºäºé€’å½’å®ç°çš„ï¼Œæ‰€ä»¥åœ¨æ•°æ®é‡éå¸¸å¤§æ—¶ä¼šå‘ç”Ÿå †æ ˆæº¢å‡ºé”™è¯¯ã€‚
</code></pre>

<p>åŸºäºæœ€å¤§å †å®ç°å‡åºæ’åº</p>

<pre><code>// åˆå§‹åŒ–å †
void initHeap(int a[], int len) {
  // ä»å®Œå…¨äºŒå‰æ ‘æœ€åä¸€ä¸ªéå­èŠ‚ç‚¹å¼€å§‹
  // åœ¨æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•æ˜¯0
  // ç¬¬nä¸ªå…ƒç´ çš„å·¦å­©å­ä¸º2n+1ï¼Œå³å­©å­ä¸º2n+2ï¼Œ
  // æœ€åä¸€ä¸ªéå­èŠ‚ç‚¹ä½ç½®åœ¨(n - 1) / 2
  for (int i = (len - 1) / 2; i &gt;= 0; --i) {
    adjustMaxHeap(a, len, i);
  }
}

void adjustMaxHeap(int a[], int len, int parentNodeIndex) {
  // è‹¥åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆåªèƒ½æ˜¯å †é¡¶å…ƒç´ ï¼Œä¹Ÿæ²¡æœ‰å¿…è¦å†æ’åºäº†
  if (len &lt;= 1) {
    return;
  }

  // è®°å½•æ¯”çˆ¶èŠ‚ç‚¹å¤§çš„å·¦å­©å­æˆ–è€…å³å­©å­çš„ç´¢å¼•
  int targetIndex = -1;

  // è·å–å·¦ã€å³å­©å­çš„ç´¢å¼•
  int leftChildIndex = 2 * parentNodeIndex + 1;
  int rightChildIndex = 2 * parentNodeIndex + 2;

  // æ²¡æœ‰å·¦å­©å­
  if (leftChildIndex &gt;= len) {
    return;
  }

  // æœ‰å·¦å­©å­ï¼Œä½†æ˜¯æ²¡æœ‰å³å­©å­
  if (rightChildIndex &gt;= len) {
    targetIndex = leftChildIndex;
  }
  // æœ‰å·¦å­©å­å’Œå³å­©å­
  else {
    // å–å·¦ã€å³å­©å­ä¸¤è€…ä¸­æœ€å¤§çš„ä¸€ä¸ª
    targetIndex = a[leftChildIndex] &gt; a[rightChildIndex] ? leftChildIndex : rightChildIndex;
  }

  // åªæœ‰å­©å­æ¯”çˆ¶èŠ‚ç‚¹çš„å€¼è¿˜è¦å¤§ï¼Œæ‰éœ€è¦äº¤æ¢
  if (a[targetIndex] &gt; a[parentNodeIndex]) {
    int temp = a[targetIndex];

    a[targetIndex] = a[parentNodeIndex];
    a[parentNodeIndex] = temp;


    // äº¤æ¢å®Œæˆåï¼Œæœ‰å¯èƒ½ä¼šå¯¼è‡´a[targetIndex]ç»“ç‚¹æ‰€å½¢æˆçš„å­æ ‘ä¸æ»¡è¶³å †çš„æ¡ä»¶ï¼Œ
    // è‹¥ä¸æ»¡è¶³å †çš„æ¡ä»¶ï¼Œåˆ™è°ƒæ•´ä¹‹ä½¿ä¹‹ä¹Ÿæˆä¸ºå †
    adjustMaxHeap(a, len, targetIndex);
  }
}

void heapSort(int a[], int len) {
  if (len &lt;= 1) {
    return;
  }

  // åˆå§‹å †æˆæ— åºæœ€å¤§å †
  initHeap(a, len);

  for (int i = len - 1; i &gt; 0; --i) {
    // å°†å½“å‰å †é¡¶å…ƒç´ ä¸æœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢ï¼Œä¿è¯è¿™ä¸€è¶Ÿæ‰€æŸ¥æ‰¾åˆ°çš„å †é¡¶å…ƒç´ ä¸æœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢
    // æ³¨æ„ï¼šè¿™é‡Œæ‰€è¯´çš„æœ€åä¸æ˜¯a[len - 1]ï¼Œè€Œæ˜¯æ¯ä¸€è¶Ÿçš„èŒƒå›´ä¸­æœ€åä¸€ä¸ªå…ƒç´ 
    // ä¸ºä»€ä¹ˆè¦åŠ ä¸Š&gt;0åˆ¤æ–­ï¼Ÿæ¯æ¬¡ä¸æ˜¯è¯´å †é¡¶ä¸€å®šæ˜¯æœ€å¤§å€¼å—ï¼Ÿæ²¡é”™ï¼Œæ¯ä¸€è¶Ÿè°ƒæ•´åï¼Œå †é¡¶æ˜¯æœ€å¤§å€¼çš„
    // ä½†æ˜¯ï¼Œç”±äºlençš„èŒƒå›´ä¸æ–­åœ°ç¼©å°ï¼Œå¯¼è‡´æŸäº›ç‰¹æ®Šçš„åºåˆ—å‡ºç°å¼‚å¸¸
    // æ¯”å¦‚è¯´ï¼Œ5, 3, 8, 6, 4åºåˆ—ï¼Œå½“è°ƒæ•´i=1æ—¶ï¼Œå·²ç»è°ƒæ•´ä¸º3,4,5,6,8åºåˆ—ï¼Œå·²ç»æœ‰åºäº†
    // ä½†æ˜¯å¯¼è‡´äº†a[i]ä¸a[0]äº¤æ¢ï¼Œç”±äºå˜æˆäº†4,3,5,6,8åè€Œå˜æˆæ— åºäº†!
    if (a[0] &gt; a[i]) {
      int temp = a[0];
      a[0] = a[i];
      a[i] = temp;
    }

    // èŒƒå›´å˜æˆä¸ºï¼š
    // 0...len-1
    // 0...len-1-1
    // 0...1 // ç»“æŸ
    // å…¶ä¸­ï¼Œ0æ˜¯å †é¡¶ï¼Œæ¯æ¬¡éƒ½æ˜¯æ‰¾å‡ºåœ¨æŒ‡å®šçš„èŒƒå›´å†…æ¯”å †é¡¶è¿˜å¤§çš„å…ƒç´ ï¼Œç„¶åä¸å †é¡¶å…ƒç´ äº¤æ¢
    adjustMaxHeap(a, i - 1, 0);
  }
}
</code></pre>

<p>åŸºäºæœ€å°å †å®ç°é™åºæ’åº</p>

<pre><code>// åˆå§‹åŒ–å †
void initHeap(int a[], int len) {
  // ä»å®Œå…¨äºŒå‰æ ‘æœ€åä¸€ä¸ªéå­èŠ‚ç‚¹å¼€å§‹
  // åœ¨æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•æ˜¯0
  // ç¬¬nä¸ªå…ƒç´ çš„å·¦å­©å­ä¸º2n+1ï¼Œå³å­©å­ä¸º2n+2ï¼Œ
  // æœ€åä¸€ä¸ªéå­èŠ‚ç‚¹ä½ç½®åœ¨(n - 1) / 2
  for (int i = (len - 1) / 2; i &gt;= 0; --i) {
    adjustMinHeap(a, len, i);
  }
}

void adjustMinHeap(int a[], int len, int parentNodeIndex) {
  // è‹¥åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆåªèƒ½æ˜¯å †é¡¶å…ƒç´ ï¼Œä¹Ÿæ²¡æœ‰å¿…è¦å†æ’åºäº†
  if (len &lt;= 1) {
    return;
  }

  // è®°å½•æ¯”çˆ¶èŠ‚ç‚¹å¤§çš„å·¦å­©å­æˆ–è€…å³å­©å­çš„ç´¢å¼•
  int targetIndex = -1;

  // è·å–å·¦ã€å³å­©å­çš„ç´¢å¼•
  int leftChildIndex = 2 * parentNodeIndex + 1;
  int rightChildIndex = 2 * parentNodeIndex + 2;

  // æ²¡æœ‰å·¦å­©å­
  if (leftChildIndex &gt;= len) {
    return;
  }

  // æœ‰å·¦å­©å­ï¼Œä½†æ˜¯æ²¡æœ‰å³å­©å­
  if (rightChildIndex &gt;= len) {
    targetIndex = leftChildIndex;
  }
  // æœ‰å·¦å­©å­å’Œå³å­©å­
  else {
    // å–å·¦ã€å³å­©å­ä¸¤è€…ä¸­æœ€ä¸Šçš„ä¸€ä¸ª
    targetIndex = a[leftChildIndex] &lt; a[rightChildIndex] ? leftChildIndex : rightChildIndex;
  }

  // åªæœ‰å­©å­æ¯”çˆ¶èŠ‚ç‚¹çš„å€¼è¿˜è¦å°ï¼Œæ‰éœ€è¦äº¤æ¢
  if (a[targetIndex] &lt; a[parentNodeIndex]) {
    int temp = a[targetIndex];

    a[targetIndex] = a[parentNodeIndex];
    a[parentNodeIndex] = temp;


    // äº¤æ¢å®Œæˆåï¼Œæœ‰å¯èƒ½ä¼šå¯¼è‡´a[targetIndex]ç»“ç‚¹æ‰€å½¢æˆçš„å­æ ‘ä¸æ»¡è¶³å †çš„æ¡ä»¶ï¼Œ
    // è‹¥ä¸æ»¡è¶³å †çš„æ¡ä»¶ï¼Œåˆ™è°ƒæ•´ä¹‹ä½¿ä¹‹ä¹Ÿæˆä¸ºå †
    adjustMinHeap(a, len, targetIndex);
  }
}

void heapSort(int a[], int len) {
  if (len &lt;= 1) {
    return;
  }

  // åˆå§‹å †æˆæ— åºæœ€å°å †
  initHeap(a, len);

  for (int i = len - 1; i &gt; 0; --i) {
    // å°†å½“å‰å †é¡¶å…ƒç´ ä¸æœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢ï¼Œä¿è¯è¿™ä¸€è¶Ÿæ‰€æŸ¥æ‰¾åˆ°çš„å †é¡¶å…ƒç´ ä¸æœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢
    // æ³¨æ„ï¼šè¿™é‡Œæ‰€è¯´çš„æœ€åä¸æ˜¯a[len - 1]ï¼Œè€Œæ˜¯æ¯ä¸€è¶Ÿçš„èŒƒå›´ä¸­æœ€åä¸€ä¸ªå…ƒç´ 
    // ä¸ºä»€ä¹ˆè¦åŠ ä¸Š&gt;0åˆ¤æ–­ï¼Ÿæ¯æ¬¡ä¸æ˜¯è¯´å †é¡¶ä¸€å®šæ˜¯æœ€å°å€¼å—ï¼Ÿæ²¡é”™ï¼Œæ¯ä¸€è¶Ÿè°ƒæ•´åï¼Œå †é¡¶æ˜¯æœ€å°å€¼çš„
    // ä½†æ˜¯ï¼Œç”±äºlençš„èŒƒå›´ä¸æ–­åœ°ç¼©å°ï¼Œå¯¼è‡´æŸäº›ç‰¹æ®Šçš„åºåˆ—å‡ºç°å¼‚å¸¸
    // æ¯”å¦‚è¯´ï¼Œ5, 3, 8, 6, 4åºåˆ—ï¼Œå½“è°ƒæ•´i=1æ—¶ï¼Œå·²ç»è°ƒæ•´ä¸º3,4,5,6,8åºåˆ—ï¼Œå·²ç»æœ‰åºäº†
    // ä½†æ˜¯å¯¼è‡´äº†a[i]ä¸a[0]äº¤æ¢ï¼Œç”±äºå˜æˆäº†4,3,5,6,8åè€Œå˜æˆæ— åºäº†!
    if (a[0] &lt; a[i]) {
      int temp = a[0];
      a[0] = a[i];
      a[i] = temp;
    }

    // èŒƒå›´å˜æˆä¸ºï¼š
    // 0...len-1
    // 0...len-1-1
    // 0...1 // ç»“æŸ
    // å…¶ä¸­ï¼Œ0æ˜¯å †é¡¶ï¼Œæ¯æ¬¡éƒ½æ˜¯æ‰¾å‡ºåœ¨æŒ‡å®šçš„èŒƒå›´å†…æ¯”å †é¡¶è¿˜å°çš„å…ƒç´ ï¼Œç„¶åä¸å †é¡¶å…ƒç´ äº¤æ¢
    adjustMinHeap(a, i - 1, 0);
  }
}
</code></pre>

<p>Cè¯­è¨€ç‰ˆæµ‹è¯•</p>

<p>å¤§å®¶å¯ä»¥æµ‹è¯•ä¸€ä¸‹ï¼š</p>

<pre><code>//  int a[] = {5, 3, 8, 6, 4};
int a[] = {89,-7,999,-89,7,0,-888,7,-7};
heapSort(a, sizeof(a) / sizeof(int));

for (int i = 0; i &lt; sizeof(a) / sizeof(int); ++i) {
    NSLog(@"%d", a[i]);
}
</code></pre>

<p>Swiftç‰ˆå®ç°
åŸºäºæœ€å¤§å †å®ç°å‡åºæ’åº</p>

<pre><code>func initHeap(inout a: [Int]) {
  for var i = (a.count - 1) / 2; i &gt;= 0; --i {
    adjustMaxHeap(&amp;a, len: a.count, parentNodeIndex: i)
  }
}

func adjustMaxHeap(inout a: [Int], len: Int, parentNodeIndex: Int) {
  // å¦‚æœlen &lt;= 0ï¼Œè¯´æ˜å·²ç»æ— åºåŒºå·²ç»ç¼©å°åˆ°0
  guard len &gt; 1 else {
    return
  }

  // çˆ¶ç»“ç‚¹çš„å·¦ã€å³å­©å­çš„ç´¢å¼•
  let leftChildIndex = 2 * parentNodeIndex + 1

  // å¦‚æœè¿å·¦å­©å­éƒ½æ²¡æœ‰ï¼Œ ä¸€å®šæ²¡æœ‰å³å­©å­ï¼Œè¯´æ˜å·²ç»ä¸ç”¨å†å¾€ä¸‹äº†
  guard leftChildIndex &lt; len else {
    return
  }

  let rightChildIndex = 2 * parentNodeIndex + 2

  // ç”¨äºè®°å½•éœ€è¦ä¸çˆ¶ç»“ç‚¹äº¤æ¢çš„å­©å­çš„ç´¢å¼•
  var targetIndex = -1

  // è‹¥æ²¡æœ‰å³å­©å­ï¼Œä½†æœ‰å·¦å­©å­ï¼Œåªèƒ½é€‰æ‹©å·¦å­©å­
  if rightChildIndex &gt; len {
    targetIndex = leftChildIndex
  } else {
    // å·¦ã€å³å­©å­éƒ½æœ‰ï¼Œåˆ™éœ€è¦æ‰¾å‡ºæœ€å¤§çš„ä¸€ä¸ª
    targetIndex = a[leftChildIndex] &gt; a[rightChildIndex] ? leftChildIndex : rightChildIndex
  }

  // åªæœ‰å­©å­æ¯”çˆ¶ç»“ç‚¹è¿˜è¦å¤§ï¼Œå†éœ€è¦äº¤æ¢
  if a[targetIndex] &gt; a[parentNodeIndex] {
    let temp = a[targetIndex]

    a[targetIndex] = a[parentNodeIndex]
    a[parentNodeIndex] = temp

    // ç”±äºäº¤æ¢åï¼Œå¯èƒ½ä¼šç ´åæ‰æ–°çš„å­æ ‘å †çš„æ€§è´¨ï¼Œå› æ­¤éœ€è¦è°ƒæ•´ä»¥a[targetIndex]ä¸ºçˆ¶ç»“ç‚¹çš„å­æ ‘ï¼Œä½¿ä¹‹æ»¡è¶³å †çš„æ€§è´¨
    adjustMaxHeap(&amp;a, len: len, parentNodeIndex: targetIndex)
  }
}

func maxHeapSort(inout a: [Int]) {
  guard a.count &gt; 1 else {
    return
  }

  initHeap(&amp;a)

  for var i = a.count - 1; i &gt; 0; --i {
    // æ¯ä¸€è¶Ÿéƒ½å°†å †é¡¶äº¤æ¢åˆ°æŒ‡å®šèŒƒå›´å†…çš„æœ€åä¸€ä¸ªä½ç½®
    if a[0] &gt; a[i] {
      let temp = a[0]

      a[0] = a[i]
      a[i] = temp
    }
    print(a)
    print(i - 1)
    // æœ‰åºåŒºé•¿åº¦+1ï¼Œè€Œæ— åºåŒºé•¿åº¦-1ï¼Œç»§ç»­ç¼©å°æ— åºåŒºï¼Œæ‰€ä»¥i-1
    // å †é¡¶æ°¸è¿œæ˜¯åœ¨0å·ä½ç½®ï¼Œæ‰€ä»¥çˆ¶ç»“ç‚¹è°ƒæ•´ä»å †é¡¶å¼€å§‹å°±å¯ä»¥äº†
    adjustMaxHeap(&amp;a, len: i - 1, parentNodeIndex: 0)
    print(a)
  }
}
</code></pre>

<p>åŸºäºæœ€å°å †é™åºæ’åº</p>

<pre><code>func initHeap(inout a: [Int]) {
  for var i = (a.count - 1) / 2; i &gt;= 0; --i {
    adjustMinHeap(&amp;a, len: a.count, parentNodeIndex: i)
  }
}

func adjustMinHeap(inout a: [Int], len: Int, parentNodeIndex: Int) {
  // å¦‚æœlen &lt;= 0ï¼Œè¯´æ˜å·²ç»æ— åºåŒºå·²ç»ç¼©å°åˆ°0
  guard len &gt; 1 else {
    return
  }

  // çˆ¶ç»“ç‚¹çš„å·¦ã€å³å­©å­çš„ç´¢å¼•
  let leftChildIndex = 2 * parentNodeIndex + 1

  // å¦‚æœè¿å·¦å­©å­éƒ½æ²¡æœ‰ï¼Œ ä¸€å®šæ²¡æœ‰å³å­©å­ï¼Œè¯´æ˜å·²ç»ä¸ç”¨å†å¾€ä¸‹äº†
  guard leftChildIndex &lt; len else {
    return
  }

  let rightChildIndex = 2 * parentNodeIndex + 2

  // ç”¨äºè®°å½•éœ€è¦ä¸çˆ¶ç»“ç‚¹äº¤æ¢çš„å­©å­çš„ç´¢å¼•
  var targetIndex = -1

  // è‹¥æ²¡æœ‰å³å­©å­ï¼Œä½†æœ‰å·¦å­©å­ï¼Œåªèƒ½é€‰æ‹©å·¦å­©å­
  if rightChildIndex &gt; len {
    targetIndex = leftChildIndex
  } else {
    // å·¦ã€å³å­©å­éƒ½æœ‰ï¼Œåˆ™éœ€è¦æ‰¾å‡ºæœ€å¤§çš„ä¸€ä¸ª
    targetIndex = a[leftChildIndex] &lt; a[rightChildIndex] ? leftChildIndex : rightChildIndex
  }

  // åªæœ‰å­©å­æ¯”çˆ¶ç»“ç‚¹è¿˜è¦å¤§ï¼Œå†éœ€è¦äº¤æ¢
  if a[targetIndex] &lt; a[parentNodeIndex] {
    let temp = a[targetIndex]

    a[targetIndex] = a[parentNodeIndex]
    a[parentNodeIndex] = temp

    // ç”±äºäº¤æ¢åï¼Œå¯èƒ½ä¼šç ´åæ‰æ–°çš„å­æ ‘å †çš„æ€§è´¨ï¼Œå› æ­¤éœ€è¦è°ƒæ•´ä»¥a[targetIndex]ä¸ºçˆ¶ç»“ç‚¹çš„å­æ ‘ï¼Œä½¿ä¹‹æ»¡è¶³å †çš„æ€§è´¨
    adjustMinHeap(&amp;a, len: len, parentNodeIndex: targetIndex)
  }
}

func minHeapSort(inout a: [Int]) {
  guard a.count &gt; 1 else {
    return
  }

  initHeap(&amp;a)

  for var i = a.count - 1; i &gt; 0; --i {
    // æ¯ä¸€è¶Ÿéƒ½å°†å †é¡¶äº¤æ¢åˆ°æŒ‡å®šèŒƒå›´å†…çš„æœ€åä¸€ä¸ªä½ç½®
    if a[0] &lt; a[i] {
      let temp = a[0]

      a[0] = a[i]
      a[i] = temp
    } else {
       return // å¯ä»¥ç›´æ¥é€€å‡ºäº†ï¼Œå› ä¸ºå·²ç»å…¨éƒ¨æœ‰åºäº†
    }

    // æœ‰åºåŒºé•¿åº¦+1ï¼Œè€Œæ— åºåŒºé•¿åº¦-1ï¼Œç»§ç»­ç¼©å°æ— åºåŒºï¼Œæ‰€ä»¥i-1
    // å †é¡¶æ°¸è¿œæ˜¯åœ¨0å·ä½ç½®ï¼Œæ‰€ä»¥çˆ¶ç»“ç‚¹è°ƒæ•´ä»å †é¡¶å¼€å§‹å°±å¯ä»¥äº†
    adjustMinHeap(&amp;a, len: i - 1, parentNodeIndex: 0)
  }
}
</code></pre>

<p>æµ‹è¯•ï¼š</p>

<pre><code>var arr = [5, 3, 8, 6, 4]
//var arr = [89,-7,999,-89,7,0,-888,7,-7]
maxHeapSort(&amp;arr)

print(arr)

// æ‰“å°æ—¥å¿—å¦‚ä¸‹ï¼š
[4, 6, 5, 3, 8]
3
[6, 4, 5, 3, 8]

[3, 4, 5, 6, 8]
2
[5, 4, 3, 6, 8]

[3, 4, 5, 6, 8]
1
[3, 4, 5, 6, 8]

[3, 4, 5, 6, 8]
0
[3, 4, 5, 6, 8]

[3, 4, 5, 6, 8]
</code></pre>

<h2>å½’å¹¶æ’åº</h2>

<p>å½’å¹¶æ’åºï¼ˆMERGE-SORTï¼‰æ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆçš„æ’åºç®—æ³•,è¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨ã€‚å°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼›å³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µé—´æœ‰åºã€‚è‹¥å°†ä¸¤ä¸ªæœ‰åºè¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºè¡¨ï¼Œç§°ä¸ºäºŒè·¯å½’å¹¶ã€‚</p>

<p>å½’å¹¶æ’åºçš„æ•ˆç‡æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œå‡è®¾æ•°åˆ—é•¿åº¦ä¸ºNï¼Œé‡‡ç”¨ä¸­åˆ†æ³•çš„æ–¹å¼å°†æ•°åˆ—åˆ†å¼€æˆè‹¥å¹²ä¸ªå°æ•°åˆ—ä¸€å…±è¦log2N æ­¥ï¼Œæ¯æ­¥éƒ½æ˜¯ä¸€ä¸ªåˆå¹¶æœ‰åºæ•°åˆ—çš„è¿‡ç¨‹ï¼Œæ—¶é—´å¤æ‚åº¦å¯ä»¥è®°ä¸ºO ( N )ï¼Œæ•…ä¸€å…±ä¸ºO ( N * log2N )ã€‚</p>

<p>å› ä¸ºå½’å¹¶æ’åºæ¯æ¬¡éƒ½æ˜¯åœ¨ç›¸é‚»çš„æ•°æ®ä¸­è¿›è¡Œæ“ä½œï¼Œæ‰€ä»¥å½’å¹¶æ’åºåœ¨å¸¸ç”¨çš„å‡ ç§æ’åºæ–¹æ³•ï¼ˆå¿«é€Ÿæ’åºï¼Œå½’å¹¶æ’åºï¼Œå¸Œå°”æ’åºï¼Œå †æ’åºï¼‰ä¸­ä¹Ÿæ˜¯æ•ˆç‡æ¯”è¾ƒé«˜çš„ã€‚</p>

<p>æ—¶é—´å¤æ‚åº¦ï¼šO ( N * log2N )</p>

<p>Cè¯­è¨€å®ç°</p>

<pre><code>/**
 *  å½’å¹¶æ’åºç®—æ³•
 *
 *  @param list   å¾…æ’åºçš„åºåˆ—
 *  @param first    å­åºåˆ—çš„èµ·ç‚¹ç´¢å¼•
 *  @param last   å­åºåˆ—çš„ç»ˆç‚¹ç´¢å¼•
 *  @param temp   ä¸´æ—¶æ•°ç»„ï¼Œç”¨äºå°†ä¸¤ä¸ªå­åºåˆ—äºŒè·¯å½’å¹¶æ—¶å­˜å‚¨
 */
void mergeSort(int list[], int first, int last, int temp[]) {
  if (first &lt; last) {
    int mid = (first + last) / 2;

    // é€’å½’å½’å¹¶ä¸­åˆ†å·¦å­åºåˆ—ï¼Œä½¿å­åºåˆ—æœ‰åº
    mergeSort(list, first, mid, temp);

    // é€’å½’å½’å¹¶ä¸­åˆ†å³å­åºåˆ—ï¼Œä½¿å­åºåˆ—æœ‰åº
    mergeSort(list, mid + 1, last, temp);

    // æœ€åäºŒè·¯å½’å¹¶ï¼Œä½¿åºåˆ—æˆæœ‰åº
    // å¿…é¡»æ˜ç™½çš„ä¸€ç‚¹ï¼Œæ¯æ¬¡ä¸­åˆ†é€’å½’å½’å¹¶éƒ½éœ€è¦äºŒè·¯å½’å¹¶ï¼Œå› ä¸ºä¸­åˆ†åçš„ä»»æ„å­åºåˆ—
    // åœ¨æœ‰åºåï¼Œéƒ½è¦äºŒè·¯å½’å¹¶æˆä¸€ä¸ªåºåˆ—
    mergeList(list, first, mid, last, temp);
  }
}

/**
 *  äºŒè·¯å½’å¹¶list[first...mid]å­åºåˆ—ä¸list[mid+1...last]
 *
 *  @param list åºåˆ—
 *  @param first    å·¦å­åºåˆ—çš„èµ·ç‚¹
 *  @param mid      åºåˆ—ä¸­é—´åˆ†å‰²ç‚¹
 *  @param last å³åºåˆ—ç»ˆç‚¹
 *  @param temp ä¸´æ—¶åºåˆ—ï¼Œç”¨äºå°†ä¸¤ä¸ªæ— åºçš„å­åºåˆ—å½’å¹¶åˆ°tempä¸­ï¼Œä½¿ä¹‹æœ‰åº
 */
void mergeList(int list[], int first, int mid, int last, int temp[]) {
  int leftIndex = first;
  int leftEndIndex = mid;

  int rightIndex = mid + 1;
  int rightEndIndex = last;

  int tempIndex = 0;

  // å¯»æ‰¾ä¸¤ä¸ªå­åºåˆ—ï¼Œé¡ºåºéå†ï¼Œå°†å€¼å°çš„å¤åˆ¶åˆ°ä¸´æ—¶æ•°ç»„ä¸­ï¼Œç›´åˆ°å…¶ä¸­ä¸€ä¸ªå­åºåˆ—éå†å®Œæ¯•
  while (leftIndex &lt;= leftEndIndex &amp;&amp; rightIndex &lt;= rightEndIndex) {
    // å€¼å°çš„å°±å¤åˆ¶åˆ°ä¸´æ—¶æ•°ç»„ä¸­
    if (list[leftIndex] &lt;= list[rightIndex]) {
      temp[tempIndex] = list[leftIndex];
      tempIndex++;
      leftIndex++;
    } else {
      temp[tempIndex] = list[rightIndex];
      tempIndex++;
      rightIndex++;
    }
  }

  // æœ‰å¯èƒ½å·¦å­åºåˆ—æ›´é•¿ï¼Œå› æ­¤å°†å‰©ä¸‹çš„éƒ¨åˆ†ç›´æ¥å¤åˆ¶åˆ°ä¸´æ—¶æ•°ç»„ä¸­
  while (leftIndex &lt;= leftEndIndex) {
    temp[tempIndex++] = list[leftIndex++];
  }

  // æœ‰å¯èƒ½å³å­åºåˆ—æ›´é•¿ï¼Œå› æ­¤å°†å‰©ä¸‹çš„éƒ¨åˆ†ç›´æ¥å¤åˆ¶åˆ°ä¸´æ—¶æ•°ç»„ä¸­
  while (rightIndex &lt;= rightEndIndex) {
    temp[tempIndex++] = list[rightIndex++];
  }

  // æœ€åè¿˜éœ€è¦å°†æœ‰åºçš„ä¸´æ—¶æ•°ç»„å¤åˆ¶åˆ°åŸå§‹åºåˆ—ä¸­
  for (int i = 0; i &lt; tempIndex; ++i) {
    list[first + i] = temp[i];
  }

 // è¿™é‡Œæ·»åŠ ä¸€ä¸ªæ‰“å°ï¼Œè®°å½•å½’å¹¶
 NSMutableString *str = [[NSMutableString alloc] init];
  for (int i = 0; i &lt; sizeof(list) - 1; ++i) {
    if (i == 0) {
      [str appendFormat:@"%d", list[i]];
    } else {
      [str appendFormat:@", %d", list[i]];
    }
  }
  NSLog(@"æ­¤æ¬¡äºŒè·¯å½’å¹¶åï¼Œå¾—åˆ°çš„åºåˆ—ä¸ºï¼š(%@)", str);
}
</code></pre>

<p>æµ‹è¯•ï¼š</p>

<pre><code>int list[] = {6, 202, 100, 301, 38, 8, 1};
int temp[7] = {0};
mergeSort(list, 0, 7-1, temp);
</code></pre>

<p>æ‰“å°æ•ˆæœï¼š</p>

<pre><code>æ­¤æ¬¡äºŒè·¯å½’å¹¶åï¼Œå¾—åˆ°çš„åºåˆ—ä¸ºï¼š(6, 202, 100, 301, 38, 8, 1)
æ­¤æ¬¡äºŒè·¯å½’å¹¶åï¼Œå¾—åˆ°çš„åºåˆ—ä¸ºï¼š(6, 202, 100, 301, 38, 8, 1)
æ­¤æ¬¡äºŒè·¯å½’å¹¶åï¼Œå¾—åˆ°çš„åºåˆ—ä¸ºï¼š(6, 100, 202, 301, 38, 8, 1)
æ­¤æ¬¡äºŒè·¯å½’å¹¶åï¼Œå¾—åˆ°çš„åºåˆ—ä¸ºï¼š(6, 100, 202, 301, 8, 38, 1)
æ­¤æ¬¡äºŒè·¯å½’å¹¶åï¼Œå¾—åˆ°çš„åºåˆ—ä¸ºï¼š(6, 100, 202, 301, 1, 8, 38)
æ­¤æ¬¡äºŒè·¯å½’å¹¶åï¼Œå¾—åˆ°çš„åºåˆ—ä¸ºï¼š(1, 6, 8, 38, 100, 202, 301)
</code></pre>

<p>ä»æ‰“å°ç»“æœå¯ä»¥çœ‹å‡ºæ¥ï¼Œæœç„¶ä¸æˆ‘ä»¬å‰é¢çš„ç®—æ³•åˆ†ææ˜¯ä¸€æ ·çš„ã€‚</p>

<h2>æ’å…¥æ’åº</h2>

<p>æ’å…¥æ’åºæœ‰ä¸¤ç§ï¼š</p>

<pre><code>ç›´æ¥æ’å…¥æ’åº
æŠ˜åŠæ’å…¥æ’åº
</code></pre>

<p>åŸç†ï¼š</p>

<pre><code>ç¬¬ä¸€ä¸ªå…ƒç´ å°±è®¤ä¸ºæ˜¯æœ‰åºçš„
å–ç¬¬äºŒä¸ªå…ƒç´ ï¼Œåˆ¤æ–­æ˜¯å¦å¤§äºç¬¬ä¸€ä¸ªå…ƒç´ ã€‚è‹¥æ˜¯å¤§äºï¼Œè¡¨ç¤ºå·²ç»æœ‰åºï¼Œä¸ç”¨ç§»åŠ¨ï¼Œå¦åˆ™å°†å·²ç»æœ‰åºçš„åºåˆ—æ•´ä½“å‘åç§»åŠ¨ä¸€ä¸ªä½ç½®
ä¾æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å·²ç»æœ‰åºã€‚
</code></pre>

<p>ç›´æ¥æ’å…¥æ’åº</p>

<p>éœ€è¦åˆ°ä¸¤å±‚å¾ªç¯æ¥å¤„ç†ï¼Œå¤–å±‚å¾ªç¯ç”¨äºè·‘å¤šå°‘è¶Ÿï¼Œè€Œå†…å±‚å¾ªç¯ç”¨äºç§»åŠ¨å…ƒç´ ä½ç½®ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä»ä¸º O ( n2 )</p>

<p>ä¼ªä»£ç </p>

<pre><code>void insertSort(int a[], int len) {
  for i = 1; i &lt; len; ++i {     
     // åè€…&gt;å‰è€…ï¼Œæ‰éœ€è¦ç§»åŠ¨å’Œæ’å…¥
     if a[i] &lt; a[i - 1] {
        // è®°å½•ä¸‹è¦ç§»åŠ¨çš„å…ƒç´ 
        int target = a[i];

        // å°†å‰j-1ä¸ªæœ‰åºçš„å…ƒç´ åˆ†åˆ«åç§»ä¸€ä¸ªä½ç½®
        int j = i;
        while j &gt; 0 &amp;&amp; a[j - 1] &gt; target {
          a[j] = a[j - 1];
          j--;
        }

        // å°†ç›®æ ‡å…ƒç´ æ’å…¥å¯¹åº”çš„ä½ç½®ï¼Œä½¿ä¹‹æœ‰åº
        a[j] = target;
     }
  }
}
</code></pre>

<p>Cè¯­è¨€ç‰ˆ</p>

<pre><code>void insertSort(int a[], int len) {
  for (int i = 1; i &lt; len; ++i) {

    // é‡åˆ°ä¸æ˜¯æœ‰åºçš„ï¼Œæ‰è¿›å…¥ç§»åŠ¨å…ƒç´ 
    if (a[i] &lt; a[i - 1]) {
      int target = a[i];

      // ç§»åŠ¨å‰j-1å…ƒç´ ï¼Œåˆ†åˆ«å‘åç§»åŠ¨ä¸€ä¸ªä½ç½®
      int j = i;
      while (j &gt; 0 &amp;&amp; a[j - 1] &gt; target) {
        a[j] = a[j - 1];

        j--;
      }

      // å°†ç›®æ ‡å…ƒç´ æ”¾åˆ°ç›®æ ‡ä½ç½®ï¼Œä½¿ä¹‹æœ‰åº
      a[j] = target;
    }
  }
}
</code></pre>

<p>OjbCç‰ˆ</p>

<pre><code>- (void)insertSort:(int[])a len:(int)len {
  for (int i = 1; i &lt; len; ++i) {

    // é‡åˆ°ä¸æ˜¯æœ‰åºçš„ï¼Œæ‰è¿›å…¥ç§»åŠ¨å…ƒç´ 
    if (a[i] &lt; a[i - 1]) {
      int target = a[i];

      // ç§»åŠ¨å‰j-1å…ƒç´ ï¼Œåˆ†åˆ«å‘åç§»åŠ¨ä¸€ä¸ªä½ç½®
      int j = i;
      while (j &gt; 0 &amp;&amp; a[j - 1] &gt; target) {
        a[j] = a[j - 1];

        j--;
      }

      // å°†ç›®æ ‡å…ƒç´ æ”¾åˆ°ç›®æ ‡ä½ç½®ï¼Œä½¿ä¹‹æœ‰åº
      a[j] = target;
    }
  }
}
</code></pre>

<p>Swiftç‰ˆ</p>

<pre><code>func insertSort(var a: [Int]) -&gt;[Int] {
  for var i = 1; i &lt; a.count; ++i {
    if a[i] &lt; a[i - 1] {
      let target = a[i]

      var j = i
      while j &gt; 0 &amp;&amp; a[j - 1] &gt; target {
        a[j] = a[j - 1]

        j--
      }

      a[j] = target
    }
  }

  return a
}
</code></pre>

<p>æŠ˜åŠæ’å…¥æ’åº</p>

<p>ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹é€ä¸ªç½®å…¥ç›‘è§†å“¨ï¼Œä½¿ç”¨lowã€highæ ‡ç­¾è¿›è¡ŒæŠ˜åŠåˆ¤æ–­æ¯”è¾ƒå¤§å°ï¼Œå¹¶ç¡®è®¤æ’å…¥ä½ç½®ï¼Œè¯¥ä½ç½®åˆ°æœ€åä¸€ä¸ªæ•°å…¨éƒ¨åç§»ä¸€ä½ï¼Œç„¶åè…¾å‡ºè¯¥ä½ç½®ï¼ŒæŠŠç›‘è§†å“¨é‡Œé¢çš„æ•°ç½®å…¥è¯¥ä½ç½®ã€‚ä¾æ­¤ç±»æ¨è¿›è¡Œæ’åºï¼Œç›´åˆ°æœ€åä¸€ä¸ªæ•°æ¯”è¾ƒå®Œæ¯•ã€‚
æ—¶é—´å¤æ‚åº¦</p>

<p>æŠ˜åŠæ’å…¥æ’åº, å³æŸ¥æ‰¾æ’å…¥ç‚¹çš„ä½ç½®, å¯ä»¥ä½¿ç”¨æŠ˜åŠæŸ¥æ‰¾ï¼Œè¿™æ ·å¯ä»¥å‡å°‘æ¯”è¾ƒçš„æ¬¡æ•°, ä½†æ˜¯ç§»åŠ¨çš„æ¬¡æ•°ä¸å˜ï¼Œå› æ­¤ï¼Œæ—¶é—´å¤æ‚åº¦ä»ä¸º O(n2) ;
ä¼ªä»£ç </p>

<pre><code>void binaryInsertSort(int a[], int len) {
  for int i = 2; i &lt; len; ++i {
     // å°†å…ƒç´ æ”¾åˆ°å“¨å…µçš„ä½ç½®
     a[0] = a[i];

     int low = 1;
     int high = i - 1;

     // æŠ˜åŠæŸ¥æ‰¾ä½ç½®
     while low &lt;= high {
        int mid = (low + high) / 2;

        // åœ¨ä½åŠåŒº
        if a[mid] &gt; a[0] {
          high = mid - 1;
        } else { // åœ¨é«˜åŠåŒº
          low = mid + 1;
        }
     }

     // å°†å‰i - 1ä¸ªå…ƒç´ åç§»
     // æ‰¾åˆ°highï¼Œé‚£ä¹ˆhigh+1å°±æ˜¯iè¦æ’å…¥çš„ä½ç½®  
     for int j = i - 1; j &gt;= high + 1; --j {
        a[j + 1] = a[j];
     }

     // å°†ä¸´æ—¶æ”¾åœ¨å²—å“¨çš„å…ƒç´ æ”¾åˆ°æ‰€æŸ¥æ‰¾åˆ°çš„ä½ç½®å¤„
     a[high + 1] = a[0];
  }
}
</code></pre>

<p>Cè¯­è¨€ç‰ˆ</p>

<pre><code>void binaryInsertSort(int a[], int len) {
  for (int i = 2; i &lt; len; ++i) {
    // ç¬¬ä¸€ä¸ªä½ç½®æ°¸è¿œåªæ˜¯å½“ä½œå“¨å…µç”¨
    a[0] = a[i];

    int low = 1;
    int high = i - 1;

    while (low &lt;= high) {
      int mid = (low + high) / 2;

      if (a[mid] &gt; a[0]) {
        high = mid - 1;
      } else {
        low = mid + 1;
      }
    }

    // ç§»åŠ¨å‰i - 1ä¸ªå…ƒç´ 
    for (int j = i - 1; j &gt;= high + 1; --j) {
      a[j + 1] = a[j];
    }

    // æ”¾åˆ°æŸ¥æ‰¾åˆ°çš„ä½ç½®å¤„
    a[high + 1] = a[0];
  }
}
</code></pre>

<p>Swiftç‰ˆ</p>

<pre><code>func binaryInsertSort(var a: [Int]) -&gt;[Int] {
  for var i = 2; i &lt; a.count; ++i {
    a[0] = a[i]

    var low = 1
    var high = i - 1
    while low &lt;= high {
      let mid = (low + high) / 2

      if a[mid] &gt; a[0] {
        high = mid - 1
      } else {
        low = mid + 1
      }
    }

    for var j = i - 1; j &gt;= high + 1; --j {
      a[j + 1] = a[j]
    }

    a[high + 1] = a[0]
  }

  return a
}
</code></pre>

<hr />

<pre><code>Q Qï¼š2211523682/790806573

å¾®ä¿¡ï¼š18370997821/13148454507

å¾®åšWB:http://weibo.com/u/3288975567?is_hot=1

gitåšæ–‡ï¼šhttp://al1020119.github.io/

githubï¼šhttps://github.com/al1020119
</code></pre>

<p><img src="/images/iCocosCoder.jpg" title="Caption" ></p>

<p><img src="/images/iCocosPublic.jpg" title="Caption" ></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">iCocos</span></span>

      




<time class='entry-date' datetime='2016-08-16T12:31:14+08:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>12:31 pm</span></time>
      


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2016/08/15/xiu-xing-pian-shu-ju-jie-gou/" title="Previous Post: ä¿®è¡Œç¯‡-æ•°æ®ç»“æ„">&laquo; ä¿®è¡Œç¯‡-æ•°æ®ç»“æ„</a>
      
      
        <a class="basic-alignment right" href="/blog/2016/08/18/xiu-xing-pian-wu-da-chang-yong-suan-fa/" title="Next Post: ä¿®è¡Œç¯‡-äº”å¤§å¸¸ç”¨ç®—æ³•">ä¿®è¡Œç¯‡-äº”å¤§å¸¸ç”¨ç®—æ³• &raquo;</a>
      
    </p>
  </footer>
</article>



  <section>
    <h1>Comments</h1>
    <div id="comments" aria-live="polite"><!-- Duoshuo Comment BEGIN -->
<div class="ds-thread" data-title="ä¿®è¡Œç¯‡-å…«å¤§æ’åºç®—æ³•"></div>
<script type="text/javascript">
  var duoshuoQuery = {short_name:"icocoscao"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>
<!-- Duoshuo Comment END --></div>
  </section>


</div>

<aside class="sidebar">
  
    <section>
    <h1>æ–‡ç« åˆ†ç±»</h1>
    <ul id="categories">
        <li class='category'><a href='/blog/categories/apples/'>apples (2)</a></li>
<li class='category'><a href='/blog/categories/audio-video/'>audio-video (1)</a></li>
<li class='category'><a href='/blog/categories/developer/'>developer (16)</a></li>
<li class='category'><a href='/blog/categories/foundation/'>foundation (32)</a></li>
<li class='category'><a href='/blog/categories/full/'>full (13)</a></li>
<li class='category'><a href='/blog/categories/low-level/'>low-level (4)</a></li>
<li class='category'><a href='/blog/categories/news/'>news (4)</a></li>
<li class='category'><a href='/blog/categories/others/'>others (1)</a></li>
<li class='category'><a href='/blog/categories/performance/'>performance (12)</a></li>
<li class='category'><a href='/blog/categories/reverse/'>reverse (25)</a></li>
<li class='category'><a href='/blog/categories/senior/'>senior (40)</a></li>
<li class='category'><a href='/blog/categories/stack/'>stack (13)</a></li>
<li class='category'><a href='/blog/categories/summarize/'>summarize (5)</a></li>
<li class='category'><a href='/blog/categories/tools/'>tools (5)</a></li>

    </ul>
</section><section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/08/31/duo-xian-cheng-an-quan-%3Fying-gai-bu-zhi-zhe-xie-%3F!/">å¤šçº¿ç¨‹å®‰å…¨ï¼Ÿåº”è¯¥ä¸æ­¢è¿™äº›ğŸ˜‚ï¼</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/30/xiu-xing-pian-ioskai-fa-zhong-chang-jian-she-ji-mo-shi/">ä¿®è¡Œç¯‡-ioså¼€å‘ä¸­å¸¸è§è®¾è®¡æ¨¡å¼</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/28/xiu-xing-pian-shu-ju-jie-gou-chang-jian-cao-zuo-yu-zong-jie/">ä¿®è¡Œç¯‡-æ•°æ®ç»“æ„å¸¸è§æ“ä½œä¸æ€»ç»“</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/25/xiu-xing-pian-suan-fa-zhi-jing-hua-suan-fa-and-mou-pao/">ä¿®è¡Œç¯‡-ç®—æ³•ä¹‹ç²¾å-ç®—æ³•&amp;å†’æ³¡</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/23/xiu-xing-pian-23chong-she-ji-mo-shi/">ä¿®è¡Œç¯‡-23ç§è®¾è®¡æ¨¡å¼</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/al1020119">@al1020119</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'al1020119',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>




<section>
<h1>æ‰«ä¸€æ‰«<abbr title="The word 'æ‰«ä¸€æ‰«' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'æ‰«ä¸€æ‰«', not for image.">&trade;</abbr></h1>
<a href="http://al1020119.github.io/blog/2016/08/16/xiu-xing-pian-chang-jian-pai-xu-suan-fa/"><img src="http://chart.apis.google.com/chart?chs=150x150&cht=qr&chld=|0&chco=165B94&chl=http://al1020119.github.io/blog/2016/08/16/xiu-xing-pian-chang-jian-pai-xu-suan-fa/" alt="post-qrcode"></a></section>
<section>
    <h1>è®¿å®¢ç»Ÿè®¡</h1>
    <br/>
    <a href="http://s07.flagcounter.com/more/2SH"><img src="http://s07.flagcounter.com/count/2SH/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_1/flags_0/" alt="Flag Counter" border="0"></a>
</section><section>
    <h1>æ–°æµªå¾®åš</h1>
    <ul id="weibo">
        <li>
            
            <!-- åœ¨æ­¤æ’å…¥è·å¾—çš„å¾®åšç§€ä»£ç  -->
            <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=3288975567&verifier=20ffcedd&dpc=1"></iframe>
            
        </li>
    </ul>
</section>
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - iCocos -
<span class="credit">welcome to <a href="http://al1020119.github.io">æ›¹#é»</a></span>
</p>

</footer>
  






<!--
-->



</body>
</html>
