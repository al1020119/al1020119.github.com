
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>å›¾ç‰‡å¤„ç†-é«˜çº§ç¯‡ - iOSæ¢¦å·¥å‚</title>
  <meta name="author" content="iCocos">

  
  <meta name="description" content="iCocosåšå®¢">
  <meta name="keywords" content="iCocos, iOSå¼€å‘, åšå®¢, æŠ€æœ¯åˆ†æ, æ–‡ç« , å­¦ä¹ , æ›¹é», æ›¹ç†é¹">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://al1020119.github.io/blog/2016/01/14/tupianchuligaojijiqiao/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="iOSæ¢¦å·¥å‚" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//libs.baidu.com/jquery/1.7.2/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->

<!--<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
-->
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">iOSæ¢¦å·¥å‚</a></h1>
  
    <h2>iCocosâ€”â€”ä¸æˆ˜èƒœè‡ªå·±ï¼Œä½•ä»¥æ”¹å˜æœªæ¥ï¼</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="al1020119.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">åšæ–‡</a></li>
  <li><a href="/blog/archives">å½’æ¡£</a></li>
  <li><a href="/icocos">iCocos</a></li>
  <li><a href="/about">æ–‡ç« </a></li>
  <li><a href="/other">å…¶ä»–</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">å›¾ç‰‡å¤„ç†-é«˜çº§ç¯‡</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-01-14T12:21:08+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>14</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>12:21 pm</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><h3>ä¸€ï¼šUIImageçš„åŠ è½½æ–¹å¼</h3>

<p>ä¸Šä¸€ç¯‡æ–‡ç« çš„è¡¥å……ä¸­ä¹Ÿæåˆ°äº†è¿™ä¸ªï¼Œå…³äºå›¾ç‰‡çš„åŠ è½½æ–¹å¼ï¼Œä½†æ˜¯æ²¡æœ‰è¿‡å¤šçš„æ¶‰åŠï¼Œè¿™é‡Œå°±å¤§æ¦‚çš„æ€»ç»“ä¸€ä¸‹ï¼Œå¸Œæœ›èƒ½æœ‰ç”¨ï¼</p>

<p>æ˜¾ç¤ºå…³äºå›¾ç‰‡åŠ è½½é—®é¢˜ï¼Œç”±äºæ­£åœ¨åšçš„é¡¹ç›®ç”¨åˆ°å¾ˆå¤šå›¾ç‰‡ï¼ŒåŠ è½½åå†…å­˜é—®é¢˜å¾ˆæ˜¯å¤´ç–¼ï¼Œè¿™é‡Œæ˜¯æˆ‘çš„ç»éªŒï¼Œå¤§æ¦‚è¯´ä¸€ä¸ªä¸‹ã€‚
     ä¸€èˆ¬åŠ è½½å›¾ç‰‡çš„æ–¹å¼ï¼š
ç¬¬ä¸€ç§ï¼š</p>

<pre><code>NSString * imagePath = [[NSBundle mainBundle] pathForResource:@"pic@.png" ofType:nil inDirectory:nil];  
UIImage * image = [UIImage imageWithContentsOfFile:imagePath];  
</code></pre>

<p>ç¬¬äºŒç§ï¼š</p>

<pre><code>UIImage * image = [UIImage imageNamed:picName];  
</code></pre>

<!--more-->


<p>è¿™ä¸¤ç§æ˜¯æˆ‘ç»å¸¸ç”¨åˆ°çš„</p>

<ul>
<li>ç”¨imageWithContentOfFile åŠ è½½å›¾ç‰‡çš„æ—¶å€™ï¼Œå›¾ç‰‡ä¸ä¼šåšç¼“å­˜ï¼Œè¿™æ ·åœ¨åŠ è½½å¤§çš„å›¾ç‰‡å’Œä½¿ç”¨ç‡ä½çš„å›¾ç‰‡çš„æ—¶å€™å°±å¯ä»¥ç”¨åˆ°ã€‚æˆ‘å»ºè®®å¤§å®¶ä½¿ç”¨è¿™ç§ï¼Œå¯¹æ§åˆ¶å†…å­˜å¾ˆæœ‰å¸®åŠ©ã€‚</li>
<li>ç”¨imageNameçš„åŠ è½½çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šä»¶å›¾åƒä¿å­˜åœ¨å†…å­˜ä¸­å»ï¼Œä¸‹æ¬¡åˆ©ç”¨çš„æ—¶å€™ï¼Œç›´æ¥åœ¨å†…å­˜ä¸­è°ƒç”¨ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼Œé‡å¤åˆ©ç”¨ç‡é«˜çš„å›¾ç‰‡æœ‰åˆ©äºè¿™æ ·åšï¼Œä½†æ˜¯åœ¨é‡Šæ”¾å†…å­˜çš„æ—¶å€™æ¯”è¾ƒéº»çƒ¦ï¼Œåªæœ‰ç¨‹åºç»“æŸçš„æ—¶å€™å†…å­˜æ‰é‡Šæ”¾ï¼Œæœ‰æ—¶å€™ä¼šå‡ºç°å†…å­˜è­¦å‘Šã€‚ã€‚ã€‚</li>
</ul>


<h3>äºŒï¼šå›¾ç‰‡çš„æ··åˆæ¨¡å¼</h3>

<p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹å›¾ç‰‡ä¸€ä¸‹å¸¸ç”¨çš„æ··åˆæ¨¡å¼ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªæœ€å¥½æ˜¯å…ˆè‡ªå·±ç©ä¸€ç©photoshopï¼Œä¸Šé¢æœ‰å¾ˆå¤šæ··åˆæ¨¡å¼å¯ä»¥è‡ªå·±è¯•éªŒï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ä»£ç è¿›è¡Œå°è¯•ä¿®æ”¹å›¾ç‰‡çš„æ··åˆæ¨¡å¼ï¼Œè¿™æ ·å¯ä»¥çœ‹åˆ°ä¸åŒçš„å›¾ç‰‡æ•ˆæœã€‚
è¿™é‡Œæˆ‘ä»¬å°±å¿…é¡»ç”¨åˆ°ç»˜å›¾ã€‚å¸¸ç”¨çš„æ–¹æ³•æ˜¯ï¼š</p>

<pre><code>[image drawInRect:CGRectMake(0,0,newSize.width,newSize.height) blendMode:blendMode alpha:alpha];  
</code></pre>

<p>å…ˆè®©å¤§å®¶çœ‹çœ‹è¿™ä¸ªä»£ç ï¼š</p>

<pre><code>- (UIImage *)drawPiucureFrontImage:(UIImage *)personImage backImage:(UIImage *)hatImage blendMode:(CGBlendMode)blendMode alpha:(CGFloat)alpha  
{  
    CGSize newSize =[personImage size];  
    UIGraphicsBeginImageContext(newSize);  
    [personImage drawInRect:CGRectMake(0,0,newSize.width,newSize.height) blendMode:kCGBlendModeNormal alpha:1];  
    [hatImage drawInRect:CGRectMake(0,0,newSize.width,newSize.height) blendMode:blendMode alpha:alpha];  
    UIImage*newImage = UIGraphicsGetImageFromCurrentImageContext();  
    UIGraphicsEndImageContext();  
    _imageV.image = newImage;  
    num++;  
    return newImage;  
}  
</code></pre>

<p>kCGBlendModeNormal<br/>
è¿™ä¸ªæ˜¯æ··åˆæ¨¡å¼çš„æ•ˆæœ  åœ¨psä¸­æ˜¯æ­£å¸¸ï¼Œä»¥ä¸‹æ˜¯å¸¸ç”¨çš„æ¨¡å¼</p>

<pre><code>     kCGBlendModeNormal --ok  æ­£å¸¸,
     kCGBlendModeMultiply,    æ­£ç‰‡å åº•
     kCGBlendModeScreen,      æ»¤è‰²
     kCGBlendModeOverlay,     å åŠ 
     kCGBlendModeDarken,      å˜æš—
     kCGBlendModeLighten,     å˜äº®
     kCGBlendModeColorDodge,  é¢œè‰²å‡æ·¡
     kCGBlendModeColorBurn,   é¢œè‰²åŠ æ·±
     kCGBlendModeSoftLight,   æŸ”å…‰
     kCGBlendModeHardLight,   å¼ºå…‰
     kCGBlendModeDifference,  å·®å€¼
     kCGBlendModeExclusion,   æ’é™¤
     kCGBlendModeHue,         è‰²ç›¸
     kCGBlendModeSaturation,  ä¿æŠ¤åº¦
     kCGBlendModeColor,       é¢œè‰²
     kCGBlendModeLuminosity   æ˜åº¦,
</code></pre>

<p>è¿™å‡ ä¸ªå¯ä»¥è¯•è¯•ï¼Œæ¯ä¸€ç§å›¾ç‰‡çš„æ¨¡å¼éƒ½ä¸ä¸€æ ·ã€‚å…¶ä¸­æ­£ç‰‡å åº• å’Œå åŠ åº”è¯¥æ˜¯æˆ‘ç»å¸¸ç”¨åˆ°çš„æ··åˆæ¨¡å¼ã€‚</p>

<h3>ä¸‰ï¼šå›¾ç‰‡çš„æ»¤é•œ</h3>

<p>ä¸Šé¢æˆ‘ä»¬ä»‹ç»äº†å›¾ç‰‡çš„æ··åˆæ¨¡å¼ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹å›¾ç‰‡æ»¤é•œï¼Œè¯´é“æ»¤é•œç½‘ä¸Šæœ‰å¾ˆå¤šçš„æ•™ç¨‹ï¼Œåœ¨code4appä¸­ä¹Ÿæœ‰å¾ˆå¤šçš„æ•™ç¨‹ï¼Œå¤§å®¶å¯ä»¥å»çœ‹çœ‹çœ‹ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„ç±»  ImageUtil.hï¼Œåœ¨åé¢æœ‰ä¸‹è½½çš„é“¾æ¥</p>

<p>å°†è¿™ä¸ªç±»å¯¼å…¥åˆ°è‡ªå·±çš„å·¥ç¨‹ä¸­ å¯¼å…¥å¤´æ–‡ä»¶ï¼š</p>

<pre><code>#import "ImageUtil.h"     
</code></pre>

<p>æ¥ä¸‹æ¥ç›´æ¥è°ƒç”¨é‡Œé¢çš„æ”¾å¤§å°±å¯ä»¥äº†ï¼Œåœ¨è¿™ä¸ªç±»ä¸­ColorMatrix.hçš„æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹è§æœ‰13ä¸­ç‰¹æ•ˆå¯ä»¥è‡ªå·±ä½¿ç”¨ï¼Œè€Œä¸”è°ƒç”¨ä¹Ÿååˆ†ç®€å•</p>

<pre><code>[ImageUtil imageWithImage:_imageV.image withColorMatrix:colormatrix_heibai];  
</code></pre>

<p>colormatrix_heibai è¿™ä¸ªå°±æ˜¯ä»–çš„è°ƒç”¨æ ·å¼ï¼Œè¿™é‡Œæ˜¯é»‘ç™½ï¼Œå¤§å®¶å¯ä»¥æ›¿æ¢ä¿®æ”¹åœ¨ColorMatrix.håå­—ï¼Œå·²è¾¾åˆ°è‡ªå·±æƒ³è¦çš„æ•ˆè¿‡ï¼Œè¿™ä¸ªæ–¹æ³•åŒæ—¶ä¹Ÿè¿”å›ä¸€ä¸ªUIimageï¼Œè¿™æ ·å°±å¯ä»¥åŠ è½½åˆ°è‡ªå·±æƒ³è¦çš„UIImageViewä¸Šäº†ã€‚
ä¸‹é¢æ˜¯ç‰¹æ•ˆ</p>

<pre><code>//LOMO  
const float colormatrix_lomo[] = {  
    1.7f,  0.1f, 0.1f, 0, -73.1f,  
    0,  1.7f, 0.1f, 0, -73.1f,  
    0,  0.1f, 1.6f, 0, -73.1f,  
    0,  0, 0, 1.0f, 0 };  

//é»‘ç™½  
const float colormatrix_heibai[] = {  
    0.8f,  1.6f, 0.2f, 0, -163.9f,  
    0.8f,  1.6f, 0.2f, 0, -163.9f,  
    0.8f,  1.6f, 0.2f, 0, -163.9f,  
    0,  0, 0, 1.0f, 0 };  
//å¤å¤  
const float colormatrix_huajiu[] = {   
    0.2f,0.5f, 0.1f, 0, 40.8f,  
    0.2f, 0.5f, 0.1f, 0, 40.8f,   
    0.2f,0.5f, 0.1f, 0, 40.8f,   
    0, 0, 0, 1, 0 };  

//å“¥ç‰¹  
const float colormatrix_gete[] = {   
    1.9f,-0.3f, -0.2f, 0,-87.0f,  
    -0.2f, 1.7f, -0.1f, 0, -87.0f,   
    -0.1f,-0.6f, 2.0f, 0, -87.0f,   
    0, 0, 0, 1.0f, 0 };  

//é”åŒ–  
const float colormatrix_ruise[] = {   
    4.8f,-1.0f, -0.1f, 0,-388.4f,  
    -0.5f,4.4f, -0.1f, 0,-388.4f,   
    -0.5f,-1.0f, 5.2f, 0,-388.4f,  
    0, 0, 0, 1.0f, 0 };  


//æ·¡é›…  
const float colormatrix_danya[] = {   
    0.6f,0.3f, 0.1f, 0,73.3f,  
    0.2f,0.7f, 0.1f, 0,73.3f,   
    0.2f,0.3f, 0.4f, 0,73.3f,  
    0, 0, 0, 1.0f, 0 };  

//é…’çº¢  
const float colormatrix_jiuhong[] = {   
    1.2f,0.0f, 0.0f, 0.0f,0.0f,  
    0.0f,0.9f, 0.0f, 0.0f,0.0f,   
    0.0f,0.0f, 0.8f, 0.0f,0.0f,  
    0, 0, 0, 1.0f, 0 };  

//æ¸…å®  
const float colormatrix_qingning[] = {   
    0.9f, 0, 0, 0, 0,   
    0, 1.1f,0, 0, 0,   
    0, 0, 0.9f, 0, 0,   
    0, 0, 0, 1.0f, 0 };  

//æµªæ¼«  
const float colormatrix_langman[] = {   
    0.9f, 0, 0, 0, 63.0f,   
    0, 0.9f,0, 0, 63.0f,   
    0, 0, 0.9f, 0, 63.0f,   
    0, 0, 0, 1.0f, 0 };  

//å…‰æ™•  
const float colormatrix_guangyun[] = {   
    0.9f, 0, 0,  0, 64.9f,  
    0, 0.9f,0,  0, 64.9f,  
    0, 0, 0.9f,  0, 64.9f,  
    0, 0, 0, 1.0f, 0 };  

//è“è°ƒ  
const float colormatrix_landiao[] = {  
    2.1f, -1.4f, 0.6f, 0.0f, -31.0f,   
    -0.3f, 2.0f, -0.3f, 0.0f, -31.0f,  
    -1.1f, -0.2f, 2.6f, 0.0f, -31.0f,   
    0.0f, 0.0f, 0.0f, 1.0f, 0.0f  
};  

//æ¢¦å¹»  
const float colormatrix_menghuan[] = {  
    0.8f, 0.3f, 0.1f, 0.0f, 46.5f,   
    0.1f, 0.9f, 0.0f, 0.0f, 46.5f,   
    0.1f, 0.3f, 0.7f, 0.0f, 46.5f,   
    0.0f, 0.0f, 0.0f, 1.0f, 0.0f  
};  

//å¤œè‰²  
const float colormatrix_yese[] = {  
    1.0f, 0.0f, 0.0f, 0.0f, -66.6f,  
    0.0f, 1.1f, 0.0f, 0.0f, -66.6f,   
    0.0f, 0.0f, 1.0f, 0.0f, -66.6f,   
    0.0f, 0.0f, 0.0f, 1.0f, 0.0f  
};  
</code></pre>

<h3>å››ï¼šå›¾ç‰‡çš„é¥±å’Œåº¦ï¼Œäº®åº¦ï¼Œå¯¹æ¯”åº¦ã€‚</h3>

<p>åœ¨åšå›¾ç‰‡å¤„ç†çš„æ—¶å€™ï¼Œä¼šé‡åˆ°è°ƒèŠ‚å›¾ç‰‡çš„é¥±å’Œåº¦çš„é—®é¢˜ï¼Œè¿™é‡Œå°±è¦ç”¨åˆ°Core Imageè¿™ä¸ªæ¡†æ¶ï¼ŒCore Imageæ˜¯ä¸€ä¸ªå¾ˆå¼ºå¤§çš„æ¡†æ¶ã€‚å®ƒå¯ä»¥è®©ä½ ç®€å•åœ°åº”ç”¨å„ç§æ»¤é•œæ¥å¤„ç†å›¾åƒï¼Œæ¯”å¦‚ä¿®æ”¹é²œè‰³ç¨‹åº¦, è‰²æ³½, æˆ–è€…æ›å…‰ã€‚å®ƒåˆ©ç”¨GPUï¼ˆæˆ–è€…CPUï¼Œå–å†³äºå®¢æˆ·ï¼‰æ¥éå¸¸å¿«é€Ÿã€ç”šè‡³å®æ—¶åœ°å¤„ç†å›¾åƒæ•°æ®å’Œè§†é¢‘çš„å¸§ã€‚å¤šä¸ªCoreImageæ»¤é•œå¯ä»¥å åŠ åœ¨ä¸€èµ·ï¼Œä»è€Œå¯ä»¥ä¸€æ¬¡æ€§åœ°äº§ç”Ÿå¤šé‡æ»¤é•œæ•ˆæœã€‚è¿™ç§å¤šé‡æ»¤é•œçš„ä¼˜ç‚¹åœ¨äºå®ƒå¯ä»¥ç”Ÿæˆä¸€ä¸ªæ”¹è¿›çš„æ»¤é•œï¼Œä»è€Œä¸€æ¬¡æ€§çš„å¤„ç†å›¾åƒè¾¾åˆ°ç›®æ ‡æ•ˆæœï¼Œè€Œä¸æ˜¯å¯¹åŒä¸€ä¸ªå›¾åƒé¡ºåºåœ°å¤šæ¬¡åº”ç”¨å•ä¸ªæ»¤é•œã€‚æ¯ä¸€ä¸ªæ»¤é•œéƒ½æœ‰å±äºå®ƒè‡ªå·±çš„å‚æ•°ã€‚è¿™äº›å‚æ•°å’Œæ»¤é•œä¿¡æ¯ï¼Œæ¯”å¦‚åŠŸèƒ½ã€è¾“å…¥å‚æ•°ç­‰éƒ½å¯ä»¥é€šè¿‡ç¨‹åºæ¥æŸ¥è¯¢ã€‚ç”¨æˆ·ä¹Ÿå¯ä»¥æ¥æŸ¥è¯¢ç³»ç»Ÿä»è€Œå¾—åˆ°å½“å‰å¯ç”¨çš„æ»¤é•œä¿¡æ¯ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼ŒMacä¸Šåªæœ‰ä¸€éƒ¨åˆ†CoreImageæ»¤é•œå¯ä»¥åœ¨iOSä¸Šä½¿ç”¨ã€‚ä½†æ˜¯éšç€è¿™äº›å¯ä½¿ç”¨æ»¤é•œçš„æ•°ç›®è¶Šæ¥è¶Šå¤šï¼ŒAPIå¯ä»¥ç”¨æ¥å‘ç°æ–°çš„æ»¤é•œå±æ€§ã€‚
ä¸‹é¢æ˜¯è¿™ä¸ªæ¡†æ¶ä¸‹çš„å‡ ä¸ªé‡è¦çš„ç±»</p>

<ul>
<li>CIContext:æ‰€æœ‰çš„å›¾åƒå¤„ç†éƒ½æ˜¯åœ¨ä¸€ä¸ªCIContextä¸­å®Œæˆçš„ã€‚</li>
<li>CIImage è¿™ä¸ªç±»ä¿å­˜å›¾åƒæ•°æ®ï¼Œå®ƒå¯ä»¥ä»UIImageï¼Œå›¾åƒæ–‡ä»¶æˆ–è€…æ˜¯åƒç´ æ•°æ®ä¸­æ„é€ å‡ºæ¥ã€‚</li>
<li>CIFilterï¼šæ»¤é•œç±»æ€»ä¿å‡½ä¸€ä¸ªå­—å…¸ç»“æ„ï¼Œå¯¹å„ç§æ»¤é•œå®šä¹‰äº†å±äºä»–ä»¬å„è‡ªçš„å±æ€§ï¼Œæ»¤é•œæœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚é²œè‰³ç¨‹åº¦çš„æ»¤é•œï¼Œè‰²å½©åè½¬æ»¤é•œï¼Œå‰ªè£æ»¤é•œç­‰ç­‰ã€‚</li>
</ul>


<p>ç”¨ä¸‹é¢çš„æˆ‘ä»¬æ¥è¯•è¯•ä¿®æ”¹ä¸€å¼ å›¾ç‰‡çš„é¥±å’Œåº¦ï¼Œäº®åº¦ï¼Œå¯¹æ¯”åº¦ã€‚
é¦–å…ˆç”¨åˆ°çš„æ˜¯CIFilter æˆ‘ä»¬å¯ä»¥é€šè¿‡å­—å…¸æ¥çœ‹çœ‹é‡Œé¢æ‰€æœ‰çš„</p>

<pre><code>NSArray *cifilter = [CIFilter filterNamesInCategory:kCICategoryBuiltIn];  

NSLog(@"FilterName:\n%@,,,===%ld", cifilter,cifilter.count);//æ˜¾ç¤ºæ‰€æœ‰è¿‡æ»¤å™¨åå­—  

for (NSString *filterName in cifilter) {  

    CIFilter *fltr = [CIFilter filterWithName:filterName];//ç”¨ä¸€ä¸ªè¿‡æ»¤å™¨åå­—ç”Ÿæˆä¸€ä¸ªè¿‡æ»¤å™¨CIFilterå¯¹è±¡  

    NSLog(@"%@:\n%@", filterName, [fltr attributes]);//è¿™ä¸ªè¿‡æ»¤å™¨æ”¯æŒçš„å±æ€§  

}  
</code></pre>

<p>å¯ä»¥çœ‹è§å¤šæœ‰çš„å±æ€§
ä»Šå¤©æˆ‘ä»¬ç”¨åˆ°æ˜¯æ»¤é•œåç§°æ˜¯CIColorControls</p>

<pre><code>/////////////////////////////////////
    CIAttributeFilterDisplayName = "Color Controls";
    CIAttributeFilterName = CIColorControls;
    inputBrightness =     {
        CIAttributeClass = NSNumber;
        CIAttributeDefault = 0;
        CIAttributeIdentity = 0;
        CIAttributeSliderMax = 1;
        CIAttributeSliderMin = "-1";
        CIAttributeType = CIAttributeTypeScalar;
    };
    inputContrast =     {
        CIAttributeClass = NSNumber;
        CIAttributeDefault = 1;
        CIAttributeIdentity = 1;
        CIAttributeSliderMax = 4;
        CIAttributeSliderMin = 0;
        CIAttributeType = CIAttributeTypeScalar;
    };
    inputImage =     {
        CIAttributeClass = CIImage;
        CIAttributeType = CIAttributeTypeImage;
    };
    inputSaturation =     {
        CIAttributeClass = NSNumber;
        CIAttributeDefault = 1;
        CIAttributeIdentity = 1;
        CIAttributeSliderMax = 2;
        CIAttributeSliderMin = 0;
        CIAttributeType = CIAttributeTypeScalar;
    };
/////////////////////////////////////
</code></pre>

<p>ä¸Šé¢æ˜¯è¿™ä¸ªæ»¤é•œçš„åç§°å’Œå±æ€§
ä¸‹é¢æ˜¯å…·ä½“çš„ä¿®æ”¹å›¾ç‰‡çš„é¥±å’Œåº¦äº®åº¦å’Œå¯¹æ¯”åº¦çš„ä»£ç </p>

<pre><code>CIImage *beginImage = [CIImage imageWithCGImage:image.CGImage];  
CIFilter * filter = [CIFilter filterWithName:@"CIColorControls"];  
[filter setValue:beginImage forKey:kCIInputImageKey];  
//  é¥±å’Œåº¦      0---2  
[filter setValue:[NSNumber numberWithFloat:0.5] forKey:@"inputSaturation"];  
//  äº®åº¦  10   -1---1  
[filter setValue:[NSNumber numberWithFloat:0.5] forKey:@"inputBrightness"];  
//  å¯¹æ¯”åº¦ -11  0---4  
[filter setValue:[NSNumber numberWithFloat:2] forKey:@"inputContrast"];  

// å¾—åˆ°è¿‡æ»¤åçš„å›¾ç‰‡  
CIImage *outputImage = [filter outputImage];  
// è½¬æ¢å›¾ç‰‡, åˆ›å»ºåŸºäºGPUçš„CIContextå¯¹è±¡  
CIContext *context = [CIContext contextWithOptions: nil nil];  
CGImageRef cgimg = [context createCGImage:outputImage fromRect:[outputImage extent]];  
UIImage *newImg = [UIImage imageWithCGImage:cgimg];  
// æ˜¾ç¤ºå›¾ç‰‡  
[_imageV setImage:newImg];  
// é‡Šæ”¾Cå¯¹è±¡  
CGImageRelease(cgimg);  
</code></pre>

<p>æœ‰å…´è¶£çš„å¯ä»¥å»çœ‹çœ‹å…³äºCoreImageçš„æºç </p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">iCocos</span></span>

      




<time class='entry-date' datetime='2016-01-14T12:21:08+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>14</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>12:21 pm</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/performance/'>performance</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2016/01/14/tupianchulichangyongjiqiao/" title="Previous Post: å›¾ç‰‡å¤„ç†-å¸¸ç”¨æŠ€å·§">&laquo; å›¾ç‰‡å¤„ç†-å¸¸ç”¨æŠ€å·§</a>
      
      
        <a class="basic-alignment right" href="/blog/2016/01/14/tupianchulibuchong/" title="Next Post: å›¾ç‰‡å¤„ç†-è¡¥å……">å›¾ç‰‡å¤„ç†-è¡¥å…… &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
    <h1>æ–‡ç« åˆ†ç±»</h1>
    <ul id="categories">
        <li class='category'><a href='/blog/categories/apples/'>apples (2)</a></li>
<li class='category'><a href='/blog/categories/audio-video/'>audio-video (1)</a></li>
<li class='category'><a href='/blog/categories/developer/'>developer (16)</a></li>
<li class='category'><a href='/blog/categories/foundation/'>foundation (32)</a></li>
<li class='category'><a href='/blog/categories/full/'>full (13)</a></li>
<li class='category'><a href='/blog/categories/low-level/'>low-level (4)</a></li>
<li class='category'><a href='/blog/categories/news/'>news (4)</a></li>
<li class='category'><a href='/blog/categories/others/'>others (1)</a></li>
<li class='category'><a href='/blog/categories/performance/'>performance (12)</a></li>
<li class='category'><a href='/blog/categories/reverse/'>reverse (25)</a></li>
<li class='category'><a href='/blog/categories/senior/'>senior (38)</a></li>
<li class='category'><a href='/blog/categories/stack/'>stack (13)</a></li>
<li class='category'><a href='/blog/categories/summarize/'>summarize (5)</a></li>
<li class='category'><a href='/blog/categories/tools/'>tools (5)</a></li>

    </ul>
</section><section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/08/08/oneday/">ä¿®è¡Œç¯‡-æ¢ç¨‹åºä¹‹ç²¾å</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/01/gezhongdicenshixian/">iOSå¼€å‘å„ç§åº•å±‚å®ç°--åŒ…ä½ æ»¡æ„ğŸ˜˜ï¼</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/01/weixinhongbao/">ç¦åˆ©ï¼šæŠ¢çº¢åŒ…ç¥å™¨å°±æ˜¯è¿™ä¹ˆæ¥çš„</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/07/26/chongzhengzhidao/">é‡æ•´ä¹‹é“ï¼ˆé¢è¯•+æŠ€æœ¯+åº•å±‚+é«˜çº§ï¼‰</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/07/10/duoxianc/">å¤šçº¿ç¨‹ä¹‹è‘µèŠ±å®å…¸</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/al1020119">@al1020119</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'al1020119',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>




<section>
<h1>æ‰«ä¸€æ‰«<abbr title="The word 'æ‰«ä¸€æ‰«' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'æ‰«ä¸€æ‰«', not for image.">&trade;</abbr></h1>
<a href="http://al1020119.github.io/blog/2016/01/14/tupianchuligaojijiqiao/"><img src="http://chart.apis.google.com/chart?chs=150x150&cht=qr&chld=|0&chco=165B94&chl=http://al1020119.github.io/blog/2016/01/14/tupianchuligaojijiqiao/" alt="post-qrcode"></a></section>
<section>
    <h1>è®¿å®¢ç»Ÿè®¡</h1>
    <br/>
    <a href="http://s07.flagcounter.com/more/2SH"><img src="http://s07.flagcounter.com/count/2SH/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_1/flags_0/" alt="Flag Counter" border="0"></a>
</section><section>
    <h1>æ–°æµªå¾®åš</h1>
    <ul id="weibo">
        <li>
            
            <!-- åœ¨æ­¤æ’å…¥è·å¾—çš„å¾®åšç§€ä»£ç  -->
            <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=3288975567&verifier=20ffcedd&dpc=1"></iframe>
            
        </li>
    </ul>
</section>
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - iCocos -
<span class="credit">welcome to <a href="http://al1020119.github.io">æ›¹#é»</a></span>
</p>

</footer>
  






<!--
-->



</body>
</html>
