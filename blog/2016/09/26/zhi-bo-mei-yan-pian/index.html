
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>ç›´æ’­-ç¾é¢œç¯‡ - iOSæ¢¦å·¥å‚</title>
  <meta name="author" content="iCocos">

  
  <meta name="description" content="åœ¨çœ‹è¿™ç¯‡ä¹‹å‰ï¼Œå¦‚æœæ‚¨è¿˜ä¸äº†è§£ç›´æ’­åŸç†ï¼Œè¯·æŸ¥çœ‹è¿™ç¯‡æ–‡ç« å¦‚ä½•å¿«é€Ÿçš„å¼€å‘ä¸€ä¸ªå®Œæ•´çš„iOSç›´æ’­app(åŸç†ç¯‡) å¼€å‘ä¸€æ¬¾ç›´æ’­appï¼Œç¾é¢œåŠŸèƒ½æ˜¯å¾ˆé‡è¦çš„ï¼Œå¦‚æœæ²¡æœ‰ç¾é¢œåŠŸèƒ½ï¼Œå¯èƒ½åˆ†åˆ†é’Ÿé’Ÿæ‰ç²‰åƒä¸‡ï¼Œæœ¬ç¯‡ä¸»è¦è®²è§£ç›´æ’­ä¸­ç¾é¢œåŠŸèƒ½çš„å®ç°åŸç†ï¼Œå¹¶ä¸”å®ç°ç¾é¢œåŠŸèƒ½ã€‚ åˆ©ç”¨GPUImageå¤„ç†ç›´æ’­è¿‡ç¨‹ä¸­ç¾é¢œçš„æµç¨‹ é‡‡é›†è§†é¢‘ &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://al1020119.github.io/blog/2016/09/26/zhi-bo-mei-yan-pian/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="iOSæ¢¦å·¥å‚" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//libs.baidu.com/jquery/1.7.2/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->

<!--<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
-->
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">iOSæ¢¦å·¥å‚</a></h1>
  
    <h2>iCocosâ€”â€”ä¸æˆ˜èƒœè‡ªå·±ï¼Œä½•ä»¥æ”¹å˜æœªæ¥ï¼</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="al1020119.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">åšæ–‡</a></li>
  <li><a href="/blog/archives">å½’æ¡£</a></li>
  <li><a href="/icocos">iCocos</a></li>
  <li><a href="/about">æ–‡ç« </a></li>
  <li><a href="/other">å…¶ä»–</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">ç›´æ’­-ç¾é¢œç¯‡</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-09-26T10:56:04+08:00'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>26</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>10:56 am</span></time>
        
        
        |   <a href="#comments">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>åœ¨çœ‹è¿™ç¯‡ä¹‹å‰ï¼Œå¦‚æœæ‚¨è¿˜ä¸äº†è§£ç›´æ’­åŸç†ï¼Œè¯·æŸ¥çœ‹è¿™ç¯‡æ–‡ç« å¦‚ä½•å¿«é€Ÿçš„å¼€å‘ä¸€ä¸ªå®Œæ•´çš„iOSç›´æ’­app(åŸç†ç¯‡)</p>

<p>å¼€å‘ä¸€æ¬¾ç›´æ’­appï¼Œç¾é¢œåŠŸèƒ½æ˜¯å¾ˆé‡è¦çš„ï¼Œå¦‚æœæ²¡æœ‰ç¾é¢œåŠŸèƒ½ï¼Œå¯èƒ½åˆ†åˆ†é’Ÿé’Ÿæ‰ç²‰åƒä¸‡ï¼Œæœ¬ç¯‡ä¸»è¦è®²è§£ç›´æ’­ä¸­ç¾é¢œåŠŸèƒ½çš„å®ç°åŸç†ï¼Œå¹¶ä¸”å®ç°ç¾é¢œåŠŸèƒ½ã€‚</p>

<p>åˆ©ç”¨GPUImageå¤„ç†ç›´æ’­è¿‡ç¨‹ä¸­ç¾é¢œçš„æµç¨‹</p>

<pre><code>é‡‡é›†è§†é¢‘ =&gt; è·å–æ¯ä¸€å¸§å›¾ç‰‡ =&gt; æ»¤é•œå¤„ç† =&gt; GPUImageViewå±•ç¤º
</code></pre>

<p><img src="/images/zhibomeiyuanpian001.png" title="Caption" ></p>

<!--more-->


<p></p>

<h4>ç¾é¢œåŸºæœ¬æ¦‚å¿µ</h4>

<pre><code>GPUï¼šï¼ˆGraphic Processor Unitå›¾å½¢å¤„ç†å•å…ƒï¼‰æ‰‹æœºæˆ–è€…ç”µè„‘ç”¨äºå›¾åƒå¤„ç†å’Œæ¸²æŸ“çš„ç¡¬ä»¶

GPUå·¥ä½œåŸç†ï¼šCPUæŒ‡å®šæ˜¾ç¤ºæ§åˆ¶å™¨å·¥ä½œï¼Œæ˜¾ç¤ºæ§åˆ¶å™¨æ ¹æ®CPUçš„æ§åˆ¶åˆ°æŒ‡å®šçš„åœ°æ–¹å»å–æ•°æ®å’ŒæŒ‡ä»¤ï¼Œ ç›®å‰çš„æ•°æ®ä¸€èˆ¬æ˜¯ä»æ˜¾å­˜é‡Œå–ï¼Œå¦‚æœæ˜¾å­˜é‡Œå­˜ä¸ä¸‹ï¼Œåˆ™ä»å†…å­˜é‡Œå–ï¼Œ å†…å­˜ä¹Ÿæ”¾ä¸ä¸‹ï¼Œåˆ™ä»ç¡¬ç›˜é‡Œå–ï¼Œå½“ç„¶ä¹Ÿä¸æ˜¯å†…å­˜æ”¾ä¸ä¸‹ï¼Œè€Œæ˜¯ä¸ºäº†èŠ‚çœå†…å­˜çš„è¯ï¼Œå¯ä»¥æ”¾åœ¨ç¡¬ç›˜é‡Œï¼Œç„¶åé€šè¿‡æŒ‡ä»¤æ§åˆ¶æ˜¾ç¤ºæ§åˆ¶å™¨å»å–ã€‚

OpenGL ESï¼šï¼ˆOpen Graphics Library For Embedded(åµŒå…¥çš„) Systems å¼€æºåµŒå…¥å¼ç³»ç»Ÿå›¾å½¢å¤„ç†æ¡†æ¶ï¼‰ï¼Œä¸€å¥—å›¾å½¢ä¸ç¡¬ä»¶æ¥å£ï¼Œç”¨äºæŠŠå¤„ç†å¥½çš„å›¾ç‰‡æ˜¾ç¤ºåˆ°å±å¹•ä¸Šã€‚

GPUImage:æ˜¯ä¸€ä¸ªåŸºäºOpenGL ES 2.0å›¾åƒå’Œè§†é¢‘å¤„ç†çš„å¼€æºiOSæ¡†æ¶ï¼Œæä¾›å„ç§å„æ ·çš„å›¾åƒå¤„ç†æ»¤é•œï¼Œå¹¶ä¸”æ”¯æŒç…§ç›¸æœºå’Œæ‘„åƒæœºçš„å®æ—¶æ»¤é•œï¼Œå†…ç½®120å¤šç§æ»¤é•œæ•ˆæœï¼Œå¹¶ä¸”èƒ½å¤Ÿè‡ªå®šä¹‰å›¾åƒæ»¤é•œã€‚

æ»¤é•œå¤„ç†çš„åŸç†:å°±æ˜¯æŠŠé™æ€å›¾ç‰‡æˆ–è€…è§†é¢‘çš„æ¯ä¸€å¸§è¿›è¡Œå›¾å½¢å˜æ¢å†æ˜¾ç¤ºå‡ºæ¥ã€‚å®ƒçš„æœ¬è´¨å°±æ˜¯åƒç´ ç‚¹çš„åæ ‡å’Œé¢œè‰²å˜åŒ–
</code></pre>

<h4>GPUImageå¤„ç†ç”»é¢åŸç†</h4>

<pre><code>GPUImageé‡‡ç”¨é“¾å¼æ–¹å¼æ¥å¤„ç†ç”»é¢,é€šè¿‡addTarget:æ–¹æ³•ä¸ºé“¾æ¡æ·»åŠ æ¯ä¸ªç¯èŠ‚çš„å¯¹è±¡ï¼Œå¤„ç†å®Œä¸€ä¸ªtarget,å°±ä¼šæŠŠä¸Šä¸€ä¸ªç¯èŠ‚å¤„ç†å¥½çš„å›¾åƒæ•°æ®ä¼ é€’ä¸‹ä¸€ä¸ªtargetå»å¤„ç†ï¼Œç§°ä¸ºGPUImageå¤„ç†é“¾ã€‚
    æ¯”å¦‚ï¼šå¢¨é•œåŸç†ï¼Œä»å¤–ç•Œä¼ æ¥å…‰çº¿ï¼Œä¼šç»è¿‡å¢¨é•œè¿‡æ»¤ï¼Œåœ¨ä¼ ç»™æˆ‘ä»¬çš„çœ¼ç›ï¼Œå°±èƒ½æ„Ÿå—åˆ°å¤§ç™½å¤©ä¹Ÿæ˜¯ä¹Œé»‘ä¸€ç‰‡ï¼Œå“ˆå“ˆã€‚
    ä¸€èˆ¬çš„targetå¯åˆ†ä¸ºä¸¤ç±»
        ä¸­é—´ç¯èŠ‚çš„target, ä¸€èˆ¬æ˜¯å„ç§filter, æ˜¯GPUImageFilteræˆ–è€…æ˜¯å­ç±».
        æœ€ç»ˆç¯èŠ‚çš„target, GPUImageViewï¼šç”¨äºæ˜¾ç¤ºåˆ°å±å¹•ä¸Š, æˆ–è€…GPUImageMovieWriterï¼šå†™æˆè§†é¢‘æ–‡ä»¶ã€‚
GPUImageå¤„ç†ä¸»è¦åˆ†ä¸º3ä¸ªç¯èŠ‚
    source(è§†é¢‘ã€å›¾ç‰‡æº) -&gt; filterï¼ˆæ»¤é•œï¼‰ -&gt; final target (å¤„ç†åè§†é¢‘ã€å›¾ç‰‡)
    GPUImagedçš„Source:éƒ½ç»§æ‰¿GPUImageOutputçš„å­ç±»ï¼Œä½œä¸ºGPUImageçš„æ•°æ®æº,å°±å¥½æ¯”å¤–ç•Œçš„å…‰çº¿ï¼Œä½œä¸ºçœ¼ç›çš„è¾“å‡ºæº
        GPUImageVideoCameraï¼šç”¨äºå®æ—¶æ‹æ‘„è§†é¢‘
        GPUImageStillCameraï¼šç”¨äºå®æ—¶æ‹æ‘„ç…§ç‰‡
        GPUImagePictureï¼šç”¨äºå¤„ç†å·²ç»æ‹æ‘„å¥½çš„å›¾ç‰‡ï¼Œæ¯”å¦‚png,jpgå›¾ç‰‡
        GPUImageMovieï¼šç”¨äºå¤„ç†å·²ç»æ‹æ‘„å¥½çš„è§†é¢‘,æ¯”å¦‚mp4æ–‡ä»¶
    GPUImageçš„filter:GPUimageFilterç±»æˆ–è€…å­ç±»ï¼Œè¿™ä¸ªç±»ç»§æ‰¿è‡ªGPUImageOutput,å¹¶ä¸”éµå®ˆGPUImageInputåè®®ï¼Œè¿™æ ·æ—¢èƒ½æµè¿›ï¼Œåˆèƒ½æµå‡ºï¼Œå°±å¥½æ¯”æˆ‘ä»¬çš„å¢¨é•œï¼Œå…‰çº¿é€šè¿‡å¢¨é•œçš„å¤„ç†ï¼Œæœ€ç»ˆè¿›å…¥æˆ‘ä»¬çœ¼ç›
    GPUImageçš„final target:GPUImageView,GPUImageMovieWriterå°±å¥½æ¯”æˆ‘ä»¬çœ¼ç›ï¼Œæœ€ç»ˆè¾“å…¥ç›®æ ‡ã€‚
</code></pre>

<p><img src="/images/zhibomeiyuanpian002.png" title="Caption" ></p>

<h4>ç¾é¢œåŸç†</h4>

<pre><code>ç£¨çš®(GPUImageBilateralFilter)ï¼šæœ¬è´¨å°±æ˜¯è®©åƒç´ ç‚¹æ¨¡ç³Šï¼Œå¯ä»¥ä½¿ç”¨é«˜æ–¯æ¨¡ç³Šï¼Œä½†æ˜¯å¯èƒ½å¯¼è‡´è¾¹ç¼˜ä¼šä¸æ¸…æ™°ï¼Œç”¨åŒè¾¹æ»¤æ³¢(Bilateral Filter) ï¼Œæœ‰é’ˆå¯¹æ€§çš„æ¨¡ç³Šåƒç´ ç‚¹ï¼Œèƒ½ä¿è¯è¾¹ç¼˜ä¸è¢«æ¨¡ç³Šã€‚
ç¾ç™½(GPUImageBrightnessFilter)ï¼šæœ¬è´¨å°±æ˜¯æé«˜äº®åº¦ã€‚
</code></pre>

<h2>GPUImageå®æˆ˜</h2>

<h4>GPUImageåŸç”Ÿç¾é¢œ</h4>

<pre><code>æ­¥éª¤ä¸€ï¼šä½¿ç”¨Cocoapodså¯¼å…¥GPUImage
æ­¥éª¤äºŒï¼šåˆ›å»ºè§†é¢‘æºGPUImageVideoCamera
æ­¥éª¤ä¸‰ï¼šåˆ›å»ºæœ€ç»ˆç›®çš„æºï¼šGPUImageView
æ­¥éª¤å››ï¼šåˆ›å»ºæ»¤é•œç»„(GPUImageFilterGroup)ï¼Œéœ€è¦ç»„åˆäº®åº¦(GPUImageBrightnessFilter)å’ŒåŒè¾¹æ»¤æ³¢(GPUImageBilateralFilter)è¿™ä¸¤ä¸ªæ»¤é•œè¾¾åˆ°ç¾é¢œæ•ˆæœ.
æ­¥éª¤äº”ï¼šè®¾ç½®æ»¤é•œç»„é“¾
æ­¥éª¤å…­ï¼šè®¾ç½®GPUImageå¤„ç†é“¾ï¼Œä»æ•°æ®æº =&gt; æ»¤é•œ =&gt; æœ€ç»ˆç•Œé¢æ•ˆæœ
æ­¥éª¤ä¸ƒï¼šå¼€å§‹é‡‡é›†è§†é¢‘
</code></pre>

<blockquote><p>æ³¨æ„ç‚¹ï¼š</p>

<p>SessionPresetæœ€å¥½ä½¿ç”¨AVCaptureSessionPresetHighï¼Œä¼šè‡ªåŠ¨è¯†åˆ«ï¼Œå¦‚æœç”¨å¤ªé«˜åˆ†è¾¨ç‡ï¼Œå½“å‰è®¾å¤‡ä¸æ”¯æŒä¼šç›´æ¥æŠ¥é”™</p>

<p>GPUImageVideoCameraå¿…é¡»è¦å¼ºå¼•ç”¨ï¼Œå¦åˆ™ä¼šè¢«é”€æ¯ï¼Œä¸èƒ½æŒç»­é‡‡é›†è§†é¢‘.</p>

<p>å¿…é¡»è°ƒç”¨startCameraCaptureï¼Œåº•å±‚æ‰ä¼šæŠŠé‡‡é›†åˆ°çš„è§†é¢‘æºï¼Œæ¸²æŸ“åˆ°GPUImageViewä¸­ï¼Œå°±èƒ½æ˜¾ç¤ºäº†ã€‚</p>

<p>GPUImageBilateralFilterçš„distanceNormalizationFactorå€¼è¶Šå°ï¼Œç£¨çš®æ•ˆæœè¶Šå¥½,distanceNormalizationFactorå–å€¼èŒƒå›´: å¤§äº1ã€‚</p></blockquote>

<pre><code>- (void)viewDidLoad {
    [super viewDidLoad];

    // åˆ›å»ºè§†é¢‘æº
    // SessionPreset:å±å¹•åˆ†è¾¨ç‡ï¼ŒAVCaptureSessionPresetHighä¼šè‡ªé€‚åº”é«˜åˆ†è¾¨ç‡
    // cameraPosition:æ‘„åƒå¤´æ–¹å‘
    GPUImageVideoCamera *videoCamera = [[GPUImageVideoCamera alloc] initWithSessionPreset:AVCaptureSessionPresetHigh cameraPosition:AVCaptureDevicePositionFront];
     videoCamera.outputImageOrientation = UIInterfaceOrientationPortrait;
    _videoCamera = videoCamera;

    // åˆ›å»ºæœ€ç»ˆé¢„è§ˆView
    GPUImageView *captureVideoPreview = [[GPUImageView alloc] initWithFrame:self.view.bounds];
    [self.view insertSubview:captureVideoPreview atIndex:0];

    // åˆ›å»ºæ»¤é•œï¼šç£¨çš®ï¼Œç¾ç™½ï¼Œç»„åˆæ»¤é•œ
    GPUImageFilterGroup *groupFilter = [[GPUImageFilterGroup alloc] init];

    // ç£¨çš®æ»¤é•œ
    GPUImageBilateralFilter *bilateralFilter = [[GPUImageBilateralFilter alloc] init];
    [groupFilter addTarget:bilateralFilter];
    _bilateralFilter = bilateralFilter;

    // ç¾ç™½æ»¤é•œ
    GPUImageBrightnessFilter *brightnessFilter = [[GPUImageBrightnessFilter alloc] init];
    [groupFilter addTarget:brightnessFilter];
    _brightnessFilter = brightnessFilter;

    // è®¾ç½®æ»¤é•œç»„é“¾
    [bilateralFilter addTarget:brightnessFilter];
    [groupFilter setInitialFilters:@[bilateralFilter]];
    groupFilter.terminalFilter = brightnessFilter;

    // è®¾ç½®GPUImageå“åº”é“¾ï¼Œä»æ•°æ®æº =&gt; æ»¤é•œ =&gt; æœ€ç»ˆç•Œé¢æ•ˆæœ
    [videoCamera addTarget:groupFilter];
    [groupFilter addTarget:captureVideoPreview];

    // å¿…é¡»è°ƒç”¨startCameraCaptureï¼Œåº•å±‚æ‰ä¼šæŠŠé‡‡é›†åˆ°çš„è§†é¢‘æºï¼Œæ¸²æŸ“åˆ°GPUImageViewä¸­ï¼Œå°±èƒ½æ˜¾ç¤ºäº†ã€‚
    // å¼€å§‹é‡‡é›†è§†é¢‘
    [videoCamera startCameraCapture];
}

- (IBAction)brightnessFilter:(UISlider *)sender {
    _brightnessFilter.brightness = sender.value;
}

- (IBAction)bilateralFilter:(UISlider *)sender {
    // å€¼è¶Šå°ï¼Œç£¨çš®æ•ˆæœè¶Šå¥½
    CGFloat maxValue = 10;
    [_bilateralFilter setDistanceNormalizationFactor:(maxValue - sender.value)];
}
</code></pre>

<h4>åˆ©ç”¨ç¾é¢œæ»¤é•œå®ç°</h4>

<pre><code>æ­¥éª¤ä¸€ï¼šä½¿ç”¨Cocoapodså¯¼å…¥GPUImage
æ­¥éª¤äºŒï¼šå¯¼å…¥GPUImageBeautifyFilteræ–‡ä»¶å¤¹
æ­¥éª¤ä¸‰ï¼šåˆ›å»ºè§†é¢‘æºGPUImageVideoCamera
æ­¥éª¤å››ï¼šåˆ›å»ºæœ€ç»ˆç›®çš„æºï¼šGPUImageView
æ­¥éª¤äº”ï¼šåˆ›å»ºæœ€ç»ˆç¾é¢œæ»¤é•œï¼šGPUImageBeautifyFilter
æ­¥éª¤å…­ï¼šè®¾ç½®GPUImageå¤„ç†é“¾ï¼Œä»æ•°æ®æº =&gt; æ»¤é•œ =&gt; æœ€ç»ˆç•Œé¢æ•ˆæœ
</code></pre>

<blockquote><p>æ³¨æ„ï¼š</p>

<p>åˆ‡æ¢ç¾é¢œæ•ˆæœåŸç†ï¼šç§»é™¤ä¹‹å‰æ‰€æœ‰å¤„ç†é“¾ï¼Œé‡æ–°è®¾ç½®å¤„ç†é“¾</p></blockquote>

<pre><code>- (void)viewDidLoad {
    [super viewDidLoad];
    // Do any additional setup after loading the view.
    // åˆ›å»ºè§†é¢‘æº
    // SessionPreset:å±å¹•åˆ†è¾¨ç‡ï¼ŒAVCaptureSessionPresetHighä¼šè‡ªé€‚åº”é«˜åˆ†è¾¨ç‡
    // cameraPosition:æ‘„åƒå¤´æ–¹å‘
    GPUImageVideoCamera *videoCamera = [[GPUImageVideoCamera alloc] initWithSessionPreset:AVCaptureSessionPresetHigh cameraPosition:AVCaptureDevicePositionFront];
    videoCamera.outputImageOrientation = UIInterfaceOrientationPortrait;
    _videoCamera = videoCamera;

    // åˆ›å»ºæœ€ç»ˆé¢„è§ˆView
    GPUImageView *captureVideoPreview = [[GPUImageView alloc] initWithFrame:self.view.bounds];
    [self.view insertSubview:captureVideoPreview atIndex:0];
    _captureVideoPreview = captureVideoPreview;

    // è®¾ç½®å¤„ç†é“¾
    [_videoCamera addTarget:_captureVideoPreview];

    // å¿…é¡»è°ƒç”¨startCameraCaptureï¼Œåº•å±‚æ‰ä¼šæŠŠé‡‡é›†åˆ°çš„è§†é¢‘æºï¼Œæ¸²æŸ“åˆ°GPUImageViewä¸­ï¼Œå°±èƒ½æ˜¾ç¤ºäº†ã€‚
    // å¼€å§‹é‡‡é›†è§†é¢‘
    [videoCamera startCameraCapture];

}

- (IBAction)openBeautifyFilter:(UISwitch *)sender {

    // åˆ‡æ¢ç¾é¢œæ•ˆæœåŸç†ï¼šç§»é™¤ä¹‹å‰æ‰€æœ‰å¤„ç†é“¾ï¼Œé‡æ–°è®¾ç½®å¤„ç†é“¾
    if (sender.on) {

        // ç§»é™¤ä¹‹å‰æ‰€æœ‰å¤„ç†é“¾
        [_videoCamera removeAllTargets];

        // åˆ›å»ºç¾é¢œæ»¤é•œ
        GPUImageBeautifyFilter *beautifyFilter = [[GPUImageBeautifyFilter alloc] init];

        // è®¾ç½®GPUImageå¤„ç†é“¾ï¼Œä»æ•°æ®æº =&gt; æ»¤é•œ =&gt; æœ€ç»ˆç•Œé¢æ•ˆæœ
        [_videoCamera addTarget:beautifyFilter];
        [beautifyFilter addTarget:_captureVideoPreview];

    } else {

        // ç§»é™¤ä¹‹å‰æ‰€æœ‰å¤„ç†é“¾
        [_videoCamera removeAllTargets];
        [_videoCamera addTarget:_captureVideoPreview];
    }


}
</code></pre>

<h4>GPUImageæ‰©å±•</h4>

<p>  <a href="http://www.tuicool.com/articles/6bIbQbQ">GPUImageæ‰€æœ‰æ»¤é•œä»‹ç»</a></p>

<p>  <a href="http://www.jianshu.com/p/945fc806a9b4">ç¾é¢œæ»¤é•œ</a></p>

<p>  <a href="http://www.360doc.com/content/15/0907/10/19175681_497418716.shtml">ç¾å›¾ç§€ç§€æ»¤é•œå¤§æ±‡æ€»</a></p>

<h2>æºç ä¸‹è½½</h2>

<p><a href="https://github.com/iThinkerYZ/GPUImgeDemo">æºç </a></p>

<h2>ç»“æŸè¯­</h2>

<p>åç»­è¿˜ä¼šè®²è§£GPUImageåŸç†openGL ESï¼Œè§†é¢‘ç¼–ç ï¼Œæ¨æµï¼ŒèŠå¤©å®¤ï¼Œç¤¼ç‰©ç³»ç»Ÿç­‰æ›´å¤šåŠŸèƒ½ï¼Œæ•¬è¯·å…³æ³¨ï¼ï¼ï¼</p>

<hr />

<pre><code>Q Qï¼š2211523682/790806573

å¾®ä¿¡ï¼š18370997821/13148454507

å¾®åšWB:http://weibo.com/u/3288975567?is_hot=1

gitåšæ–‡ï¼šhttp://al1020119.github.io/

githubï¼šhttps://github.com/al1020119
</code></pre>

<p><img src="/images/iCocosCoder.jpg" title="Caption" ></p>

<p><img src="/images/iCocosPublic.jpg" title="Caption" ></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">iCocos</span></span>

      




<time class='entry-date' datetime='2016-09-26T10:56:04+08:00'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>26</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>10:56 am</span></time>
      


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2016/09/25/zhi-bo-cai-ji-pian/" title="Previous Post: ç›´æ’­-é‡‡é›†ç¯‡">&laquo; ç›´æ’­-é‡‡é›†ç¯‡</a>
      
      
        <a class="basic-alignment right" href="/blog/2016/09/28/zhi-bo-mei-yan-pian/" title="Next Post: ç›´æ’­-æ¨æµç¯‡">ç›´æ’­-æ¨æµç¯‡ &raquo;</a>
      
    </p>
  </footer>
</article>



  <section>
    <h1>Comments</h1>
    <div id="comments" aria-live="polite"><!-- Duoshuo Comment BEGIN -->
<div class="ds-thread" data-title="ç›´æ’­-ç¾é¢œç¯‡"></div>
<script type="text/javascript">
  var duoshuoQuery = {short_name:"icocoscao"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>
<!-- Duoshuo Comment END --></div>
  </section>


</div>

<aside class="sidebar">
  
    <section>
    <h1>æ–‡ç« åˆ†ç±»</h1>
    <ul id="categories">
        <li class='category'><a href='/blog/categories/algorithms/'>algorithms (6)</a></li>
<li class='category'><a href='/blog/categories/and/'>and (14)</a></li>
<li class='category'><a href='/blog/categories/apples/'>apples (2)</a></li>
<li class='category'><a href='/blog/categories/application/'>application (1)</a></li>
<li class='category'><a href='/blog/categories/architecture/'>architecture (2)</a></li>
<li class='category'><a href='/blog/categories/audio/'>audio (8)</a></li>
<li class='category'><a href='/blog/categories/audio-video/'>audio-video (1)</a></li>
<li class='category'><a href='/blog/categories/data/'>data (6)</a></li>
<li class='category'><a href='/blog/categories/developer/'>developer (16)</a></li>
<li class='category'><a href='/blog/categories/foundation/'>foundation (31)</a></li>
<li class='category'><a href='/blog/categories/full/'>full (13)</a></li>
<li class='category'><a href='/blog/categories/low-level/'>low-level (4)</a></li>
<li class='category'><a href='/blog/categories/lve/'>lve (8)</a></li>
<li class='category'><a href='/blog/categories/news/'>news (4)</a></li>
<li class='category'><a href='/blog/categories/others/'>others (1)</a></li>
<li class='category'><a href='/blog/categories/performance/'>performance (12)</a></li>
<li class='category'><a href='/blog/categories/practical/'>practical (1)</a></li>
<li class='category'><a href='/blog/categories/radio/'>radio (8)</a></li>
<li class='category'><a href='/blog/categories/reverse/'>reverse (25)</a></li>
<li class='category'><a href='/blog/categories/senior/'>senior (40)</a></li>
<li class='category'><a href='/blog/categories/stack/'>stack (13)</a></li>
<li class='category'><a href='/blog/categories/structures/'>structures (6)</a></li>
<li class='category'><a href='/blog/categories/summarize/'>summarize (5)</a></li>
<li class='category'><a href='/blog/categories/tools/'>tools (5)</a></li>
<li class='category'><a href='/blog/categories/video/'>video (8)</a></li>

    </ul>
</section><section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/12/01/wan-zhuan-thinkphp-5-dot-star/">å®Œè™ThinkPHP 5.* è¿œä¸æ­¢è¿™äº›ğŸ˜±ğŸ˜‚</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/11/13/wan-nue-yiicong-zhe-li-kai-shi/">å®Œè™Yiiä»è¿™é‡Œå¼€å§‹ğŸ˜±ğŸ˜‚</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/20/apptai-pang-liao-jian-fei/">Appå¤ªèƒ–äº†â€”â€”å‡è‚¥ğŸ˜‚</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/16/ioskai-fa-chang-yong-gong-neng-dai-ma-ji-jin-(you-xiu-pian-)/">iOSå¼€å‘â€”â€”å¸¸ç”¨åŠŸèƒ½ä»£ç é›†é”¦ï¼ˆå‹ç§€ç¯‡ï¼‰</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/14/ioszhuang-bi-pian-xiang-ying-shi-bian-cheng/">iOSè£…é€¼ç¯‡â€”â€”å“åº”å¼ç¼–ç¨‹</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/al1020119">@al1020119</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'al1020119',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





<section>
<h1>åšå®¢<abbr title="The word 'åšå®¢' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'åšå®¢', not for image.">&trade;</abbr></h1>
<a href="http://al1020119.github.io/blog/2016/09/26/zhi-bo-mei-yan-pian/"><img src="http://chart.apis.google.com/chart?chs=150x150&cht=qr&chld=|0&chco=165B94&chl=http://al1020119.github.io/blog/2016/09/26/zhi-bo-mei-yan-pian/" alt="post-qrcode"></a></section>


<section>
<h1>github<abbr title="The word 'github' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'github', not for image.">&trade;</abbr></h1>
<a><img src="/images/iCocosgithub.png" alt="post-qrcode"></a></section>


<section>
<h1>å¾®ä¿¡<abbr title="The word 'å¾®ä¿¡' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'å¾®ä¿¡', not for image.">&trade;</abbr></h1>
<a><img src="/images/iCocosWX.png" alt="post-qrcode"></a></section>


<section>
<h1>å…¬ä¼—å·<abbr title="The word 'å…¬ä¼—å·' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'å…¬ä¼—å·', not for image.">&trade;</abbr></h1>
<a><img src="/images/iCocosMGC.png" alt="post-qrcode"></a><section>
  
  
</section>
<h1>å…¬ä¼—å·<abbr title="The word 'å…¬ä¼—å·' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'å…¬ä¼—å·', not for image.">&trade;</abbr></h1>
<a><img src="/images/iCocos520.png" alt="post-qrcode"></a></section>
<section>
    <h1>è®¿å®¢ç»Ÿè®¡</h1>
    <br/>
    <a href="http://s07.flagcounter.com/more/2SH"><img src="http://s07.flagcounter.com/count/2SH/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_1/flags_0/" alt="Flag Counter" border="0"></a>
</section><section>
    <h1>æ–°æµªå¾®åš</h1>
    <ul id="weibo">
        <li>
            
            <!-- åœ¨æ­¤æ’å…¥è·å¾—çš„å¾®åšç§€ä»£ç  -->
            <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=3288975567&verifier=20ffcedd&dpc=1"></iframe>
            
        </li>
    </ul>
</section>
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - iCocos -
<span class="credit">welcome to <a href="http://al1020119.github.io">æ›¹#é»</a></span>
</p>

</footer>
  






<!--
-->



</body>
</html>
