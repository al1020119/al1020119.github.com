
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>iOSæ¢¦å·¥å‚</title>
  <meta name="author" content="iCocos">

  
  <meta name="description" content="ä¸€. æ¦‚è¦ åœ¨ iOS è®¾å¤‡ä¸­ï¼Œç…§ç‰‡å’Œè§†é¢‘æ˜¯ç›¸å½“é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚æœ€è¿‘åˆšå¥½åœ¨åˆ¶ä½œä¸€ä¸ªè‡ªå®šä¹‰çš„ iOS å›¾ç‰‡é€‰æ‹©å™¨ï¼Œé¡ºä¾¿æ•´ç†ä¸€ä¸‹ iOS ä¸­å¯¹ç…§ç‰‡æ¡†æ¶çš„ä½¿ç”¨æ–¹æ³•ã€‚åœ¨ iOS 8 å‡ºç°ä¹‹å‰ï¼Œå¼€å‘è€…åªèƒ½ä½¿ç”¨ AssetsLibrary æ¡†æ¶æ¥è®¿é—®è®¾å¤‡çš„ç…§ç‰‡åº“ï¼Œè¿™æ˜¯ä¸€ä¸ªæœ‰ç‚¹è·Ÿä¸ä¸Š iOS &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://al1020119.github.io/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="iOSæ¢¦å·¥å‚" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//libs.baidu.com/jquery/1.7.2/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <script>
function addBlankTargetForLinks () {
    $('a[href^="http"]').each(function(){
                              $(this).attr('target', '_blank');
                              });
}
$(document).bind('DOMNodeInserted', function(event) {
             addBlankTargetForLinks();
             });
</script>
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">iOSæ¢¦å·¥å‚</a></h1>
  
    <h2>ä¸æˆ˜èƒœè‡ªå·±ï¼Œä½•ä»¥æ”¹å˜æœªæ¥ï¼</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="al1020119.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">é¦–é¡µ</a></li>
  <li><a href="/blog/archives">å½’æ¡£</a></li>
  <li><a href="/icocos">iCocos</a></li>
  <li><a href="/other">å…¶ä»–</a></li>
  <li><a href="/about">å…³äº</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/15/xiang-ce-shen-jiu/">ç›¸å†Œæ·±ç©¶</a></h1>
    
    
      <p class="meta">
        








 <time if="if" updated="updated" data-updated="true" endif="endif" itemprop="datePublished dateCreated"> ordinal </time> 
        
      </p>
    
  </header>


  <div class="entry-content"><h3>ä¸€. æ¦‚è¦</h3>

<p>åœ¨ iOS è®¾å¤‡ä¸­ï¼Œç…§ç‰‡å’Œè§†é¢‘æ˜¯ç›¸å½“é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚æœ€è¿‘åˆšå¥½åœ¨åˆ¶ä½œä¸€ä¸ªè‡ªå®šä¹‰çš„ iOS å›¾ç‰‡é€‰æ‹©å™¨ï¼Œé¡ºä¾¿æ•´ç†ä¸€ä¸‹ iOS ä¸­å¯¹ç…§ç‰‡æ¡†æ¶çš„ä½¿ç”¨æ–¹æ³•ã€‚åœ¨ iOS 8 å‡ºç°ä¹‹å‰ï¼Œå¼€å‘è€…åªèƒ½ä½¿ç”¨ AssetsLibrary æ¡†æ¶æ¥è®¿é—®è®¾å¤‡çš„ç…§ç‰‡åº“ï¼Œè¿™æ˜¯ä¸€ä¸ªæœ‰ç‚¹è·Ÿä¸ä¸Š iOS åº”ç”¨å‘å±•æ­¥ä¼ä»¥åŠä»£ç è®¾è®¡åŸåˆ™ä½†ç¡®å®å¼ºå¤§çš„æ¡†æ¶ï¼Œè€ƒè™‘åˆ° iOS7 ä»å æœ‰ä¸å°‘çš„æ¸—é€ç‡ï¼Œå› æ­¤ AssetsLibrary ä¹Ÿæ˜¯æœ¬æ–‡é‡ç‚¹ä»‹ç»çš„éƒ¨åˆ†ã€‚è€Œåœ¨ iOS8 å‡ºç°ä¹‹åï¼Œè‹¹æœæä¾›äº†ä¸€ä¸ªåä¸º PhotoKit çš„æ¡†æ¶ï¼Œä¸€ä¸ªå¯ä»¥è®©åº”ç”¨æ›´å¥½åœ°ä¸è®¾å¤‡ç…§ç‰‡åº“å¯¹æ¥çš„æ¡†æ¶ï¼Œæ–‡æœ«ä¹Ÿä¼šä»‹ç»ä¸€ä¸‹è¿™ä¸ªæ¡†æ¶ã€‚</p>

<p>å¦å¤–å€¼å¾—å¼ºè°ƒçš„æ˜¯ï¼Œåœ¨ iOS ä¸­ï¼Œç…§ç‰‡åº“å¹¶ä¸åªæ˜¯ç…§ç‰‡çš„é›†åˆï¼ŒåŒæ—¶ä¹ŸåŒ…å«äº†è§†é¢‘ã€‚åœ¨ AssetsLibrary ä¸­ä¸¤è€…éƒ½æœ‰ç›¸åŒç±»å‹çš„å¯¹è±¡å»æè¿°ï¼Œåªæ˜¯ç±»å‹ä¸åŒè€Œå·²ã€‚æ–‡ä¸­ä¸ºäº†æ–¹ä¾¿ï¼Œå¤§éƒ¨åˆ†æ—¶å€™ä¼šä½¿ç”¨ã€Œèµ„æºã€ä»£è¡¨ iOS ä¸­çš„ã€Œç…§ç‰‡å’Œè§†é¢‘ã€ã€‚</p>

<h3>äºŒ. AssetsLibrary ç»„æˆä»‹ç»</h3>

<p>AssetsLibrary çš„ç»„æˆæ¯”è¾ƒç¬¦åˆç…§ç‰‡åº“æœ¬èº«çš„ç»„æˆï¼Œç…§ç‰‡åº“ä¸­çš„å®Œæ•´ç…§ç‰‡åº“å¯¹è±¡ã€ç›¸å†Œã€ç›¸ç‰‡éƒ½èƒ½åœ¨ AssetsLibrary ä¸­æ‰¾åˆ°ä¸€ä¸€å¯¹åº”çš„ç»„æˆï¼Œè¿™ä½¿åˆ° AssetsLibrary çš„ä½¿ç”¨å˜å¾—ç›´è§‚è€Œæ–¹ä¾¿ã€‚</p>

<ul>
<li>AssetsLibrary: ä»£è¡¨æ•´ä¸ªè®¾å¤‡ä¸­çš„èµ„æºåº“ï¼ˆç…§ç‰‡åº“ï¼‰ï¼Œé€šè¿‡ AssetsLibrary å¯ä»¥è·å–å’ŒåŒ…æ‹¬è®¾å¤‡ä¸­çš„ç…§ç‰‡å’Œè§†é¢‘</li>
<li>ALAssetsGroup: æ˜ å°„ç…§ç‰‡åº“ä¸­çš„ä¸€ä¸ªç›¸å†Œï¼Œé€šè¿‡ ALAssetsGroup å¯ä»¥è·å–æŸä¸ªç›¸å†Œçš„ä¿¡æ¯ï¼Œç›¸å†Œä¸‹çš„èµ„æºï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å¯¹æŸä¸ªç›¸å†Œæ·»åŠ èµ„æºã€‚</li>
<li>ALAsset: æ˜ å°„ç…§ç‰‡åº“ä¸­çš„ä¸€ä¸ªç…§ç‰‡æˆ–è§†é¢‘ï¼Œé€šè¿‡ ALAsset å¯ä»¥è·å–æŸä¸ªç…§ç‰‡æˆ–è§†é¢‘çš„è¯¦ç»†ä¿¡æ¯ï¼Œæˆ–è€…ä¿å­˜ç…§ç‰‡å’Œè§†é¢‘ã€‚</li>
<li>ALAssetRepresentation: ALAssetRepresentation æ˜¯å¯¹ ALAsset çš„å°è£…ï¼ˆä½†ä¸æ˜¯å…¶å­ç±»ï¼‰ï¼Œå¯ä»¥æ›´æ–¹ä¾¿åœ°è·å– ALAsset ä¸­çš„èµ„æºä¿¡æ¯ï¼Œæ¯ä¸ª ALAsset éƒ½æœ‰è‡³å°‘æœ‰ä¸€ä¸ª ALAssetRepresentation å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡ defaultRepresentation è·å–ã€‚è€Œä¾‹å¦‚ä½¿ç”¨ç³»ç»Ÿç›¸æœºåº”ç”¨æ‹æ‘„çš„ RAW + JPEG ç…§ç‰‡ï¼Œåˆ™ä¼šæœ‰ä¸¤ä¸ª ALAssetRepresentationï¼Œä¸€ä¸ªå°è£…äº†ç…§ç‰‡çš„ RAW ä¿¡æ¯ï¼Œå¦ä¸€ä¸ªåˆ™å°è£…äº†ç…§ç‰‡çš„ JPEG ä¿¡æ¯ã€‚</li>
</ul>


<h3>ä¸‰. AssetsLibrary çš„åŸºæœ¬ä½¿ç”¨</h3>

<p>AssetsLibrary çš„åŠŸèƒ½å¾ˆå¤šï¼ŒåŸºæœ¬å¯ä»¥åˆ†ä¸ºå¯¹èµ„æºçš„è·å–/ä¿å­˜ä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¿å­˜çš„éƒ¨åˆ†ç›¸å¯¹ç®€å•ï¼ŒAPI ä¹Ÿæ¯”è¾ƒå°‘ï¼Œå› æ­¤è¿™é‡Œä¸ä½œè¯¦ç»†ä»‹ç»ã€‚è·å–èµ„æºçš„ API åˆ™æ¯”è¾ƒä¸°å¯Œäº†ï¼Œä¸€ä¸ªå¸¸è§çš„ä½¿ç”¨å¤§é‡ AssetsLibrary API çš„ä¾‹å­å°±æ˜¯å›¾ç‰‡é€‰æ‹©å™¨ï¼ˆALAsset Pickerï¼‰ã€‚è¦åˆ¶ä½œä¸€ä¸ªå›¾ç‰‡é€‰æ‹©å™¨ï¼Œæ€è·¯åº”è¯¥æ˜¯è·å–ç…§ç‰‡åº“-åˆ—å‡ºæ‰€æœ‰ç›¸å†Œ-å±•ç¤ºç›¸å†Œä¸­çš„æ‰€æœ‰å›¾ç‰‡-é¢„è§ˆå›¾ç‰‡å¤§å›¾ã€‚</p>

<p>é¦–å…ˆæ˜¯è¦æ£€æŸ¥ App æ˜¯å¦æœ‰ç…§ç‰‡æ“ä½œæˆæƒï¼š</p>

<pre><code>NSString *tipTextWhenNoPhotosAuthorization; // æç¤ºè¯­
// è·å–å½“å‰åº”ç”¨å¯¹ç…§ç‰‡çš„è®¿é—®æˆæƒçŠ¶æ€
ALAuthorizationStatus authorizationStatus = [ALAssetsLibrary authorizationStatus];
// å¦‚æœæ²¡æœ‰è·å–è®¿é—®æˆæƒï¼Œæˆ–è€…è®¿é—®æˆæƒçŠ¶æ€å·²ç»è¢«æ˜ç¡®ç¦æ­¢ï¼Œåˆ™æ˜¾ç¤ºæç¤ºè¯­ï¼Œå¼•å¯¼ç”¨æˆ·å¼€å¯æˆæƒ
if (authorizationStatus == ALAuthorizationStatusRestricted || authorizationStatus == ALAuthorizationStatusDenied) {
    NSDictionary *mainInfoDictionary = [[NSBundle mainBundle] infoDictionary];
    NSString *appName = [mainInfoDictionary objectForKey:@"CFBundleDisplayName"];
    tipTextWhenNoPhotosAuthorization = [NSString stringWithFormat:@"è¯·åœ¨è®¾å¤‡çš„\"è®¾ç½®-éšç§-ç…§ç‰‡\"é€‰é¡¹ä¸­ï¼Œå…è®¸%@è®¿é—®ä½ çš„æ‰‹æœºç›¸å†Œ", appName];
    // å±•ç¤ºæç¤ºè¯­
}
</code></pre>

<p>å¦‚æœå·²ç»è·å–æˆæƒï¼Œåˆ™å¯ä»¥è·å–ç›¸å†Œåˆ—è¡¨ï¼š</p>

<pre><code>_assetsLibrary = [[ALAssetsLibrary alloc] init];
_albumsArray = [[NSMutableArray alloc] init];
[_assetsLibrary enumerateGroupsWithTypes:ALAssetsGroupAll usingBlock:^(ALAssetsGroup *group, BOOL *stop) {
    if (group) {
        [group setAssetsFilter:[ALAssetsFilter allPhotos]];
        if (group.numberOfAssets &gt; 0) {
            // æŠŠç›¸å†Œå‚¨å­˜åˆ°æ•°ç»„ä¸­ï¼Œæ–¹ä¾¿åé¢å±•ç¤ºç›¸å†Œæ—¶ä½¿ç”¨
            [_albumsArray addObject:group];
        }
    } else {
        if ([_albumsArray count] &gt; 0) {
            // æŠŠæ‰€æœ‰çš„ç›¸å†Œå‚¨å­˜å®Œæ¯•ï¼Œå¯ä»¥å±•ç¤ºç›¸å†Œåˆ—è¡¨
        } else {
            // æ²¡æœ‰ä»»ä½•æœ‰èµ„æºçš„ç›¸å†Œï¼Œè¾“å‡ºæç¤º
        }
    }
} failureBlock:^(NSError *error) {
    NSLog(@"Asset group not found!\n");
}];
</code></pre>

<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œéå†å‡ºæ‰€æœ‰çš„ç›¸å†Œåˆ—è¡¨ï¼Œå¹¶æŠŠç›¸å†Œä¸­èµ„æºæ•°ä¸ä¸ºç©ºçš„ç›¸å†Œ ALAssetGroup å¯¹è±¡çš„å¼•ç”¨å‚¨å­˜åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚è¿™é‡Œéœ€è¦å¼ºè°ƒå‡ ç‚¹ï¼š</p>

<ul>
<li>iOSä¸­å…è®¸ç›¸å†Œä¸ºç©ºï¼Œå³ç›¸å†Œä¸­æ²¡æœ‰ä»»ä½•èµ„æºï¼Œå¦‚æœä¸å¸Œæœ›è·å–ç©ºç›¸å†Œï¼Œåˆ™éœ€è¦åƒä¸Šé¢çš„ä»£ç ä¸­é‚£æ ·æ‰‹åŠ¨è¿‡æ»¤</li>
<li>ALAssetsGroup æœ‰ä¸€ä¸ª setAssetsFilter çš„æ–¹æ³•ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œæ§åˆ¶åªè·å–ç›¸å†Œä¸­çš„ç…§ç‰‡æˆ–åªè·å–è§†é¢‘ã€‚ä¸€æ—¦è®¾ç½®è¿‡æ»¤ï¼ŒALAssetsGroup ä¸­èµ„æºåˆ—è¡¨å’Œèµ„æºæ•°é‡çš„è·å–ä¹Ÿä¼šè¢«è‡ªåŠ¨æ›´æ–°ã€‚</li>
<li>æ•´ä¸ª AssetsLibrary ä¸­å¯¹ç›¸å†Œã€èµ„æºçš„è·å–å’Œä¿å­˜éƒ½æ˜¯ä½¿ç”¨å¼‚æ­¥å¤„ç†ï¼ˆAsynchronousï¼‰ï¼Œè¿™æ˜¯è€ƒè™‘åˆ°èµ„æºæ–‡ä»¶ä½“ç§¯ç›¸å½“æ¯”è¾ƒå¤§ï¼ˆè¿˜å¯èƒ½å¾ˆå¤§ï¼‰ã€‚ä¾‹å¦‚ä¸Šé¢çš„éå†ç›¸å†Œæ“ä½œï¼Œç›¸å†Œçš„ç»“æœä½¿ç”¨ block è¾“å‡ºï¼Œå¦‚æœç›¸å†Œéå†å®Œæ¯•ï¼Œåˆ™æœ€åä¸€æ¬¡è¾“å‡ºçš„ block ä¸­çš„ group å‚æ•°å€¼ä¸º nilã€‚è€Œ stop å‚æ•°åˆ™æ˜¯ç”¨äºæ‰‹å·¥åœæ­¢éå†ï¼Œåªè¦æŠŠ *stop ç½® YESï¼Œåˆ™ä¼šåœæ­¢ä¸‹ä¸€æ¬¡çš„éå†ã€‚å…³äºè¿™ä¸€ç‚¹å¸¸å¸¸ä¼šå¼•èµ·è¯¯ä¼šï¼Œæ‰€ä»¥éœ€è¦æ³¨æ„ã€‚</li>
</ul>


<p>ç°åœ¨ï¼Œå·²ç»å¯ä»¥è·å–ç›¸å†Œäº†ï¼Œæ¥ä¸‹æ¥æ˜¯è·å–ç›¸å†Œä¸­çš„èµ„æºï¼š</p>

<pre><code>_imagesAssetArray = [[NSMutableArray alloc] init];
[assetsGroup enumerateAssetsWithOptions:NSEnumerationReverse usingBlock:^(ALAsset *result, NSUInteger index, BOOL *stop) {
    if (result) {
        [_imagesAssetArray addObject:result];
    } else {
        // result ä¸º nilï¼Œå³éå†ç›¸ç‰‡æˆ–è§†é¢‘å®Œæ¯•ï¼Œå¯ä»¥å±•ç¤ºèµ„æºåˆ—è¡¨
    }
}];
</code></pre>

<p>è·Ÿéå†ç›¸å†Œçš„è¿‡ç¨‹ç±»ä¼¼ï¼Œéå†ç›¸ç‰‡ä¹Ÿæ˜¯ä½¿ç”¨ä¸€ç³»åˆ—çš„å¼‚æ­¥æ–¹æ³•ï¼Œå…¶ä¸­ä¸Šé¢çš„æ–¹æ³•æ‰€è¾“å‡ºçš„ block ä¸­ï¼Œé™¤äº† result å‚æ•°è¡¨ç¤ºèµ„æºä¿¡æ¯ï¼Œstop ç”¨äºæ‰‹å·¥åœæ­¢éå†å¤–ï¼Œè¿˜æä¾›äº†ä¸€ä¸ª index å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°è¡¨ç¤ºèµ„æºçš„ç´¢å¼•ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå±•ç¤ºèµ„æºåˆ—è¡¨éƒ½ä¼šä½¿ç”¨ç¼©ç•¥å›¾ï¼ˆresult.thumbnailï¼‰ï¼Œå› æ­¤å³ä½¿èµ„æºå¾ˆå¤šï¼Œéå†èµ„æºçš„é€Ÿåº¦ä¹Ÿä¼šç›¸å½“å¿«ã€‚ä½†å¦‚æœç¡®å®éœ€è¦åŠ è½½èµ„æºçš„é«˜æ¸…å›¾æˆ–è€…å…¶ä»–è€—æ—¶çš„å¤„ç†ï¼Œåˆ™å¯ä»¥åˆ©ç”¨ä¸Šé¢çš„ index å‚æ•°å’Œ stop å‚æ•°åšä¸€ä¸ªåˆ†æ®µæ‹‰å–èµ„æºã€‚ä¾‹å¦‚ï¼š</p>

<pre><code>NSUInteger _targetIndex; // index ç›®æ ‡å€¼ï¼Œæ‹‰å–èµ„æºç›´åˆ°è¿™ä¸ªå€¼å°±æ‰‹å·¥åœæ­¢æ‹‰å–
NSUInteger _currentIndex; // å½“å‰ indexï¼Œæ¯æ¬¡æ‹‰å–èµ„æºæ—¶ä»è¿™ä¸ªå€¼å¼€å§‹

_targetIndex = 50;
_currentIndex = 0;

- (void)loadAssetWithAssetsGroup:(assetsGroup *)assetsGroup {
    [assetsGroup enumerateAssetsAtIndexes:[NSIndexSet indexSetWithIndex:_currentIndex] options:NSEnumerationReverse usingBlock:^(ALAsset *result, NSUInteger index, BOOL *stop) {
        _currentIndex = index;
        if (index &gt; _targetIndex) {
            // æ‹‰å–èµ„æºçš„ç´¢å¼•å¦‚æœæ¯”ç›®æ ‡å€¼å¤§ï¼Œåˆ™åœæ­¢æ‹‰å–
            *stop = YES;
        } else {
            if (result) {
                [_imagesAssetArray addObject:result];
            } else {
                // result ä¸º nilï¼Œå³éå†ç›¸ç‰‡æˆ–è§†é¢‘å®Œæ¯•
            }
        }
    }];
}
</code></pre>

<p>// ä¹‹å‰æ‹‰å–çš„æ•°æ®å·²ç»æ˜¾ç¤ºå®Œæ¯•ï¼Œéœ€è¦å±•ç¤ºæ–°æ•°æ®ï¼Œé‡æ–°è°ƒç”¨ loadAssetWithAssetsGroup æ–¹æ³•ï¼Œå¹¶æ ¹æ®éœ€è¦æ›´æ–° _targetIndex çš„å€¼</p>

<p>æœ€åä¸€æ­¥æ˜¯è·å–å›¾ç‰‡è¯¦ç»†ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š</p>

<pre><code>// è·å–èµ„æºå›¾ç‰‡çš„è¯¦ç»†èµ„æºä¿¡æ¯ï¼Œå…¶ä¸­ imageAsset æ˜¯æŸä¸ªèµ„æºçš„ ALAsset å¯¹è±¡
ALAssetRepresentation *representation = [imageAsset defaultRepresentation];
// è·å–èµ„æºå›¾ç‰‡çš„ fullScreenImage
UIImage *contentImage = [UIImage imageWithCGImage:[representation fullScreenImage]];
</code></pre>

<p>å¯¹äºä¸€ä¸ª ALAssetRepresentationï¼Œé‡Œé¢åŒ…å«äº†å›¾ç‰‡çš„å¤šä¸ªç‰ˆæœ¬ã€‚æœ€å¸¸ç”¨çš„æ˜¯ fullResolutionImage å’Œ fullScreenImageã€‚fullResolutionImage æ˜¯å›¾ç‰‡çš„åŸå›¾ï¼Œé€šè¿‡ fullResolutionImage è·å–çš„å›¾ç‰‡æ²¡æœ‰ä»»ä½•å¤„ç†ï¼ŒåŒ…æ‹¬é€šè¿‡ç³»ç»Ÿç›¸å†Œä¸­â€œç¼–è¾‘â€åŠŸèƒ½å¤„ç†åçš„ä¿¡æ¯ä¹Ÿæ²¡æœ‰è¢«åŒ…å«å…¶ä¸­ï¼Œå› æ­¤éœ€è¦å±•ç¤ºâ€œç¼–è¾‘â€åŠŸèƒ½å¤„ç†åçš„ä¿¡æ¯ï¼Œä½¿ç”¨ fullResolutionImage å°±æ¯”è¾ƒä¸æ–¹ä¾¿ï¼Œå¦å¤– fullResolutionImage çš„æ‹‰å–ä¹Ÿä¼šæ¯”è¾ƒæ…¢ï¼Œåœ¨å¤šå¼  fullResolutionImage ä¸­åˆ‡æ¢æ—¶èƒ½æ˜æ˜¾æ„Ÿè§‰åˆ°å›¾ç‰‡çš„åŠ è½½è¿‡ç¨‹ã€‚å› æ­¤è¿™é‡Œå»ºè®®è·å–å›¾ç‰‡çš„ fullScreenImageï¼Œå®ƒæ˜¯å›¾ç‰‡çš„å…¨å±å›¾ç‰ˆæœ¬ï¼Œè¿™ä¸ªç‰ˆæœ¬åŒ…å«äº†é€šè¿‡ç³»ç»Ÿç›¸å†Œä¸­â€œç¼–è¾‘â€åŠŸèƒ½å¤„ç†åçš„ä¿¡æ¯ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€å¼ ç¼©ç•¥å›¾ï¼Œä½†å›¾ç‰‡çš„å¤±çœŸå¾ˆå°‘ï¼Œç¼ºç‚¹æ˜¯å›¾ç‰‡çš„å°ºå¯¸æ˜¯ä¸€ä¸ªé€‚åº”å±å¹•å¤§å°çš„ç‰ˆæœ¬ï¼Œå› æ­¤å±•ç¤ºå›¾ç‰‡æ—¶éœ€è¦ä½œå‡ºé¢å¤–å¤„ç†ï¼Œä½†è€ƒè™‘åˆ°åŠ è½½é€Ÿåº¦éå¸¸å¿«çš„åŸå› ï¼ˆåœ¨å¤šå¼ å›¾ç‰‡ä¹‹é—´åˆ‡æ¢æ„Ÿå—ä¸åˆ°å›¾ç‰‡åŠ è½½è€—æ—¶ï¼‰ï¼Œä»å»ºè®®ä½¿ç”¨ fullScreenImageã€‚</p>

<p>ç³»ç»Ÿç›¸å†Œçš„å¤„ç†è¿‡ç¨‹å¤§æ¦‚ä¹Ÿæ˜¯å¦‚ä¸Šï¼Œå¯ä»¥çœ‹å‡ºï¼Œåœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­å¹¶æ²¡æœ‰ä½¿ç”¨åˆ°å›¾ç‰‡çš„ fullResolutionImageï¼Œä»ç›¸å†Œåˆ—è¡¨å±•ç¤ºåˆ°æœ€ç»ˆæŸ¥çœ‹èµ„æºï¼Œéƒ½æ˜¯ä½¿ç”¨ç¼©ç•¥å›¾ï¼Œè¿™ä¹Ÿæ˜¯ iOS ç›¸å†ŒåŠ è½½å¿«çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚</p>

<h3>ä¸‰. AssetsLibrary çš„å‘ç‚¹</h3>

<p>ä½œä¸ºä¸€å¥—è€æ¡†æ¶ï¼ŒAssetsLibrary ä¸ä½†æœ‰å‘ï¼Œè€Œä¸”è¿˜ä¸å°‘ï¼Œé™¤äº†ä¸Šé¢æåˆ°çš„èµ„æºå¼‚æ­¥æ‹‰å–æ—¶éœ€è¦æ³¨æ„çš„äº‹é¡¹ï¼Œä¸‹é¢å‡ ç‚¹ä¹Ÿæ˜¯å€¼å¾—æ³¨æ„çš„ï¼š</p>

<h6>1. AssetsLibrary å®ä¾‹éœ€è¦å¼ºå¼•ç”¨</h6>

<p>å®ä¾‹ä¸€ä¸ª AssetsLibrary åï¼Œå¦‚ä¸Šé¢æ‰€ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ç³»åˆ—æšä¸¾æ–¹æ³•è·å–åˆ°éœ€è¦çš„ç›¸å†Œå’Œèµ„æºï¼Œå¹¶æŠŠå…¶å‚¨å­˜åˆ°æ•°ç»„ä¸­ï¼Œæ–¹ä¾¿ç”¨äºå±•ç¤ºã€‚ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬æŠŠè¿™äº›è·å–åˆ°çš„ç›¸å†Œå’Œèµ„æºå‚¨å­˜åˆ°æ•°ç»„æ—¶ï¼Œå®é™…ä¸Šåªæ˜¯åœ¨æ•°ç»„ä¸­å‚¨å­˜äº†è¿™äº›ç›¸å†Œå’Œèµ„æºåœ¨ AssetsLibrary ä¸­çš„å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰ï¼Œå› è€Œæ— è®ºæŠŠç›¸å†Œå’Œèµ„æºå‚¨å­˜æ•°ç»„åå¦‚ä½•åˆ©ç”¨è¿™äº›æ•°æ®ï¼Œéƒ½é¦–å…ˆéœ€è¦ç¡®ä¿ AssetsLibrary æ²¡æœ‰è¢« ARC é‡Šæ”¾ï¼Œå¦åˆ™æŠŠæ•°æ®ä»æ•°ç»„ä¸­å–å‡ºæ¥æ—¶ï¼Œä¼šå‘ç°å¯¹åº”çš„å¼•ç”¨æ•°æ®å·²ç»ä¸¢å¤±ï¼ˆå‚è§ä¸‹å›¾ï¼‰ã€‚è¿™ä¸€ç‚¹è¾ƒä¸ºå®¹æ˜“è¢«å¿½ç•¥ï¼Œå› æ­¤å»ºè®®åœ¨ä½¿ç”¨ AssetsLibrary çš„ viewController ä¸­ï¼ŒæŠŠ AssetsLibrary ä½œä¸ºä¸€ä¸ªå¼ºæŒæœ‰çš„ property æˆ–ç§æœ‰å˜é‡ï¼Œé¿å…åœ¨æšä¸¾å‡º AssetsLibrary ä¸­æ‰€éœ€è¦çš„æ•°æ®åï¼ŒAssetsLibrary å°±è¢« ARC é‡Šæ”¾äº†ã€‚</p>

<p>å¦‚ä¸‹å›¾ï¼šå®ä¾‹åŒ–ä¸€ä¸ª AssetsLibrary çš„å±€éƒ¨å˜é‡ï¼Œæšä¸¾æ‰€æœ‰ç›¸å†Œå¹¶å‚¨å­˜åœ¨åä¸º _albumsArray çš„æ•°ç»„ä¸­ï¼Œå±•ç¤ºç›¸å†Œæ—¶å†æ¬¡æŸ¥çœ‹æ•°ç»„ï¼Œå‘ç° ALAssetsGroup ä¸­çš„æ•°æ®å·²ç»ä¸¢å¤±ã€‚</p>

<pre><code>ALAssetsLibrary_release
</code></pre>

<h6>2. AssetsLibrary éµå¾ªå†™å…¥ä¼˜å…ˆåŸåˆ™</h6>

<p>å†™å…¥ä¼˜å…ˆä¹Ÿå°±æ˜¯èªªï¼Œåœ¨åˆ©ç”¨ AssetsLibrary è¯»å–èµ„æºçš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä»»ä½•å…¶å®ƒçš„è¿›ç¨‹ï¼ˆä¸ä¸€å®šæ˜¯åŒä¸€ä¸ª Appï¼‰åœ¨ä¿å­˜èµ„æºæ—¶ï¼Œå°±ä¼šæ”¶åˆ° ALAssetsLibraryChangedNotificationï¼Œè®©ç”¨æˆ·è‡ªè¡Œä¸­æ–­è¯»å–æ“ä½œã€‚æœ€å¸¸è§çš„å°±æ˜¯è¯»å– fullResolutionImage æ—¶ï¼Œç”¨è¿›ç¨‹åœ¨å†™å…¥ï¼Œç”±äºè¯»å– fullResolutionImage è€—æ—¶è¾ƒé•¿ï¼Œå¾ˆå®¹æ˜“å°±ä¼š exceptionã€‚</p>

<h6>3. å¼€å¯ Photo Stream å®¹æ˜“å¯¼è‡´ exception</h6>

<p>æœ¬è´¨ä¸Šï¼Œè¿™è·Ÿä¸Šé¢çš„ AssetsLibrary éµå¾ªå†™å…¥ä¼˜å…ˆåŸåˆ™æ˜¯åŒä¸€ä¸ªé—®é¢˜ã€‚å¦‚æœç”¨æˆ·å¼€å¯äº†å…±äº«ç…§ç‰‡æµï¼ˆPhoto Streamï¼‰ï¼Œå…±äº«ç…§ç‰‡æµä¼šä»¥ mstreamd çš„æ–¹å¼â€œå·å·â€æ‰§è¡Œï¼Œå½“æœ‰äººæŠŠç›¸ç‰‡å†™å…¥ Camera Roll æ—¶ï¼Œå®ƒå°±ä¼šè‡ªåŠ¨ä¿å­˜åˆ° Photo Stream Album ä¸­ï¼Œå¦‚æœç”¨æˆ·åˆšå¥½åœ¨è¯»å–ï¼Œé‚£å°±è·Ÿä¸Šé¢è¯´çš„ä¸€æ ·äº§ç”Ÿ exception äº†ã€‚ç”±äºå…±äº«ç…§ç‰‡æµæ˜¯ç”¨æˆ·å†³å®šæ˜¯å¦è¦å¼€å¯çš„ï¼Œæ‰€ä»¥å¼€å‘è€…æ— æ³•æ”¹å˜ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ¥å£åœ¨éœ€è¦ä¿æŠ¤çš„æ—¶åˆ»å…³é—­ç›‘å¬å…±äº«ç…§ç‰‡æµäº§ç”Ÿçš„é¢‘ç¹é€šçŸ¥ä¿¡æ¯ã€‚</p>

<p>[ALAssetsLibrary disableSharedPhotoStreamsSupport];</p>

<h3>å››. PhotoKit ç®€ä»‹</h3>

<p>PhotoKit æ˜¯ä¸€å¥—æ¯” AssetsLibrary æ›´å®Œæ•´ä¹Ÿæ›´é«˜æ•ˆçš„åº“ï¼Œå¯¹èµ„æºçš„å¤„ç†è·Ÿ AssetsLibrary ä¹Ÿæœ‰å¾ˆå¤§çš„ä¸åŒã€‚</p>

<p>é¦–å…ˆç®€å•ä»‹ç»å‡ ä¸ªæ¦‚å¿µï¼š</p>

<ul>
<li>PHAsset: ä»£è¡¨ç…§ç‰‡åº“ä¸­çš„ä¸€ä¸ªèµ„æºï¼Œè·Ÿ ALAsset ç±»ä¼¼ï¼Œé€šè¿‡ PHAsset å¯ä»¥è·å–å’Œä¿å­˜èµ„æº</li>
<li>PHFetchOptions: è·å–èµ„æºæ—¶çš„å‚æ•°ï¼Œå¯ä»¥ä¼  nilï¼Œå³ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å€¼</li>
<li>PHFetchResult: è¡¨ç¤ºä¸€ç³»åˆ—çš„èµ„æºé›†åˆï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å†Œçš„é›†åˆ</li>
<li>PHAssetCollection: è¡¨ç¤ºä¸€ä¸ªç›¸å†Œæˆ–è€…ä¸€ä¸ªæ—¶åˆ»ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªã€Œæ™ºèƒ½ç›¸å†Œï¼ˆç³»ç»Ÿæä¾›çš„ç‰¹å®šçš„ä¸€ç³»åˆ—ç›¸å†Œï¼Œä¾‹å¦‚ï¼šæœ€è¿‘åˆ é™¤ï¼Œè§†é¢‘åˆ—è¡¨ï¼Œæ”¶è—ç­‰ç­‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰</li>
<li>PHImageManager: ç”¨äºå¤„ç†èµ„æºçš„åŠ è½½ï¼ŒåŠ è½½å›¾ç‰‡çš„è¿‡ç¨‹å¸¦æœ‰ç¼“å­˜å¤„ç†ï¼Œå¯ä»¥é€šè¿‡ä¼ å…¥ä¸€ä¸ª PHImageRequestOptions æ§åˆ¶èµ„æºçš„è¾“å‡ºå°ºå¯¸ç­‰è§„æ ¼</li>
<li>PHImageRequestOptions: å¦‚ä¸Šé¢æ‰€è¯´ï¼Œæ§åˆ¶åŠ è½½å›¾ç‰‡æ—¶çš„ä¸€ç³»åˆ—å‚æ•°</li>
</ul>


<p>ä¸‹å›¾ä¸­ UITableView çš„ç¬¬äºŒä¸ª section å°±æ˜¯ PhotoKit æ‰€åˆ—å‡ºçš„æ‰€æœ‰æ™ºèƒ½ç›¸å†Œ</p>

<p>photoKit001.png</p>

<p>å†åˆ—å‡ºå‡ ä¸ªä»£ç ç‰‡æ®µï¼Œå±•ç¤ºå¦‚ä½•è·å–ç›¸å†Œä»¥åŠæŸä¸ªç›¸å†Œä¸‹èµ„æºçš„ä»£ç ï¼š</p>

<pre><code>// åˆ—å‡ºæ‰€æœ‰ç›¸å†Œæ™ºèƒ½ç›¸å†Œ
PHFetchResult *smartAlbums = [PHAssetCollection fetchAssetCollectionsWithType:PHAssetCollectionTypeSmartAlbum subtype:PHAssetCollectionSubtypeAlbumRegular options:nil];

// åˆ—å‡ºæ‰€æœ‰ç”¨æˆ·åˆ›å»ºçš„ç›¸å†Œ
PHFetchResult *topLevelUserCollections = [PHCollectionList fetchTopLevelUserCollectionsWithOptions:nil];

// è·å–æ‰€æœ‰èµ„æºçš„é›†åˆï¼Œå¹¶æŒ‰èµ„æºçš„åˆ›å»ºæ—¶é—´æ’åº
PHFetchOptions *options = [[PHFetchOptions alloc] init];
options.sortDescriptors = @[[NSSortDescriptor sortDescriptorWithKey:@"creationDate" ascending:YES]];
PHFetchResult *assetsFetchResults = [PHAsset fetchAssetsWithOptions:options];

// åœ¨èµ„æºçš„é›†åˆä¸­è·å–ç¬¬ä¸€ä¸ªé›†åˆï¼Œå¹¶è·å–å…¶ä¸­çš„å›¾ç‰‡
PHCachingImageManager *imageManager = [[PHCachingImageManager alloc] init];
PHAsset *asset = assetsFetchResults[0];
[imageManager requestImageForAsset:asset
                         targetSize:SomeSize
                        contentMode:PHImageContentModeAspectFill
                            options:nil
                      resultHandler:^(UIImage *result, NSDictionary *info) {

                          // å¾—åˆ°ä¸€å¼  UIImageï¼Œå±•ç¤ºåˆ°ç•Œé¢ä¸Š

                      }];
</code></pre>

<p>ç»“åˆä¸Šé¢å‡ ä¸ªä»£ç ç‰‡æ®µä¸Šçœ‹ï¼ŒPhotoKit ç›¸å¯¹ AssetsLibrary ä¸»è¦æœ‰ä¸‰ç‚¹é‡è¦çš„æ”¹è¿›ï¼š</p>

<ul>
<li>ä» AssetsLibrary ä¸­è·å–æ•°æ®ï¼Œæ— è®ºæ˜¯ç›¸å†Œï¼Œè¿˜æ˜¯èµ„æºï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯ä½¿ç”¨æšä¸¾çš„æ–¹å¼ï¼Œéå†ç…§ç‰‡åº“å–å¾—ç›¸åº”çš„æ•°æ®ã€‚è€Œ PhotoKit åˆ™æ˜¯é€šè¿‡ä¼ å…¥å‚æ•°ï¼Œç›´æ¥è·å–ç›¸åº”çš„æ•°æ®ï¼Œå› è€Œæ•ˆç‡ä¼šæé«˜ä¸å°‘ã€‚</li>
<li>åœ¨ AssetsLibrary ä¸­ï¼Œç›¸å†Œå’Œèµ„æºæ˜¯å¯¹åº”ä¸åŒçš„å¯¹è±¡ï¼ˆALAssetGroup å’Œ ALAssetï¼‰ï¼Œå› æ­¤è·å–ç›¸å†Œå’Œè·å–èµ„æºæ˜¯ä¸¤ä¸ªå®Œå…¨æ²¡æœ‰å…³è”çš„æ¥å£ã€‚è€Œ PhotoKit ä¸­åˆ™æœ‰ PHFetchResult è¿™ä¸ªå¯ä»¥ç»Ÿä¸€å‚¨å­˜ç›¸å†Œæˆ–èµ„æºçš„å¯¹è±¡ï¼Œå› æ­¤å¤„ç†ç›¸å†Œå’Œèµ„æºæ—¶ä¹Ÿä¼šæ¯”è¾ƒæ–¹ä¾¿ã€‚</li>
<li>PhotoKit è¿”å›èµ„æºç»“æœæ—¶ï¼ŒåŒæ—¶è¿”å›äº†èµ„æºçš„å…ƒæ•°æ®ï¼Œè·å–å…ƒæ•°æ®åœ¨ AssetsLibrary ä¸­æ˜¯å¾ˆéš¾åŠåˆ°çš„ä¸€ä»¶äº‹ã€‚åŒæ—¶é€šè¿‡ PHAssetï¼Œå¼€å‘è€…è¿˜èƒ½ç›´æ¥è·å–èµ„æºæ˜¯å¦è¢«æ”¶è—ï¼ˆfavoriteï¼‰å’Œéšè—ï¼ˆhiddenï¼‰ï¼Œæ‹æ‘„å›¾ç‰‡æ—¶æ˜¯å¦å¼€å¯äº† HDR æˆ–å…¨æ™¯æ¨¡å¼ï¼Œç”šè‡³èƒ½é€šè¿‡ä¸€å¼ è¿æ‹å›¾ç‰‡è·å–åˆ°è¿æ‹å›¾ç‰‡ä¸­çš„å…¶ä»–å›¾ç‰‡ã€‚è¿™ä¹Ÿæ˜¯æ–‡ç« å¼€å¤´è¯´çš„ï¼ŒPhotoKit èƒ½æ›´å¥½åœ°ä¸è®¾å¤‡ç…§ç‰‡åº“æ¥å…¥çš„ä¸€ä¸ªé‡è¦å› ç´ ã€‚</li>
</ul>

</div>
  
  




| <a href="/blog/2015/12/15/xiang-ce-shen-jiu/#comments">æ›´å¤šè¯„è®º</a>

    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/15/ios9-corespotlight/">iOS9-CoreSpotlight</a></h1>
    
    
      <p class="meta">
        








 <time if="if" updated="updated" data-updated="true" endif="endif" itemprop="datePublished dateCreated"> ordinal </time> 
        
      </p>
    
  </header>


  <div class="entry-content"><p>iOS9 Day-by-Dayæ˜¯ä½œè€…Chris Grantæ–°å¼€çš„ä¸€ä¸ªç³»åˆ—åšå®¢ï¼Œè¦†ç›–äº†iOSå¼€å‘è€…å¿…é¡»çŸ¥é“çš„å…³äºiOS 9çš„æ–°æŠ€æœ¯ä¸APIï¼Œå¹¶ä¸”è¿˜è¿›è¡Œäº†å®é™…æ“ä½œæ¼”ç»ƒï¼Œæ¯ç¯‡æ–‡ç« ä¸­ç›¸å…³çš„ä»£ç Chriséƒ½ä¼šå°†å…¶æ‰˜ç®¡åˆ°GitHubã€‚</p>

<p>åœ¨ç¬¬ä¸€ç¯‡æ–‡ç« ä¸­ï¼ŒChrisä»‹ç»äº†iOS 9çš„ä¸‰ç§æœç´¢APIï¼Œåˆ†åˆ«ä¸ºï¼š</p>

<ul>
<li><p>NSUserActivityï¼Œç´¢å¼•ç”¨æˆ·æ´»åŠ¨ä»¥åŠAppçš„çŠ¶æ€ã€‚</p></li>
<li><p>Web Markupï¼ŒWebå†…å®¹å¯è¢«æœç´¢ã€‚</p></li>
<li><p>iOS 9æ–°å¢çš„CoreSpotlight.frameworkæä¾›äº†å¢ã€åˆ ã€æ”¹ã€æŸ¥ç­‰æœç´¢APIï¼Œå¯ä»¥ç´¢å¼•Appçš„å†…å®¹ã€‚
è¯‘æ–‡å¦‚ä¸‹ï¼š</p></li>
</ul>


<p>åœ¨è‹¹æœå‘å¸ƒiOS 9ä¹‹å‰ï¼Œä½ åªèƒ½åœ¨Spotlightä¸­è¾“å…¥åç§°æ¥å¯»æ‰¾Appï¼Œè€Œéšç€è‹¹æœå‘å¸ƒäº†ä¸€å¥—å…¨æ–°çš„iOS 9 Search APIsä¹‹åï¼Œå¼€å‘è€…ä¸ä½†å¯ä»¥è‡ªç”±é€‰æ‹©Appçš„éƒ¨åˆ†å†…å®¹ç¼–å…¥ç´¢å¼•ï¼Œè¿˜èƒ½å¯¹Spotlightä¸Šçš„æœç´¢ç»“æœä»¥åŠç‚¹å‡»ä¸åŒç»“æœæ˜¾ç¤ºçš„å†…å®¹è¿›è¡Œè®¾ç½®ã€‚</p>

<h3>ä¸‰å¤§API</h3>

<h5>NSUserActivity</h5>

<ul>
<li><p>NSUserActivityæ˜¯iOS 8ä¸“ä¸ºHandoffæ¨å‡ºçš„APIï¼ŒiOS 9ä¹‹åå¾—åˆ°äº†æå‡ã€‚ç°åœ¨ç”¨æˆ·åªéœ€æä¾›å…ƒæ•°æ®ï¼ˆmetadataï¼‰å°±èƒ½æœç´¢ä¸åŒçš„activityï¼ˆæ´»åŠ¨ï¼‰äº†ã€‚</p></li>
<li><p>æ¢è¨€ä¹‹ï¼ŒSpotlightå¯ä»¥å°†activityç¼–å…¥ç´¢å¼•ï¼Œè€ŒNSUserActivityå°±å¥½æ¯”ç½‘é¡µæµè§ˆå™¨çš„å†å²å †æ ˆï¼ˆhistory stackï¼‰ï¼Œä½¿ç”¨æˆ·èƒ½åœ¨Spotlightä¸Šæœåˆ°æœ€è¿‘çš„æ´»åŠ¨ã€‚</p></li>
</ul>


<h5>Web Markup</h5>

<ul>
<li><p>Web Markupåœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºAppçš„å†…å®¹å¹¶ç¼–å…¥Spotlightç´¢å¼•ï¼Œå¦‚æ­¤ä¸€æ¥å³ä¾¿æ²¡æœ‰å®‰è£…æŸä¸ªAppï¼Œè‹¹æœçš„ç´¢å¼•å™¨ä¹Ÿèƒ½åœ¨ç½‘é¡µä¸Šæœç´¢ç‰¹åˆ«çš„æ ‡è®°ï¼ˆmarkupï¼‰ï¼Œåœ¨Safariæˆ–Spotlightä¸Šæ˜¾ç¤ºæœç´¢ç»“æœã€‚</p></li>
<li><p>æ˜¾ç¤ºæœªå®‰è£…Appçš„æœç´¢ç»“æœæ˜¯ä¸€å¤§äº®ç‚¹ï¼Œæœ‰æœ›ä¸ºå¼€å‘è€…å¸¦æ¥æ›´å¤šæ½œåœ¨ç”¨æˆ·ã€‚å…¬å¸ƒåœ¨æœç´¢APIä¸Šçš„Appæ·±é“¾æ¥åˆ™å‚¨å­˜åœ¨è‹¹æœçš„cloud indexä¸­ã€‚æ›´å¤šè¯¦æƒ…ï¼Œè¯·å‚é˜…è‹¹æœçš„â€œWeb Markupä½¿ç”¨æŒ‡å—ï¼ˆUse Web Markup to Make App Content Searchableï¼‰â€ã€‚</p></li>
</ul>


<h5>CoreSpotlight</h5>

<ul>
<li>NSUserActivityå¸®åŠ©å‚¨å­˜ç”¨æˆ·å†å²ï¼Œè€Œå…¨æ–°çš„Core Spotlightåˆ™èƒ½å°†Appä¸­çš„ä»»ä½•å†…å®¹ç¼–å…¥ç´¢å¼•ï¼Œå®è´¨æ˜¯åœ¨ç”¨æˆ·è®¾å¤‡ä¸Šæä¾›åŸºç¡€çš„Core Spotlightç´¢å¼•æ¸ é“ï¼Œæ»¡è¶³ç”¨æˆ·å¦å¤–ä¸€ä¸ªéœ€æ±‚ã€‚</li>
</ul>


<hr />

<p>è‡³äºå‰é¢ä¸¤ä¸ªè¿™é‡Œå°±ä¸è¿‡å¤šä»‹ç»ï¼Œè¿™é‡Œåªä»‹ç»iOS9ç›¸å…³æ–°ç‰¹æ€§ï¼Œæ‰€ä»¥å°±æ¥è¯´æˆ‘ä»¬åº”è¯¥æ€ä¹ˆå»å­¦ä¹ å¹¶ä½¿ç”¨CoreSpotlightã€‚</p>

<blockquote><p>å¯¹äºCoreSpotlightå¯ä»¥ç±»æ¯”NSUserDefaultï¼Œéƒ½æ˜¯å…¨å±€çš„å­˜å‚¨ç©ºé—´ã€‚ä¸åŒçš„æ˜¯CoreSpotlightæ˜¯ç³»ç»Ÿçš„å­˜å‚¨ç©ºé—´ï¼Œæ¯ä¸ªAppéƒ½èƒ½è®¿é—®ï¼ˆå¯èƒ½è¿™ä¸ªè®¿é—®æœ‰é™åˆ¶ï¼Œç›®å‰è¿˜æ²¡æœ‰æ—¶é—´ç ”ç©¶ï¼‰ï¼Œä½†æ˜¯NSUserDefaultæ˜¯æ¯ä¸ªAppç§æœ‰çš„ã€‚å¦å¤–å¯¹äºå­˜å‚¨çš„å†…å®¹CoreSpotlightå­˜å‚¨çš„æ˜¯itemï¼Œå³CSSearchableItemï¼Œè€Œæ¯ä¸ªCSSearchableItemåˆæœ‰è®¸å¤šå±æ€§ï¼Œè¿™äº›å±æ€§æ˜¯é€šè¿‡CSSearchableItemAttributeSetè¿›è¡Œè®¾ç½®ã€‚å…·ä½“éƒ½æœ‰ç¥é©¬å±æ€§ï¼Œå¤§å®¶è‡ªå·±å»çœ‹å¤´æ–‡ä»¶å§ã€‚</p></blockquote>

<p> ä¸‹é¢å†™ä¸€ä¸‹ç®€å•å¾—æ­¥éª¤ï¼š</p>

<ul>
<li><p>1 å¼•å…¥CoreSpotlight.framework</p></li>
<li><p>2 åˆ›å»ºCSSearchableItemAttributeSetã€CSSearchableItem</p></li>
<li><p>3 è°ƒç”¨CSSearchableIndex.defaultSearchableIndex()çš„ç›¸å…³çš„æ–¹æ³•å¯¹itemè¿›è¡Œæ“ä½œã€‚</p></li>
</ul>


<blockquote><p>ç”±äºæœ¬äººæ°´å¹³æœ‰é™ï¼Œåªæ‰¾åˆ°äº†æ·»åŠ ã€åˆ é™¤itmeçš„æ“ä½œï¼Œå¹¶æ²¡æœ‰æ‰¾åˆ°æ›´æ–°itmeçš„æ–¹æ³•ï¼Œå¦‚æœè°æ¸…æ¥šäº†ï¼Œéº»çƒ¦å‘ŠçŸ¥ä¸€ä¸‹ã€‚</p></blockquote>

<p> ä¸‹é¢è´´å‡ºæœ¬äººæµ‹è¯•çš„ä¸€ä¸ªç®€å•ä¾‹å­çš„ä»£ç ï¼š
    import UIKit</p>

<pre><code>@UIApplicationMain
class AppDelegate: UIResponder, UIApplicationDelegate {

    var window: UIWindow?

    // ä»æœç´¢ç»“æœç‚¹å‡»çš„æ—¶å€™å°†ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•
    func application(application: UIApplication, continueUserActivity userActivity: NSUserActivity, restorationHandler: ([AnyObject]?) -&gt; Void) -&gt; Bool {
        // è¿™é‡Œèƒ½å¤Ÿè·å–åˆ°ç‚¹å‡»æœç´¢ç»“æœçš„identifier ä½†æ˜¯ä¸æ¸…æ¥šæ˜¯ä¸æ˜¯åº”è¯¥è¿™æ ·åš
        let identifier = userActivity.userInfo?["kCSSearchableItemActivityIdentifier"]
        print("continueUserActivity \(identifier!)")
        return true
    }


}
</code></pre>

<hr />

<pre><code>import UIKit
import CoreSpotlight

class ViewController: UIViewController {
    let identifier = "com.mxy.test.identifier"
    var index = 1 // ç”¨äºæ ‡è¯†æ·»åŠ çš„itme

    override func viewDidLoad() {
        super.viewDidLoad()
        CSSearchableIndex.defaultSearchableIndex().deleteAllSearchableItemsWithCompletionHandler { (error) -&gt; Void in

        }
    }


    @IBAction func insertItem() {
        let attributeSet = CSSearchableItemAttributeSet(itemContentType: "com.mxy.test")
        attributeSet.title = "å­Ÿç¥¥æœˆ æµ‹è¯• mxy \(index)"
        attributeSet.contentDescription = "this è¿™é‡Œå†™ç‚¹ä»€ä¹ˆå¥½å‘¢ mxy \(index)"
        // è®¾ç½®æœç´¢ç»“æœçš„ç¼©ç•¥å›¾ ä¸çŸ¥é“ ä¸ºä½•å°±æ˜¯ä¸ç”Ÿæ•ˆ æˆ‘ç»™åº”ç”¨ç¨‹åºæ·»åŠ äº†iconåï¼Œæœç´¢ç»“æœé‚£é‡Œæ˜¾ç¤ºçš„æ˜¯icon
        attributeSet.thumbnailURL = NSURL(fileURLWithPath: NSBundle.mainBundle().pathForResource("aa", ofType: "png")!)
        attributeSet.thumbnailData = UIImagePNGRepresentation(UIImage(named: "aa")!)
        let item = CSSearchableItem(uniqueIdentifier: "\(identifier) \(index)", domainIdentifier: "mxy", attributeSet: attributeSet)
        let tmpItmes: [CSSearchableItem] = [item]
        CSSearchableIndex.defaultSearchableIndex().indexSearchableItems(tmpItmes) { (error) -&gt; Void in

        }
        index++
    }

    // è²Œä¼¼æ˜¯æ²¡æœ‰æ›´æ–°æ“ä½œ æ‰€ä»¥åªå¥½æ ¹æ®identifierå…ˆåˆ é™¤ï¼Œä¿®æ”¹åå†æ·»åŠ è¿›å»ã€‚
    @IBAction func updateItem() {
        if index &gt; 0 {
            let tmpIdentifier = "\(identifier) \(index - 1)"
            CSSearchableIndex.defaultSearchableIndex().deleteSearchableItemsWithIdentifiers([tmpIdentifier], completionHandler: { (error) -&gt; Void in

            })

            let attributeSet = CSSearchableItemAttributeSet(itemContentType: "com.mxy.test")
            attributeSet.title = "å­Ÿç¥¥æœˆ æµ‹è¯• mxy \(index - 1)"
            attributeSet.contentDescription = "this è¿™é‡Œå†™ç‚¹æ›´æ–°å mxy \(index - 1)"
            let item = CSSearchableItem(uniqueIdentifier: tmpIdentifier, domainIdentifier: "mxy", attributeSet: attributeSet)
            let tmpItmes: [CSSearchableItem] = [item]
            CSSearchableIndex.defaultSearchableIndex().indexSearchableItems(tmpItmes) { (error) -&gt; Void in

            }

        }

    }

    @IBAction func deleteItem() {
        let identifiers = ["\(identifier) \(index)"]
        index--
        if index &lt;= 0 {
            return
        }
        CSSearchableIndex.defaultSearchableIndex().deleteSearchableItemsWithIdentifiers(identifiers) { (error) -&gt; Void in

        }
    }

}
</code></pre>

<p>åœ¨storyboardä¸­åªæ˜¯æ·»åŠ äº†ä¸‰ä¸ªæŒ‰é’®ï¼Œå…³è”å¯¹åº”çš„æ“ä½œã€‚ä¸‹é¢æ˜¯æ¼”ç¤ºï¼Œç‚¹å‡»æ›´æ–°çš„æ—¶å€™ä¼šæ›´æ–°æœ€åä¸€ä¸ªitemçš„å†…å®¹ï¼š</p>

<p><img src="/images/Spotlight001.gif" title="Caption" ></p>

<p>ä¾‹å­ä»£ç çš„ä¸‹è½½åœ°å€ï¼š<a href="http://download.csdn.net/detail/mengxiangyue/8827141">http://download.csdn.net/detail/mengxiangyue/8827141</a></p>
</div>
  
  




| <a href="/blog/2015/12/15/ios9-corespotlight/#comments">æ›´å¤šè¯„è®º</a>

    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/15/kan-wo-zen-yao-na-dao-she-bei-xin-xi/">çœ‹æˆ‘æ€ä¹ˆæ‹¿åˆ°è®¾å¤‡ä¿¡æ¯</a></h1>
    
    
      <p class="meta">
        








 <time if="if" updated="updated" data-updated="true" endif="endif" itemprop="datePublished dateCreated"> ordinal </time> 
        
      </p>
    
  </header>


  <div class="entry-content"><h4>è®¾å¤‡å”¯ä¸€æ ‡è¯†ç¬¦ï¼š</h4>

<ul>
<li>1.å·²ç¦ç”¨-[UIDevice uniqueIdentifier]</li>
</ul>


<p>ã€€ã€€è‹¹æœæ€»æ˜¯æŠŠç”¨æˆ·çš„éšç§çœ‹çš„å¾ˆé‡è¦ã€‚-[UIDevice uniqueIdentifier]åœ¨iOS5å®é™…åœ¨iOS5çš„æ—¶å€™å·²ç»è¢«é—å¼ƒäº†ï¼Œä½†æ˜¯iOS7ä¸­å·²ç»å®Œå…¨çš„ç¦ç”¨äº†å®ƒã€‚Xcode5ç”šè‡³ä¸ä¼šå…è®¸ä½ ç¼–è¯‘åŒ…å«äº†æŒ‡å¼•åˆ°-[UIDevice uniqueIdentifier]çš„appã€‚æ­¤å¤–ï¼ŒiOS7ä¹‹å‰çš„ä½¿ç”¨äº†-[UIDevice uniqueIdentifier] çš„appå¦‚æœåœ¨iOS7ä¸Šè¿è¡Œï¼Œå®ƒä¸ä¼šè¿”å›è®¾å¤‡çš„UUIDï¼Œè€Œæ˜¯ä¼šè¿”å›ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œä»¥FFFFFFFFå¼€å¤´ï¼Œè·Ÿç€-[UIDevice identifierForVendor]çš„åå…­è¿›åˆ¶å€¼ã€‚</p>

<ul>
<li>2.MACåœ°å€ä¸èƒ½å†ç”¨æ¥è®¾åˆ«è®¾å¤‡</li>
</ul>


<p>ã€€ã€€è¿˜æœ‰ä¸€ä¸ªç”ŸæˆiOSè®¾å¤‡å”¯ä¸€æ ‡ç¤ºç¬¦çš„æ–¹æ³•æ˜¯ä½¿ç”¨iOSè®¾å¤‡çš„Media Access Controlï¼ˆMACï¼‰åœ°å€ã€‚ä¸€ä¸ªMACåœ°å€æ˜¯ä¸€ä¸ªå”¯ä¸€çš„å·ç ï¼Œå®ƒæ˜¯ç‰©ç†ç½‘ç»œå±‚çº§æ–¹é¢åˆ†é…ç»™ç½‘ç»œé€‚é…å™¨çš„ã€‚è¿™ä¸ªåœ°å€è‹¹æœè¿˜æœ‰å…¶ä»–çš„åå­—ï¼Œæ¯”å¦‚è¯´æ˜¯ç¡¬ä»¶åœ°å€ï¼ˆHardware Address)æˆ–æ˜¯Wifiåœ°å€ï¼Œéƒ½æ˜¯æŒ‡åŒæ ·çš„ä¸œè¥¿ã€‚</p>

<p>ã€€ã€€æœ‰å¾ˆå¤šå·¥ç¨‹å’Œæ¡†æ¶éƒ½ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ¥ç”Ÿæˆå”¯ä¸€çš„è®¾å¤‡IDã€‚æ¯”å¦‚è¯´ODINã€‚ç„¶è€Œï¼Œè‹¹æœå¹¶ä¸å¸Œæœ›æœ‰äººé€šè¿‡MACåœ°å€æ¥åˆ†è¾¨ç”¨æˆ·ï¼Œæ‰€ä»¥å¦‚æœä½ åœ¨iOS7ç³»ç»Ÿä¸ŠæŸ¥è¯¢MACåœ°å€ï¼Œå®ƒç°åœ¨åªä¼šè¿”å›02:00:00:00:00:00ã€‚</p>

<p>ç°åœ¨è‹¹æœæ˜ç¡®çš„è¡¨æ˜ä½ åº”è¯¥ä½¿ç”¨-[UIDevice identifierForVendor]æˆ–æ˜¯-[ASIdentifierManager advertisingIdentifier]æ¥ä½œä¸ºä½ æ¡†æ¶å’Œåº”ç”¨çš„å”¯ä¸€æ ‡ç¤ºç¬¦ã€‚å¦ç™½çš„æ¥è¯´ï¼Œåº”å¯¹è¿™äº›å˜åŒ–ä¹Ÿä¸æ˜¯é‚£ä¹ˆçš„éš¾ï¼Œè§ä»¥ä¸‹ä»£ç ç‰‡æ®µï¼š</p>

<pre><code>NSString *identifierForVendor = [[UIDevice currentDevice].identifierForVendor UUIDString]; 
NSString *identifierForAdvertising = [[ASIdentifierManager sharedManager].advertisingIdentifier UUIDString]; 
</code></pre>

<p>æ¯ç§æ–¹æ³•éƒ½é€‚é…ä¸€ç§ç‰¹åˆ«çš„ç”¨æ³•ï¼š</p>

<p>ã€€ã€€identifierForVendorå¯¹ä¾›åº”å•†æ¥è¯´æ˜¯å”¯ä¸€çš„ä¸€ä¸ªå€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç”±åŒä¸€ä¸ªå…¬å¸å‘è¡Œçš„çš„appåœ¨ç›¸åŒçš„è®¾å¤‡ä¸Šè¿è¡Œçš„æ—¶å€™éƒ½ä¼šæœ‰è¿™ä¸ªç›¸åŒçš„æ ‡è¯†ç¬¦ã€‚ç„¶è€Œï¼Œå¦‚æœç”¨æˆ·åˆ é™¤äº†è¿™ä¸ªä¾›åº”å•†çš„appç„¶åå†é‡æ–°å®‰è£…çš„è¯ï¼Œè¿™ä¸ªæ ‡è¯†ç¬¦å°±ä¼šä¸ä¸€è‡´ã€‚</p>

<p>ã€€ã€€advertisingIdentifierä¼šè¿”å›ç»™åœ¨è¿™ä¸ªè®¾å¤‡ä¸Šæ‰€æœ‰è½¯ä»¶ä¾›åº”å•†ç›¸åŒçš„ ä¸€ä¸ªå€¼ï¼Œæ‰€ä»¥åªèƒ½åœ¨å¹¿å‘Šçš„æ—¶å€™ä½¿ç”¨ã€‚è¿™ä¸ªå€¼ä¼šå› ä¸ºå¾ˆå¤šæƒ…å†µè€Œæœ‰æ‰€å˜åŒ–ï¼Œæ¯”å¦‚è¯´ç”¨æˆ·åˆå§‹åŒ–è®¾å¤‡çš„æ—¶å€™ä¾¿ä¼šæ”¹å˜ã€‚</p>

<pre><code>-(void) setKeyChainValue
{
    KeychainItemWrapper *keyChainItem=[[KeychainItemWrapper alloc]initWithIdentifier:@"TestUUID" accessGroup:@"XXXXXX.h.HelloWorld"];
    NSString *strUUID = [keyChainItem objectForKey:(id)kSecValueData];
    if (strUUID==nil||[strUUID isEqualToString:@""])
    {
        [keyChainItem setObject:[self gen_uuid] forKey:(id)kSecValueData];
    }
    [keyChainItem release];

}

-(NSString *) gen_uuid
{
    CFUUIDRef uuid_ref=CFUUIDCreate(nil);
    CFStringRef uuid_string_ref=CFUUIDCreateString(nil, uuid_ref);
    CFRelease(uuid_ref);
    NSString *uuid=[NSString stringWithString:uuid_string_ref];
    CFRelease(uuid_string_ref);
    return uuid;
}  
</code></pre>

<h4>è·å–ç”¨æˆ·ä¿¡æ¯</h4>

<pre><code>-(void)getDeviceInfo{
    UIDevice *curDevice = [UIDevice currentDevice];

    iPhoneInfoModel *model = [[iPhoneInfoModel alloc] init];

    // ç”¨æˆ·åç§°
    NSString *deviceInfo = [NSString stringWithFormat:@"%@", curDevice.name];
    model.key = @"åç§°:";
    model.value = deviceInfo;
    [self.infoArray addObject:model];

    // ç³»ç»Ÿä¿¡æ¯
    iPhoneInfoModel *systemModel = [[iPhoneInfoModel alloc] init];
    NSString *systemInfo = [NSString stringWithFormat:@"%@(%@)", curDevice.systemName, curDevice.systemVersion];
    systemModel.key = @"ç³»ç»Ÿ:";
    systemModel.value = systemInfo;
    [self.infoArray addObject:systemModel];

    // UUIDè·å–
    iPhoneInfoModel *uuidModel = [[iPhoneInfoModel alloc] init];
    NSString *uuidInfo = [NSString stringWithFormat:@"%@", [[curDevice identifierForVendor] UUIDString]];
    uuidModel.key = @"UUID:";
    uuidModel.value = uuidInfo;
    [self.infoArray addObject:uuidModel];
}
</code></pre>

<h4>è·å–å±å¹•ä¿¡æ¯</h4>

<pre><code>-(void)getScreenInfo{
    NSInteger kHeight = (NSInteger)kScreenHeight;
    NSString *screenSize = @"";
    NSInteger abs = 1;

    switch (kHeight) {
        case 480:
            screenSize = @"3.5å¯¸";
            break;
        case 568:
            screenSize = @"4.0å¯¸";
            abs = 2;
            break;
        case 667:
            screenSize = @"4.7å¯¸";
            abs = 2;
            break;
        case 736:
            screenSize = @"5.5å¯¸";
            abs = 2;
            break;
        default:
            break;
    }

    NSString *screenInfo = [NSString stringWithFormat:@"%@(%.0f*%.0f)", screenSize, kScreenWidth * abs, kScreenHeight * abs];
    iPhoneInfoModel *model = [[iPhoneInfoModel alloc] init];
    model.key = @"å±å¹•:";
    model.value = screenInfo;
    [self.infoArray addObject:model];
}
</code></pre>

<h4>è·å–è¿è¥å•†ä¿¡æ¯</h4>

<pre><code>-(void)getNetInfo{
    CTTelephonyNetworkInfo *info = [[CTTelephonyNetworkInfo alloc] init];

    // è¿è¥å•†
    CTCarrier *carriver = info.subscriberCellularProvider;
    NSString *carriverName = [carriver carrierName];

    NSString *netInfo = [NSString stringWithFormat:@"%@", carriverName];
    iPhoneInfoModel *model = [[iPhoneInfoModel alloc] init];
    model.key = @"è¿è¥å•†:";
    model.value = netInfo;
    [self.infoArray addObject:model];
}
</code></pre>

<h4>è·å–ç”µæ± ä¿¡æ¯</h4>

<pre><code>-(void)getBetaryInfo{
    UIDevice *curDevice = [UIDevice currentDevice];
    CGFloat batteryLevel = curDevice.batteryLevel * 100;
    NSString *batteryState = @"";
    if (curDevice.batteryState == UIDeviceBatteryStateCharging) {
        batteryState = [NSString stringWithFormat:@"æ­£åœ¨å……ç”µ--%.0f%%", fabs(curDevice.batteryLevel * 100)];
    }else if (curDevice.batteryState == UIDeviceBatteryStateFull){
        batteryState = [NSString stringWithFormat:@"æ»¡ç”µé‡"];
    }else{
        batteryState = [NSString stringWithFormat:@"å‰©ä½™ç”µé‡ %.0f%%", fabs(curDevice.batteryLevel * 100)];
    }
    iPhoneInfoModel *model = [[iPhoneInfoModel alloc] init];
    model.key = @"ç”µæ± :";
    model.value = batteryState;
    [self.infoArray addObject:model];
}
</code></pre>

<h4>è·å–å†…å­˜ä¿¡æ¯</h4>

<pre><code>-(void)getMemInfo{
    vm_statistics_data_t    vmStats;
    mach_msg_type_number_t  infoCount = HOST_VM_INFO_COUNT;
    kern_return_t           kernReturn = host_statistics(mach_host_self(), HOST_VM_INFO, (host_info_t)&amp;vmStats, &amp;infoCount);

    double total = 0.0;
    double avalible = 0.0;

    if (kernReturn == KERN_SUCCESS) {
        total = vm_page_size * (vmStats.free_count + vmStats.active_count + vmStats.inactive_count + vmStats.wire_count) / 1024 / 1024.0;
        avalible = (vm_page_size * vmStats.free_count) / 1024 / 1024.0;
    }
    NSString *memInfo = [NSString stringWithFormat:@"%.2fM", avalible];
    iPhoneInfoModel *model = [[iPhoneInfoModel alloc] init];
    model.key = @"å¯ç”¨å†…å­˜:";
    model.value = memInfo;
    [self.infoArray addObject:model];
}
</code></pre>

<h6>è®¾å¤‡ä¿¡æ¯æ±‡æ€»ï¼š</h6>

<pre><code>NSDictionary* infoDict =[[NSBundle mainBundle] infoDictionary];
NSString* versionNum =[infoDict objectForKey:@"CFBundleVersion"];
NSString*appName =[infoDict objectForKey:@"CFBundleDisplayName"];
NSString*text =[NSString stringWithFormat:@"%@ %@",appName,versionNum];
</code></pre>

<h6>æ‰‹æœºåºåˆ—å·</h6>

<pre><code>    NSString* identifierNumber = [[UIDevice currentDevice] uniqueIdentifier]; 
    NSLog(@"æ‰‹æœºåºåˆ—å·: %@",identifierNumber); 
</code></pre>

<h6>æ‰‹æœºåˆ«åï¼š ç”¨æˆ·å®šä¹‰çš„åç§°</h6>

<pre><code>    NSString* userPhoneName = [[UIDevice currentDevice] name]; 
    NSLog(@"æ‰‹æœºåˆ«å: %@", userPhoneName); 
</code></pre>

<h6>è®¾å¤‡åç§°</h6>

<pre><code>    NSString* deviceName = [[UIDevice currentDevice] systemName]; 
    NSLog(@"è®¾å¤‡åç§°: %@",deviceName ); 
</code></pre>

<h6>æ‰‹æœºç³»ç»Ÿç‰ˆæœ¬</h6>

<pre><code>    NSString* phoneVersion = [[UIDevice currentDevice] systemVersion]; 
    NSLog(@"æ‰‹æœºç³»ç»Ÿç‰ˆæœ¬: %@", phoneVersion); 
</code></pre>

<h6>æ‰‹æœºå‹å·</h6>

<pre><code>    NSString* phoneModel = [[UIDevice currentDevice] model]; 
    NSLog(@"æ‰‹æœºå‹å·: %@",phoneModel ); 
</code></pre>

<h6>åœ°æ–¹å‹å·  ï¼ˆå›½é™…åŒ–åŒºåŸŸåç§°ï¼‰</h6>

<pre><code>    NSString* localPhoneModel = [[UIDevice currentDevice] localizedModel]; 
    NSLog(@"å›½é™…åŒ–åŒºåŸŸåç§°: %@",localPhoneModel ); 

    NSDictionary *infoDictionary = [[NSBundle mainBundle] infoDictionary]; 
</code></pre>

<h6>å½“å‰åº”ç”¨åç§°</h6>

<pre><code>    NSString *appCurName = [infoDictionary objectForKey:@"CFBundleDisplayName"]; 
    NSLog(@"å½“å‰åº”ç”¨åç§°ï¼š%@",appCurName); 
</code></pre>

<h6>å½“å‰åº”ç”¨è½¯ä»¶ç‰ˆæœ¬  æ¯”å¦‚ï¼š1.0.1</h6>

<pre><code>    NSString *appCurVersion = [infoDictionary objectForKey:@"CFBundleShortVersionString"]; 
    NSLog(@"å½“å‰åº”ç”¨è½¯ä»¶ç‰ˆæœ¬:%@",appCurVersion); 
</code></pre>

<h6>å½“å‰åº”ç”¨ç‰ˆæœ¬å·ç    intç±»å‹</h6>

<pre><code>    NSString *appCurVersionNum = [infoDictionary objectForKey:@"CFBundleVersion"]; 
    NSLog(@"å½“å‰åº”ç”¨ç‰ˆæœ¬å·ç ï¼š%@",appCurVersionNum); 
</code></pre>

<p>å‚è€ƒæ–‡ç« ï¼š<a href="http://www.jianshu.com/p/b83b0240bd0e">http://www.jianshu.com/p/b83b0240bd0e</a></p>
</div>
  
  




| <a href="/blog/2015/12/15/kan-wo-zen-yao-na-dao-she-bei-xin-xi/#comments">æ›´å¤šè¯„è®º</a>

    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/14/ios9-plus-xcodezong-jie/">iOS9+Xcodeæ€»ç»“</a></h1>
    
    
      <p class="meta">
        








 <time if="if" updated="updated" data-updated="true" endif="endif" itemprop="datePublished dateCreated"> ordinal </time> 
        
      </p>
    
  </header>


  <div class="entry-content"><p>åˆšæ›´æ–°äº†Xcode 9 beat 2ï¼Œè¿è¡Œäº†ä¹‹å‰çš„å·¥ç¨‹ï¼Œå‘ç°äº†ä¸€äº›é—®é¢˜ï¼Œå°±é’ˆå¯¹æ€§çš„åšäº†ä¸€ä¸‹iOS9çš„é€‚é…ã€‚</p>

<h4>1ï¼Œé»˜è®¤ä½¿ç”¨HTTPSè¯·æ±‚</h4>

<p>å¦‚æœåœ¨Xcode 9ä¹‹å‰ä½¿ç”¨çš„æ—¶httpè¯·æ±‚ï¼Œé‚£ä¹ˆåœ¨XCode 9ä¸Šç¼–è¯‘çš„Appæ˜¯ä¸èƒ½è”ç½‘çš„ï¼Œä¼šæç¤ºå¦‚ä¸‹é”™è¯¯:</p>

<pre><code>App Transport Security has blocked a cleartext HTTP (http://) resource load since it is insecure. Temporary exceptions can be configured via your app's Info.plist file.
</code></pre>

<p>ä¿®æ”¹æ–¹æ³•æ˜¯è¦ä¹ˆä½¿æœåŠ¡å™¨æ”¯æŒhttpsè®¿é—®ï¼Œè¦ä¹ˆå…³é—­httpsçš„ä½¿ç”¨ã€‚ç¬¬ä¸€ç§æ–¹æ³•å¯¹äºä¸ªäººå¼€å‘è€…æ¥è¯´ä»£ä»·è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œå› æ­¤æ¨èä½¿ç”¨åé¢ä¸€ç§æ–¹æ³•ï¼Œå…·ä½“çš„åšæ³•æ˜¯:åœ¨å·¥ç¨‹çš„Info.plistæ–‡ä»¶é‡Œæ·»åŠ NSAppTransportSecurityå­—å…¸ç±»å‹çš„ï¼Œæ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼škeyä¸ºNSAllowsArbitraryLoadsï¼Œå€¼ä¸ºYESã€‚</p>

<h4>2ï¼ŒiOS 9ä½¿ç”¨URL schemeå¿…é¡»å°†å…¶åŠ å…¥ç™½åå•</h4>

<p>å¦åˆ™ä¼šæç¤ºç±»ä¼¼å¦‚ä¸‹é”™è¯¯:</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/12/14/ios9-plus-xcodezong-jie/">é˜…è¯»å…¨æ–‡ğŸ˜˜</a>
    </footer>
  




| <a href="/blog/2015/12/14/ios9-plus-xcodezong-jie/#comments">æ›´å¤šè¯„è®º</a>

    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/14/ios9xin-te-xing-wkwebview/">iOS9-WKWebView+SFSafariViewController</a></h1>
    
    
      <p class="meta">
        








 <time if="if" updated="updated" data-updated="true" endif="endif" itemprop="datePublished dateCreated"> ordinal </time> 
        
      </p>
    
  </header>


  <div class="entry-content"><h2>ä¸€ï¼šWKWebViewç®€å•ä»‹ç»</h2>

<p>webkitä½¿ç”¨WKWebViewæ¥ä»£æ›¿IOSçš„UIWebViewå’ŒOSXçš„WebViewï¼Œå¹¶ä¸”ä½¿ç”¨Nitro JavaScriptå¼•æ“ï¼Œè¿™æ„å‘³ç€æ‰€æœ‰ç¬¬ä¸‰æ–¹æµè§ˆå™¨è¿è¡ŒJavaScriptå°†ä¼šè·Ÿsafariä¸€æ ·å¿«ã€‚</p>

<p>å…ˆæ¥çœ‹çœ‹WKWebViewå’ŒUIWebViewæœ‰ä»€ä¹ˆåŒºåˆ«ï¼š</p>

<h6>UIWebViewï¼š</h6>

<ul>
<li>å§‹ç¥–çº§åˆ«ï¼Œæ”¯æŒçš„iOSç‰ˆæœ¬æ¯”è¾ƒå¤š</li>
<li>å¯æ”¯æŒæ‰“å¼€URLï¼ŒåŒ…æ‹¬å„ç§URLæ¨¡å¼ï¼Œä¾‹å¦‚ Httpsï¼ŒFTPç­‰</li>
<li>å¯æ”¯æŒæ‰“å¼€å„ç§ä¸åŒæ–‡ä»¶æ ¼å¼ï¼Œä¾‹å¦‚ txtï¼Œdocxï¼Œppt,ï¼ŒéŸ³è§†é¢‘æ–‡ä»¶ç­‰ï¼Œå¾ˆå¤šæ–‡æ¡£é˜…è¯»å™¨ä¼šç»å¸¸ä½¿ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥æŸ¥ä¸€ä¸‹Appleçš„æ–‡æ¡£ï¼Œæ”¯æŒçš„æ ¼å¼è¿˜æ˜¯æŒºå¤šï¼Œåªæ˜¯ä¸åŒiOS ç‰ˆæœ¬çš„æ”¯æŒç¨‹åº¦ä¸å¤ªä¸€æ ·ï¼Œä½¿ç”¨æ—¶è¯·å¤šç•™æ„æµ‹è¯•ç¡®è®¤~</li>
<li>å ç”¨å†…å­˜æ¯”è¾ƒå¤šï¼Œå°¤å…¶æ˜¯ç½‘é¡µä¸­åŒ…å«æ¯”è¾ƒå¤šCSS+DIVä¹‹ç±»å†…å®¹æ—¶ï¼Œå¾ˆå®¹æ˜“å‡ºç°å†…å­˜è­¦å‘Šï¼ˆMemory Warningï¼‰</li>
<li>æ•ˆç‡ä½ï¼Œä¸çµæ´»ï¼Œå°¤å…¶æ˜¯å’Œ JavaScriptäº¤äº’æ—¶</li>
<li>æ— æ³•æ¸…é™¤æœ¬åœ°å­˜å‚¨æ•°æ®ï¼ˆLocal Storageï¼‰</li>
<li>ä»£ç†ï¼ˆdelegateï¼‰ä¹‹é—´çš„å›è°ƒæ¯”è¾ƒéº»çƒ¦ï¼Œæä¾›çš„å†…å®¹æ¯”è¾ƒä½çº§ï¼Œå°¤å…¶æ˜¯UIéƒ¨åˆ†ã€‚å¦‚æœæƒ³è‡ªå·±å®šåˆ¶ä¸€ä¸ªç±»ä¼¼ Safari çš„å†…åµŒæµè§ˆå™¨ï¼ˆBrowserï¼‰ï¼Œé‚£å°±å‘çˆ¹æ— æé™äº†ï¼Œä¾‹å¦‚æˆ‘ä»¬PDF Readerç³»åˆ—ä¸­çš„å†…åµŒBrowserï¼Œè‡ªå·±* æ‰‹åŠ¨æ¨¡æ‹Ÿå®ç°Tabåˆ‡æ¢ï¼Œåº•éƒ¨ToolåŠå„ç§Menuç­‰ï¼Œè¯´å¤šäº†éƒ½æ˜¯æ³ª~~</li>
</ul>


<h6>WKWebViewï¼š</h6>

<ul>
<li>iOS 8å¼•å…¥çš„ï¼Œæ¯”è¾ƒå¹´è½»</li>
<li>åœ¨å†…å­˜å’Œæ‰§è¡Œæ•ˆç‡ä¸Šè¦æ¯”UIWebViewé«˜å¾ˆå¤š</li>
<li>å¼€æ”¾åº¦è¾ƒé«˜ä½†æ®è¯´Bugæˆå¨</li>
<li>ç±»ä¼¼UIWebViewï¼ŒUIå®šåˆ¶æ¯”è¾ƒéº»çƒ¦Â·Â·Â·</li>
<li>æ²¡å…·ä½“æµ‹è¯•ä½¿ç”¨è¿‡ï¼Œå°±ä¸ç»§ç»­åˆ—ä¸¾äº† L~</li>
</ul>


</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/12/14/ios9xin-te-xing-wkwebview/">é˜…è¯»å…¨æ–‡ğŸ˜˜</a>
    </footer>
  




| <a href="/blog/2015/12/14/ios9xin-te-xing-wkwebview/#comments">æ›´å¤šè¯„è®º</a>

    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/14/ios9-unit-test/">iOS9-Unit Test</a></h1>
    
    
      <p class="meta">
        








 <time if="if" updated="updated" data-updated="true" endif="endif" itemprop="datePublished dateCreated"> ordinal </time> 
        
      </p>
    
  </header>


  <div class="entry-content"><p> XCode7(iOS9)ä¸­æ–°å¢äº†è·Ÿå¤šç‰¹æ€§ï¼ŒåŒ…æ‹¬ï¼š</p>

<ul>
<li>WKWebView+SFSafariViewController</li>
<li>UI Test</li>
<li>Multitasking</li>
<li>watchOS 2</li>
<li>Swift 2</li>
<li>App Thinning</li>
<li>äººå·¥æ™ºèƒ½å’Œæœç´¢ API</li>
<li>HomeKitï¼ŒCloudKitï¼ŒHealthKit ç­‰ç­‰æ‚ä¸ƒæ‚å…«çš„æ¡†æ¶</li>
</ul>


<p> å‰é¢çš„æ–‡ç« ä¸­æˆ‘ä»¬å·²ç»å°†WKWebView+SFSafariViewControllerå®Œæ•´çš„ä»‹ç»äº†ä¸€éï¼Œç°åœ¨æˆ‘ä»¬å°±å¼€å§‹ç€æ‰‹æ¢ç©¶ä¸€ä¸‹å•å…ƒæµ‹è¯•ï¼ˆåé¢çš„æ–‡ç« ä¸­æˆ‘å°†ä¼šé›†ä¸­ä»‹ç»ä¸€ä¸‹å¸¸ç”¨åŠŸèƒ½æ–°ç‰¹æ€§ï¼‰ï¼Œæ•¬è¯·å…³æ³¨ï¼š<a href="http://al1020119.github.io/">iOSæ¢¦å·¥å‚</a></p>

<h3>UI Testsæ˜¯ä»€ä¹ˆï¼Ÿ</h3>

<p>UI Testsæ˜¯ä¸€ä¸ªè‡ªåŠ¨æµ‹è¯•UIä¸äº¤äº’çš„Testingç»„ä»¶</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/12/14/ios9-unit-test/">é˜…è¯»å…¨æ–‡ğŸ˜˜</a>
    </footer>
  




| <a href="/blog/2015/12/14/ios9-unit-test/#comments">æ›´å¤šè¯„è®º</a>

    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/13/yi-dong-duan-xing-neng-you-hua/">ç§»åŠ¨ç«¯æ€§èƒ½ä¼˜åŒ–</a></h1>
    
    
      <p class="meta">
        








 <time if="if" updated="updated" data-updated="true" endif="endif" itemprop="datePublished dateCreated"> ordinal </time> 
        
      </p>
    
  </header>


  <div class="entry-content"><p>ä¹‹å‰å†™è¿‡ä¸€ç¯‡</p>

<p><a href="http://al1020119.github.io/blog/2015/03/02/uitableviewxing-neng-you-hua-yu-qia-dun-wen-ti/">UItableViewæ€§èƒ½ä¼˜åŒ–å’Œå¡é¡¿é—®é¢˜</a></p>

<p>è¿˜æœ‰ä¸€ç¯‡</p>

<p><a href="http://al1020119.github.io/blog/2015/11/16/appqia-dun-liao-zen-yao-ban-%3F/">Appå¡é¡¿äº†æ€ä¹ˆåŠ</a></p>

<p>ä»Šå¤©çœ‹åˆ°ä¸€ç¯‡æ€»ç»“çš„éå¸¸å¥½çš„æ–‡ç« ï¼ˆ<a href="http://tgideas.qq.com/webplat/info/news_version3/804/808/811/m579/201412/293834.shtml">ç§»åŠ¨ç«¯æ€§èƒ½ä¼˜åŒ–</a>ï¼‰ï¼Œå°±ç§»è¿‡æ¥ï¼ŒåæœŸæˆ‘ä¹Ÿä¼šæ ¹æ®è‡ªå·±æ‰€åšçš„é¡¹ç›®åšä¸€ä¸ªå¼€å‘ä¸­æ€§èƒ½ä¼˜åŒ–çš„æ€»ç»“ï¼Œå¸Œæœ›ä½ ä»¬å–œæ¬¢ï¼</p>

<p>éšç€ç§»åŠ¨äº’è”ç½‘çš„å‘å±•ï¼Œæˆ‘ä»¬è¶Šå‘è¦å…³æ³¨ç§»åŠ¨é¡µé¢çš„æ€§èƒ½ä¼˜åŒ–ï¼Œä»Šå¤©è·Ÿå¤§å®¶è°ˆè°ˆè¿™æ–¹é¢çš„äº‹æƒ…ã€‚</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/12/13/yi-dong-duan-xing-neng-you-hua/">é˜…è¯»å…¨æ–‡ğŸ˜˜</a>
    </footer>
  




| <a href="/blog/2015/12/13/yi-dong-duan-xing-neng-you-hua/#comments">æ›´å¤šè¯„è®º</a>

    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/13/nsproxy-and-nsobjectchu-tan/">NSProxy&amp;NSObjectåˆæ¢</a></h1>
    
    
      <p class="meta">
        








 <time if="if" updated="updated" data-updated="true" endif="endif" itemprop="datePublished dateCreated"> ordinal </time> 
        
      </p>
    
  </header>


  <div class="entry-content"><p>NSObjectç±»å±äºæ ¹ç±»ã€‚æ ¹ç±»åœ¨å±‚çº§ç»“æ„ä¸­å¤„äºæœ€é«˜çº§ï¼Œä¹Ÿå°±æ˜¯è¯´é™¤æ­¤ä»¥å¤–æ²¡æœ‰æ›´é«˜å±‚çº§ã€‚è€Œä¸”Objective-cä¸­è¿˜æœ‰å…¶ä»–æ ¹ç±»ï¼Œä¸åƒJavaé‡Œåªæœ‰ä¸€ä¸ªjava.lang.Objectæ ¹ç±»ï¼Œå…¶ä»–æ‰€æœ‰çš„ç±»éƒ½ç›´æ¥æˆ–é—´æ¥çš„ç»§æ‰¿äºå®ƒã€‚å› æ­¤ï¼Œ</p>

<p>Javaä»£ç å¯ä»¥ä¾æ®ä»»ä½•å¯¹è±¡æ¥å®ç°å®ƒçš„åŸºæœ¬æ–¹æ³•ã€‚Cocoaæœ‰å¤šä¸ªæ ¹ç±»ï¼Œé™¤äº†NSObjectè¿˜æœ‰NSProxyç­‰å…¶ä»–ç­‰çº§çš„æ ¹ç±»ã€‚è¿™åªæ˜¯éƒ¨åˆ†åŸå› ï¼ŒNSObjectåè®®å®šä¹‰äº†ä¸€å¥—æ‰€æœ‰çš„æ ¹ç±»éƒ½å¯ä»¥å®ç°çš„åŸºç¡€æ–¹æ³•ï¼Œè¿™æ ·åœ¨ç¼–ç æ—¶å°±å®¹æ˜“æ‰¾åˆ°äº†ã€‚</p>

<p>NSObjectç±»éµå¾ªNSObjectåè®®ï¼Œè¿™å°±æ˜¯è¯´ï¼ŒNSObjectç±»å®ç°äº†ä¸‹é¢è¿™äº›åŸºç¡€æ–¹æ³•ï¼š</p>

<pre><code>@interface NSObject  
</code></pre>

<p>NSProxyåŒæ ·éµå¾ªNSObjectåè®®ï¼š</p>

<pre><code>@interface NSProxy      
</code></pre>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/12/13/nsproxy-and-nsobjectchu-tan/">é˜…è¯»å…¨æ–‡ğŸ˜˜</a>
    </footer>
  




| <a href="/blog/2015/12/13/nsproxy-and-nsobjectchu-tan/#comments">æ›´å¤šè¯„è®º</a>

    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/12/an-quan-ji-zhi/">å®‰å…¨æœºåˆ¶</a></h1>
    
    
      <p class="meta">
        








 <time if="if" updated="updated" data-updated="true" endif="endif" itemprop="datePublished dateCreated"> ordinal </time> 
        
      </p>
    
  </header>


  <div class="entry-content"><p>å…³äºå®‰å…¨æœºåˆ¶ï¼Œä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜å¿…é¡»è¦æ—¶åˆ»è®°ä½çš„ï¼Œä¸ç„¶ä½ çš„appä¸ä»…æ²¡æœ‰äººç”¨ï¼Œè¿˜ä¼šè¢«ä¸¾æŠ¥ç”šè‡³æ›´åŠ ä¸¥é‡ï¼Œæ‰€ä»¥è¿™é‡Œå¤§æ¦‚çš„æ€»ç»“äº†ä¸€ä¸‹ã€‚</p>

<ul>
<li>è‹¹æœå®‰å…¨æœºåˆ¶</li>
<li>ioså¼€å‘å®‰å…¨å¤„ç†</li>
</ul>


</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/12/12/an-quan-ji-zhi/">é˜…è¯»å…¨æ–‡ğŸ˜˜</a>
    </footer>
  




| <a href="/blog/2015/12/12/an-quan-ji-zhi/#comments">æ›´å¤šè¯„è®º</a>

    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/12/keychainchu-tan/">KeyChainåˆæ¢</a></h1>
    
    
      <p class="meta">
        








 <time if="if" updated="updated" data-updated="true" endif="endif" itemprop="datePublished dateCreated"> ordinal </time> 
        
      </p>
    
  </header>


  <div class="entry-content"><p>iOSçš„keychainæœåŠ¡æä¾›äº†ä¸€ç§å®‰å…¨çš„ä¿å­˜ç§å¯†ä¿¡æ¯ï¼ˆå¯†ç ï¼Œåºåˆ—å·ï¼Œè¯ä¹¦ç­‰ï¼‰çš„æ–¹å¼ï¼Œæ¯ä¸ªiosç¨‹åºéƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„keychainå­˜å‚¨ã€‚ç›¸å¯¹äºNSUserDefaultsã€æ–‡ä»¶ä¿å­˜ç­‰ä¸€èˆ¬æ–¹å¼ï¼Œkeychainä¿å­˜æ›´ä¸ºå®‰å…¨ï¼Œè€Œä¸”keychainé‡Œä¿å­˜çš„ä¿¡æ¯ä¸ä¼šå› Appè¢«åˆ é™¤è€Œä¸¢å¤±ï¼Œæ‰€ä»¥åœ¨é‡è£…Appåï¼Œkeychainé‡Œçš„æ•°æ®è¿˜èƒ½ä½¿ç”¨ã€‚</p>

<blockquote><p>â€œyourAppID.com.yourCompany.whateverâ€å°±æ˜¯ä½ è¦èµ·çš„å…¬å…±åŒºåç§°ï¼Œé™¤äº†whateverå­—æ®µå¯ä»¥éšä¾¿å®šä¹‹å¤–ï¼Œå…¶ä»–çš„éƒ½å¿…é¡»å¦‚å®å¡«å†™ã€‚è¿™ä¸ªæ–‡ä»¶çš„è·¯å¾„è¦é…ç½®åœ¨ Project->build setting->Code Signing Entitlementsé‡Œï¼Œå¦åˆ™å…¬å…±åŒºæ— æ•ˆï¼Œé…ç½®å¥½åï¼Œé¡»ç”¨ä½ æ­£å¼çš„è¯ä¹¦ç­¾åç¼–è¯‘æ‰å¯é€šè¿‡ï¼Œå¦åˆ™xcodeä¼šå¼¹æ¡†å‘Šè¯‰ä½ code signingæœ‰é—®é¢˜ã€‚æ‰€ä»¥ï¼Œè‹¹æœé™åˆ¶äº†ä½ åªèƒ½åŒå…¬å¸çš„äº§å“å…±äº«KeyChainæ•°æ®ï¼Œåˆ«çš„å…¬å¸è®¿é—®ä¸äº†ä½ å…¬å¸äº§å“çš„KeyChainã€‚</p></blockquote>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/12/12/keychainchu-tan/">é˜…è¯»å…¨æ–‡ğŸ˜˜</a>
    </footer>
  




| <a href="/blog/2015/12/12/keychainchu-tan/#comments">æ›´å¤šè¯„è®º</a>

    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
    <h1>æ–‡ç« åˆ†ç±»</h1>
    <ul id="categories">
        <li class='category'><a href='/blog/categories/å…¨æ ˆå·¥ç¨‹å¸ˆå¿…å¤‡/'>å…¨æ ˆå·¥ç¨‹å¸ˆå¿…å¤‡ (2)</a></li>
<li class='category'><a href='/blog/categories/åº•å±‚å¼€å‘/'>åº•å±‚å¼€å‘ (5)</a></li>
<li class='category'><a href='/blog/categories/å¼€å‘å·¥å…·/'>å¼€å‘å·¥å…· (2)</a></li>
<li class='category'><a href='/blog/categories/æ€§èƒ½ç›¸å…³/'>æ€§èƒ½ç›¸å…³ (7)</a></li>
<li class='category'><a href='/blog/categories/æ€§èƒ½é—®é¢˜/'>æ€§èƒ½é—®é¢˜ (5)</a></li>
<li class='category'><a href='/blog/categories/æ–°æŠ€æœ¯/'>æ–°æŠ€æœ¯ (5)</a></li>
<li class='category'><a href='/blog/categories/æ¬¢è¿æ¥åˆ°iosæ¢¦å·¥å‚/'>æ¬¢è¿æ¥åˆ°iosæ¢¦å·¥å‚ (1)</a></li>
<li class='category'><a href='/blog/categories/ç¨‹åºå‘˜å¿…å¤‡/'>ç¨‹åºå‘˜å¿…å¤‡ (7)</a></li>
<li class='category'><a href='/blog/categories/ç³»ç»Ÿç›¸å…³/'>ç³»ç»Ÿç›¸å…³ (1)</a></li>
<li class='category'><a href='/blog/categories/é€‚é…é—®é¢˜/'>é€‚é…é—®é¢˜ (1)</a></li>
<li class='category'><a href='/blog/categories/é¢è¯•æ€»ç»“-æŠ€æœ¯/'>é¢è¯•æ€»ç»“ï¼‹æŠ€æœ¯ (1)</a></li>
<li class='category'><a href='/blog/categories/é¢è¯•æ±‡æ€»/'>é¢è¯•æ±‡æ€» (1)</a></li>
<li class='category'><a href='/blog/categories/é¡¹ç›®å®æˆ˜/'>é¡¹ç›®å®æˆ˜ (19)</a></li>
<li class='category'><a href='/blog/categories/é«˜çº§å¼€å‘/'>é«˜çº§å¼€å‘ (28)</a></li>

    </ul>
</section><section>
  <h1>æœ€æ–°æ–‡ç« </h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/12/15/xiang-ce-shen-jiu/">ç›¸å†Œæ·±ç©¶</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/12/15/ios9-corespotlight/">iOS9-CoreSpotlight</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/12/15/kan-wo-zen-yao-na-dao-she-bei-xin-xi/">çœ‹æˆ‘æ€ä¹ˆæ‹¿åˆ°è®¾å¤‡ä¿¡æ¯</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/12/14/ios9-plus-xcodezong-jie/">iOS9+Xcodeæ€»ç»“</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/12/14/ios9xin-te-xing-wkwebview/">iOS9-WKWebView+SFSafariViewController</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/al1020119">@al1020119</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'al1020119',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>




<section>
<h1>æ‰«ä¸€æ‰«<abbr title="The word 'æ‰«ä¸€æ‰«' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'æ‰«ä¸€æ‰«', not for image.">&trade;</abbr></h1>
<a href="http://al1020119.github.io/index.html"><img src="http://chart.apis.google.com/chart?chs=150x150&cht=qr&chld=|0&chco=165B94&chl=http://al1020119.github.io/index.html" alt="post-qrcode"></a></section>
<section>
    <h1>è®¿å®¢ç»Ÿè®¡</h1>
    <br/>
    <a href="http://s07.flagcounter.com/more/2SH"><img src="http://s07.flagcounter.com/count/2SH/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_1/flags_0/" alt="Flag Counter" border="0"></a>
</section><section>
    <h1>æ–°æµªå¾®åš</h1>
    <ul id="weibo">
        <li>
            
            <!-- åœ¨æ­¤æ’å…¥è·å¾—çš„å¾®åšç§€ä»£ç  -->
            <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=3288975567&verifier=20ffcedd&dpc=1"></iframe>
            
        </li>
    </ul>
</section>
  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - iCocos -
<span class="credit">Preview in <a href="http://al1020119.github.io">[æ›¹#é»]</a></span>
</p>

</footer>
  






<!--
--->



</body>
</html>
